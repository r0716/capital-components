import { createPortal as a } from "../../external/preact/compat/dist/compat.module.js";
import { useState as i, useMemo as m } from "../../external/preact/hooks/dist/hooks.module.js";
import f from "../useReflex.js";
const p = (r, o) => {
  const [t, s] = i(), d = f(
    m(() => {
      const u = (e) => (...c) => {
        const n = r(e, ...c);
        return n && a(n, e);
      };
      return s(void 0), (e) => s(e instanceof Element ? () => u(e) : void 0);
    }, [r, o]),
    o
  );
  return [t, d];
}, v = p;
export {
  v as default
};
