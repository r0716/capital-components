import { jsx as e } from "../../../../../external/preact/jsx-runtime/dist/jsxRuntime.module.js";
import { BaseList as h } from "../../../../internal/BaseList/BaseList.js";
import { GrantItem as v } from "../GrantItem/GrantItem.js";
import b from "../../../../../core/Context/useCoreContext.js";
import { useMemo as o } from "../../../../../external/preact/hooks/dist/hooks.module.js";
import g from "../../../../internal/Button/Button.js";
import { ButtonVariant as y } from "../../../../internal/Button/types.js";
import N from "../../../../internal/Tabs/Tabs.js";
import { CapitalHeader as G } from "../../../../internal/CapitalHeader/CapitalHeader.js";
const l = ({ grants: t }) => /* @__PURE__ */ e(h, { classNames: "adyen-pe-grant-list__items", children: t.map((a) => /* @__PURE__ */ e("li", { children: /* @__PURE__ */ e(v, { grant: a }) }, a.id)) }), D = ({ grantList: t, hideTitle: a, newOfferAvailable: c, onNewOfferRequest: d }) => {
  const { i18n: u } = b(), [n, r] = o(() => {
    const i = [], p = [];
    return t == null || t.forEach((s) => {
      s.status === "Active" || s.status === "Pending" ? i.push(s) : p.push(s);
    }), [i, p];
  }, [t]), m = o(() => t.length > 1 && n.length && r.length ? "Tabs" : "SingleGrant", [n.length, t.length, r.length]), f = o(() => c && !n.some((i) => i.status === "Pending"), [n, c]);
  return /* @__PURE__ */ e("div", { className: "adyen-pe-grant-list", children: [
    /* @__PURE__ */ e("div", { className: "adyen-pe-grant-list__header-container", children: [
      /* @__PURE__ */ e(G, { hideTitle: a, titleKey: "capital.businessFinancing" }),
      f ? /* @__PURE__ */ e(g, { onClick: d, className: "adyen-pe-grant-list__offer-button", variant: y.SECONDARY, children: u.get("capital.seeNewOffer") }) : null
    ] }),
    m === "SingleGrant" && /* @__PURE__ */ e(l, { grants: t }),
    m === "Tabs" && /* @__PURE__ */ e(
      N,
      {
        tabs: [
          {
            label: "capital.inProgress",
            content: /* @__PURE__ */ e(l, { grants: n }),
            id: "active"
          },
          {
            label: "capital.closed",
            content: /* @__PURE__ */ e(l, { grants: r }),
            id: "inactive"
          }
        ],
        defaultActiveTab: "active"
      }
    )
  ] });
};
export {
  D as GrantsDisplay
};
