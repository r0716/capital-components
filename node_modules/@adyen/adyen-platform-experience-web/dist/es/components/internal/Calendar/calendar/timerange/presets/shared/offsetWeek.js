import p from "../../factory.js";
import { offsetsForNDays as D, getRangeTimestampsContextIntegerPropertyFactory as y, nowTimestamp as F } from "../../utils.js";
import { startOfWeek as W } from "../../../utils.js";
import { clamp as g } from "../../../../../../../utils/value/number.js";
const r = 1, k = D(7), E = y(0, 6, r), T = (s = 0) => {
  const e = ~~g(0, s, 1 / 0) || 0;
  return (n = r) => {
    const a = e ? { offsets: k } : { to: F }, o = E(n);
    return p(
      {
        from: ({ now: f, timezone: m, systemToTimezone: c, timezoneToSystem: i }) => {
          const t = new Date(i(W(f, m, o.value)));
          return t.setDate(t.getDate() - e * 7), c(t);
        },
        ...a
      },
      { firstWeekDay: o.descriptor }
    )();
  };
}, d = T;
export {
  r as DEFAULT_FIRST_WEEK_DAY,
  k as ONE_WEEK_OFFSETS,
  d as default
};
