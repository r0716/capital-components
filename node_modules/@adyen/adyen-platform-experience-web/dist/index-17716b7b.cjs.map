{"version":3,"file":"index-17716b7b.cjs","sources":["../src/core/utils.ts","../src/utils/common.ts","../src/utils/value/is.ts","../src/utils/value/number.ts","../src/utils/abort/constants.ts","../src/utils/value/bool.ts","../src/utils/struct/property.ts","../src/utils/value/compare.ts","../src/utils/abort/internals.ts","../src/utils/abort/main.ts","../src/utils/value/constants.ts","../src/utils/async/constants.ts","../src/utils/async/main.ts","../src/utils/collection/main.ts","../src/utils/datetime/main.ts","../src/utils/random/uniqueId.ts","../src/utils/random/uuid.ts","../src/utils/struct/main.ts","../src/utils/value/string.ts","../src/core/Auth/session/constants.ts","../src/core/Errors/AdyenPlatformExperienceError.ts","../src/core/Http/utils.ts","../src/primitives/async/abortable/main.ts","../src/primitives/async/deferred/main.ts","../src/primitives/async/promisor/main.ts","../src/core/Auth/session/AuthSetupContext.ts","../src/primitives/context/session/constants.ts","../src/primitives/context/session/internal/constants.ts","../src/primitives/context/session/internal/autofresher.ts","../src/primitives/time/interval/constants.ts","../src/primitives/time/interval/main.ts","../src/primitives/reactive/watchlist/helpers.ts","../src/primitives/reactive/watchlist/constants.ts","../src/primitives/reactive/watchlist/main.ts","../src/primitives/time/clock/main.ts","../src/primitives/reactive/eventEmitter/main.ts","../src/primitives/context/session/internal/deadline.ts","../src/primitives/context/session/internal/refresher.ts","../src/primitives/context/session/SessionContext.ts","../src/core/Http/constants.ts","../src/core/Http/http.ts","../src/core/Auth/session/AuthSessionSpecification.ts","../src/primitives/auxiliary/errorContainer/main.ts","../src/core/Auth/session/AuthSession.ts","../src/translations/index.ts","../src/core/Localization/constants/localization.ts","../src/core/Localization/constants/currency-codes.ts","../src/core/Localization/constants/currency-decimals.ts","../src/core/Localization/amount/amount-util.ts","../src/core/Localization/datetime/restamper/constants.ts","../src/core/Localization/datetime/restamper/utils.ts","../src/core/Localization/datetime/restamper/restamper.ts","../src/core/Localization/utils.ts","../src/core/Localization/localization-utils.ts","../src/core/Localization/Localization.ts","../src/core/core.ts","../node_modules/preact/dist/preact.module.js","../node_modules/preact/jsx-runtime/dist/jsxRuntime.module.js","../node_modules/preact/hooks/dist/hooks.module.js","../src/components/internal/Typography/constants.ts","../src/components/internal/Typography/types.ts","../node_modules/preact/compat/dist/compat.module.js","../src/components/internal/Typography/Typography.tsx","../src/core/Context/CoreContext.ts","../src/core/Context/useCoreContext.ts","../src/images/no-results.svg","../src/utils/preact/fixedForwardRef.ts","../src/utils/preact/memoComparator/main.ts","../src/utils/preact/className.ts","../src/utils/preact/props.ts","../src/components/internal/Button/hooks/useButton.ts","../src/components/internal/Button/constants.ts","../src/components/internal/Button/types.ts","../src/components/internal/Spinner/Spinner.tsx","../src/components/internal/Button/Button.tsx","../src/components/internal/ErrorMessageDisplay/ErrorMessageDisplay.tsx","../src/core/Auth/session/utils/sessionAwareComponentAvailability/helpers/componentAvailabilityRegistry.ts","../src/core/Auth/session/utils/sessionReady.ts","../src/core/Auth/session/utils/sessionAwareComponentAvailability/sessionAwareComponentAvailability.ts","../src/core/Auth/session/utils/sessionAwareComponentAvailability/helpers/componentAvailabilityErrors.ts","../src/core/Auth/context.tsx","../src/hooks/useBooleanState.ts","../src/core/Context/CoreProvider.tsx","../src/components/external/BaseElement.ts","../src/components/external/UIElement/UIElement.tsx","../src/hooks/useFetch.ts","../src/components/internal/SVGIcons/ChevronDown.tsx","../src/components/internal/SVGIcons/ChevronUp.tsx","../src/components/internal/Accordion/constants.ts","../src/components/internal/Accordion/Accordion.tsx","../src/components/internal/Card/constants.ts","../src/components/internal/Card/Card.tsx","../src/constants/dateFormats.ts","../src/constants/index.ts","../src/components/internal/StructuredList/constants.ts","../src/components/internal/StructuredList/useStructuredListItem.ts","../src/components/internal/StructuredList/StructuredList.tsx","../src/components/internal/DataOverviewDetails/constants.ts","../src/components/internal/DataOverviewDetails/DataOverviewDetailsSkeleton.tsx","../src/hooks/useTimezoneAwareDateFormatting.ts","../src/components/external/PayoutDetails/components/constants.ts","../src/components/external/PayoutDetails/components/PayoutData.tsx","../src/components/internal/Icon/Icon.tsx","../src/components/internal/Alert/types.ts","../src/components/internal/Alert/AlertIcon.tsx","../src/components/internal/Alert/Alert.tsx","../src/components/internal/Button/ButtonActions/types.ts","../src/components/internal/Button/ButtonActions/ButtonActions.tsx","../src/components/external/TransactionDetails/context/types.ts","../src/components/external/TransactionDetails/context/details/context.tsx","../src/components/external/TransactionDetails/context/constants.ts","../src/components/external/TransactionDetails/context/refund/hooks/useRefundAction.tsx","../src/components/external/TransactionDetails/context/refund/hooks/useRefundContextActions.ts","../src/components/external/TransactionDetails/context/refund/hooks/useRefundContextAmount.ts","../src/components/external/TransactionDetails/context/refund/helpers.ts","../src/components/external/TransactionDetails/context/refund/hooks/useRefundContextLineItems.ts","../src/components/external/TransactionDetails/context/refund/hooks/useRefundContextReason.ts","../src/hooks/useMutation/useMutation.ts","../src/components/external/TransactionDetails/context/refund/context.tsx","../src/components/external/TransactionDetails/hooks/useTransaction/transactionNavigator/createDuplexTransactionNavigator.ts","../src/components/external/TransactionDetails/hooks/useTransaction/useTransaction.ts","../src/components/external/TransactionDetails/hooks/useTransactionRefundMetadata/helpers.ts","../src/components/external/TransactionDetails/hooks/useTransactionRefundMetadata/useTransactionRefundMetadata.ts","../src/hooks/useMediaQuery.ts","../src/hooks/useResponsiveViewport.ts","../src/components/internal/Popover/constants.ts","../src/components/internal/Popover/PopoverDismissButton/PopoverDismissButton.tsx","../src/components/internal/Popover/PopoverTitle/PopoverTitle.tsx","../src/components/internal/Popover/types.ts","../src/components/types.ts","../src/components/internal/Popover/utils/popoverUtil.ts","../src/primitives/reactive/reflex/constants.ts","../src/primitives/reactive/reflex/errors.ts","../src/primitives/reactive/reflex/helpers.ts","../src/primitives/reactive/reflex/register.ts","../src/primitives/reactive/reflex/main.ts","../src/hooks/useReflex.ts","../src/hooks/element/useClickOutside.ts","../src/primitives/dom/tabbableRoot/tabbable.ts","../src/hooks/element/useFocusTrap.ts","../src/components/internal/Popover/utils/utils.ts","../src/hooks/element/usePopoverPositioner.ts","../src/hooks/element/useUniqueIdentifier.ts","../src/components/internal/Popover/Popover.tsx","../src/components/internal/Tooltip/useTooltipListeners.ts","../src/components/internal/Tooltip/Tooltip.tsx","../src/components/external/TransactionsOverview/components/Category/Category.tsx","../src/components/utils/getCommonErrorCode.ts","../src/components/internal/CopyText/CopyText.tsx","../src/components/utils/getErrorMessage.tsx","../src/components/internal/DataOverviewError/DataOverviewError.tsx","../src/components/internal/DataGrid/hooks/useDataGridContext.ts","../src/components/internal/DataGrid/types.ts","../src/components/internal/DataGrid/DataGridCell.tsx","../src/components/internal/DataGrid/components/Icon.tsx","../src/components/internal/DataGrid/components/TableCells.tsx","../src/components/internal/DataGrid/components/TableBody.tsx","../src/components/internal/DataGrid/hooks/useInteractiveDataGrid.ts","../src/components/internal/DataGrid/components/InteractiveBody.tsx","../src/components/internal/DataGrid/components/SkeletonBody.tsx","../src/images/no-data-female.svg","../src/components/internal/DataGrid/utils/DataGridProvider.tsx","../src/components/internal/DataGrid/components/TableHeaderCell.tsx","../src/components/internal/DataGrid/DataGrid.tsx","../src/core/Errors/constants.ts","../src/hooks/useCommitAction/types.ts","../src/hooks/useCommitAction/useCommitAction.ts","../src/components/internal/Img/Img.tsx","../src/components/internal/FormFields/Select/constants.ts","../src/components/internal/FormFields/Select/components/SelectButton.tsx","../src/components/internal/SVGIcons/CheckedBox.tsx","../src/components/internal/SVGIcons/UncheckedBox.tsx","../src/components/internal/SVGIcons/Checkmark.tsx","../src/components/internal/FormFields/Select/components/SelectListItem.tsx","../src/components/internal/FormFields/Select/components/SelectList.tsx","../src/components/internal/FormFields/Select/hooks/useSelect.ts","../src/components/internal/FormFields/Select/Select.tsx","../src/components/internal/SVGIcons/ChevronLeft.tsx","../src/components/internal/SVGIcons/ChevronRight.tsx","../src/components/internal/Pagination/Pagination.tsx","../src/components/external/TransactionsOverview/components/TransactionsTable/constants.ts","../src/hooks/useImageUrl.ts","../src/components/internal/Image/Image.tsx","../src/components/internal/Tag/types.ts","../src/components/internal/Tag/Tag.tsx","../src/components/external/TransactionsOverview/components/utils.ts","../src/components/external/TransactionsOverview/components/TransactionsTable/PaymentMethodCell.tsx","../src/components/utils/getLabel.ts","../src/hooks/useTableColumns.ts","../src/components/external/TransactionsOverview/components/TransactionsTable/TransactionsTable.tsx","../src/components/external/TransactionDetails/components/constants.ts","../src/components/external/TransactionDetails/components/details/TransactionDataProperties.tsx","../src/components/external/TransactionDetails/components/details/TransactionDetailsDataContainer.tsx","../src/components/external/TransactionDetails/components/utils.ts","../src/components/external/TransactionDetails/components/details/TransactionStatusBox.tsx","../src/components/internal/SVGIcons/CloseCircle.tsx","../src/components/internal/FormFields/InputBase.tsx","../src/components/external/TransactionDetails/components/refund/TransactionRefundAmount.tsx","../src/components/external/TransactionDetails/components/refund/TransactionRefundNotice.tsx","../src/components/external/TransactionDetails/components/refund/TransactionRefundReason.tsx","../src/components/external/TransactionDetails/components/TransactionData/TransactionDataContent.tsx","../src/components/external/TransactionDetails/components/TransactionData/TransactionData.tsx","../src/hooks/useBalanceAccounts.ts","../src/components/internal/Modal/Modal.tsx","../src/components/internal/DataOverviewDetails/useDataOverviewDetailsTitle.ts","../src/components/internal/DataOverviewDetails/DataOverviewDetails.tsx","../src/components/external/PayoutDetails/PayoutDetails.tsx","../src/components/internal/DataOverviewContainer/constants.ts","../src/components/internal/DataOverviewContainer/DataOverviewContainer.tsx","../src/components/external/PayoutsOverview/components/PayoutsOverview/constants.ts","../src/components/external/PayoutsOverview/components/PayoutsTable/constants.ts","../src/components/external/PayoutsOverview/components/PayoutsTable/PayoutsTable.tsx","../src/components/internal/FilterBar/FilterBar.tsx","../src/components/internal/FormFields/Select/BalanceAccountSelector/BalanceAccountSelector.tsx","../src/components/internal/Pagination/constants.ts","../src/components/internal/Pagination/utils.ts","../src/components/internal/Pagination/hooks/usePageLimit.ts","../src/hooks/useMounted.ts","../src/components/internal/Pagination/hooks/usePagination.ts","../src/components/internal/Pagination/hooks/useCursorPagination.ts","../src/components/internal/Pagination/hooks/useOffsetPagination.ts","../src/hooks/useReactiveState/useReactiveState.ts","../src/components/internal/Pagination/hooks/usePaginatedRecordsFilters.ts","../src/components/internal/Pagination/types.ts","../src/components/internal/Pagination/hooks/usePaginatedRecords.ts","../src/components/internal/Pagination/hooks/useCursorPaginatedRecords.ts","../src/hooks/useBalanceAccountSelection.ts","../src/components/internal/Calendar/hooks/useTimezone.ts","../src/components/internal/Calendar/calendar/timerange/utils.ts","../src/components/internal/Calendar/calendar/timerange/factory.ts","../src/components/internal/Calendar/calendar/utils.ts","../src/components/internal/Calendar/calendar/timerange/presets/shared/offsetWeek.ts","../src/components/internal/Calendar/calendar/timerange/presets/shared/offsetMonth.ts","../src/components/internal/Calendar/calendar/timerange/presets/lastMonth.ts","../src/components/internal/Calendar/calendar/timerange/presets/lastNDays.ts","../src/components/internal/Calendar/calendar/timerange/presets/lastWeek.ts","../src/components/internal/Calendar/calendar/timerange/presets/thisMonth.ts","../src/components/internal/Calendar/calendar/timerange/presets/thisWeek.ts","../src/components/internal/Calendar/calendar/timerange/presets/yearToDate.ts","../src/components/internal/DatePicker/components/TimeRangeSelector/useTimeRangeSelection.ts","../src/components/internal/DatePicker/components/TimeRangeSelector/TimeRangeSelector.tsx","../src/components/internal/Calendar/components/CalendarGrid/utils.ts","../src/components/internal/Calendar/types.ts","../src/components/internal/Calendar/components/CalendarGrid/CalendarGridDate.tsx","../src/components/internal/Calendar/components/CalendarGrid/CalendarGridDayOfWeek.tsx","../src/components/internal/Calendar/components/CalendarGrid/CalendarGrid.tsx","../src/components/internal/Calendar/calendar/constants.ts","../src/components/internal/Calendar/calendar/timeframe/common/utils.ts","../src/components/internal/Calendar/calendar/timeslice/TimeSlice.ts","../src/components/internal/Calendar/calendar/timeslice/index.ts","../src/components/internal/Calendar/calendar/types.ts","../src/components/internal/Calendar/calendar/timeframe/common/flags.ts","../src/primitives/auxiliary/indexed/helpers.ts","../src/primitives/auxiliary/indexed/main.ts","../src/primitives/time/today/main.ts","../src/components/internal/Calendar/calendar/timeframe/frames/TimeFrame.ts","../src/components/internal/Calendar/calendar/timeframe/frames/MonthFrame.ts","../src/primitives/reactive/effectStack/main.ts","../src/components/internal/Calendar/calendar/facade/Calendar.ts","../src/components/internal/Calendar/calendar/facade/index.ts","../src/components/internal/Calendar/components/CalendarControls/CalendarControls.tsx","../src/hooks/element/useFocusCursor.ts","../src/components/internal/Calendar/hooks/useCalendar.ts","../src/components/internal/Calendar/Calendar.tsx","../src/hooks/element/useDetachedRender.ts","../src/components/internal/Calendar/hooks/useCalendarControlsRendering.tsx","../src/components/internal/DatePicker/DatePicker.tsx","../src/components/internal/FilterBar/components/FilterButton/FilterButton.tsx","../src/components/internal/FormFields/InputText.tsx","../src/components/internal/FilterBar/filters/BaseFilter/BaseFilter.tsx","../src/components/internal/FilterBar/filters/DateFilter/types.ts","../src/components/internal/FilterBar/filters/DateFilter/DateFilterCore.tsx","../src/components/internal/FilterBar/filters/DateFilter/DateFilter.tsx","../src/hooks/useModalDetails/types.ts","../src/hooks/useModalDetails/useModalDetails.ts","../src/components/external/TransactionsOverview/components/MultiSelectionFilter/MultiSelectionFilter.tsx","../src/components/external/TransactionsOverview/components/MultiSelectionFilter/useMultiSelectionFilter/utils.ts","../src/components/external/TransactionsOverview/components/MultiSelectionFilter/useMultiSelectionFilter/useMultiSelectionFilter.ts","../src/components/external/TransactionsOverview/components/MultiSelectionFilter/useMultiSelectionFilter/constants.ts","../src/hooks/useDefaultOverviewFilterParams.ts","../src/components/internal/DataOverviewDisplay/DataOverviewHeader/DataOverviewHeader.tsx","../src/components/internal/Modal/ModalContent/ModalContent.tsx","../src/components/internal/DataOverviewDisplay/DataDetailsModal.tsx","../src/components/external/PayoutsOverview/components/PayoutsOverview/PayoutsOverview.tsx","../src/components/external/PayoutsOverview/components/PayoutsOverviewContainer/constants.ts","../src/components/external/PayoutsOverview/components/PayoutsOverviewContainer/PayoutsOverviewContainer.tsx","../src/components/external/PayoutsOverview/PayoutsOverviewElement.tsx","../src/components/external/TransactionDetails/TransactionDetails.tsx","../src/components/internal/Divider/constants.ts","../src/components/internal/Divider/Divider.tsx","../src/components/internal/Header/Header.tsx","../src/components/external/TransactionsOverview/components/TransactionTotals/constants.ts","../src/components/internal/ExpandableCard/constants.ts","../src/components/internal/BaseButton/constants.ts","../src/components/internal/BaseButton/BaseButton.tsx","../src/components/internal/ExpandableCard/ExpandableCard.tsx","../src/components/external/TransactionsOverview/components/AmountSkeleton/constants.ts","../src/components/external/TransactionsOverview/components/AmountSkeleton/AmountSkeleton.tsx","../src/components/external/TransactionsOverview/components/SummaryItem/constants.ts","../src/components/external/TransactionsOverview/components/SummaryItem/SummaryItemLabel.tsx","../src/components/external/TransactionsOverview/components/SummaryItem/SummaryItem.tsx","../src/components/external/TransactionsOverview/components/TransactionTotalItem/TransactionTotalItem.tsx","../src/components/internal/BaseList/constants.ts","../src/components/internal/BaseList/BaseList.tsx","../src/components/external/TransactionsOverview/hooks/useMaxWidths.ts","../src/components/external/TransactionsOverview/components/TransactionTotals/TotalsCard.tsx","../src/components/external/TransactionsOverview/components/TransactionTotals/TransactionTotals.tsx","../src/components/external/TransactionsOverview/components/Balances/constants.ts","../src/components/external/TransactionsOverview/components/BalanceItem/BalanceItem.tsx","../src/components/external/TransactionsOverview/components/Balances/Balances.tsx","../src/components/external/TransactionsOverview/hooks/useTransactionsOverviewMultiSelectionFilters.ts","../src/components/internal/FilterBar/filters/AmountFilter/constants.ts","../src/components/internal/FilterBar/filters/AmountFilter/RangeSelection.tsx","../src/components/internal/FilterBar/filters/AmountFilter/AmountFilter.tsx","../src/components/external/TransactionsOverview/components/TransactionsOverview/constants.ts","../src/hooks/useCustomColumnsData.ts","../src/components/external/TransactionsOverview/components/TransactionsOverview/TransactionsOverview.tsx","../src/components/external/TransactionsOverview/components/TransactionsOverviewContainer/constants.ts","../src/components/external/TransactionsOverview/components/TransactionsOverviewContainer/TransactionsOverviewContainer.tsx","../src/components/external/TransactionsOverview/TransactionsOverviewElement.tsx","../src/components/external/CapitalOffer/components/CapitalOffer/constants.ts","../src/components/internal/CapitalHeader/CapitalHeader.tsx","../src/components/internal/InfoBox/InfoBox.tsx","../src/components/external/CapitalOffer/components/utils/utils.ts","../src/components/internal/Slider/calculateProgress.ts","../src/components/internal/Slider/Slider.tsx","../src/components/internal/CapitalSlider/CapitalSlider.tsx","../src/components/utils/capital/getCapitalErrorMessage.tsx","../src/components/external/CapitalOffer/components/utils/CapitalErrorMessageDisplay.tsx","../src/components/constants.ts","../src/components/external/CapitalOffer/components/CapitalOfferSelection/CapitalOfferSelection.tsx","../src/components/external/CapitalOffer/components/CapitalOfferSummary/CapitalOfferSummary.tsx","../src/components/external/CapitalOffer/components/CapitalOffer/CapitalOffer.tsx","../src/components/external/CapitalOffer/CapitalOfferElement.tsx","../src/hooks/useFreezePeriod.ts","../src/components/internal/SVGIcons/Download.tsx","../src/components/internal/Button/DownloadButton/useDownload.ts","../src/components/internal/Button/DownloadButton/DownloadButton.tsx","../src/components/internal/SVGIcons/Warning.tsx","../src/components/external/ReportsOverview/components/ReportsTable/constants.ts","../src/components/external/ReportsOverview/components/ReportsTable/ReportsTable.tsx","../src/components/external/ReportsOverview/components/ReportsOverview/constants.ts","../src/components/external/ReportsOverview/components/ReportsOverview/ReportsOverview.tsx","../src/components/external/ReportsOverview/components/ReportsOverviewContainer/constants.ts","../src/components/external/ReportsOverview/components/ReportsOverviewContainer/ReportsOverviewContainer.tsx","../src/components/external/ReportsOverview/ReportsOverviewElement.tsx","../src/components/external/CapitalOverview/constants.ts","../src/images/generic-use-first-touch.svg","../src/components/external/CapitalOverview/components/Unqualified.tsx","../src/components/external/CapitalOverview/components/PreQualifiedIntro.tsx","../src/components/external/CapitalOverview/components/PreQualified/PreQualified.tsx","../src/components/internal/ProgressBar/ProgressBar.tsx","../src/components/external/CapitalOverview/components/GrantItem/constants.ts","../src/components/external/CapitalOverview/components/GrantItem/utils.ts","../src/components/external/CapitalOverview/components/GrantDetails/constants.ts","../src/components/internal/ExpandableContainer/constants.ts","../src/components/internal/ExpandableContainer/ExpandableContainer.tsx","../src/components/external/CapitalOverview/components/GrantDetails/GrantDetails.tsx","../src/components/external/CapitalOverview/components/GrantAction/constants.ts","../src/components/external/CapitalOverview/components/GrantAction/utils.ts","../src/components/external/CapitalOverview/components/GrantAction/GrantAction.tsx","../src/components/external/CapitalOverview/components/GrantItem/GrantItem.tsx","../src/components/internal/Tabs/Tabs.tsx","../src/components/external/CapitalOverview/components/GrantList/GrantsDisplay.tsx","../src/components/external/CapitalOverview/components/GrantList/GrantList.tsx","../src/components/external/CapitalOverview/components/CapitalOverview/CapitalOverview.tsx","../src/components/external/CapitalOverview/CapitalOverviewElement.tsx","../src/index.ts"],"sourcesContent":["import { DevEnvironment } from './types';\n\nexport const FALLBACK_ENV = 'test' satisfies DevEnvironment;\nexport const normalizeLoadingContext = (loadingContext: string) => loadingContext?.replace?.(/([^\\/])$/, '$1/')!;\nexport const normalizeUrl = (url: string) => url?.replace(/^([^\\/])/, '/$1')!;\n\nexport const resolveEnvironment = (() => {\n    const envs: Partial<Record<DevEnvironment, string>> = {\n        test: 'https://platform-components-external-test.adyen.com/platform-components-external/api/',\n        live: 'https://platform-components-external-live.adyen.com/platform-components-external/api/',\n    };\n\n    return (env?: DevEnvironment) => envs[env ?? FALLBACK_ENV] || envs[FALLBACK_ENV]!;\n})();\n","import type { ListWithoutFirst } from './types';\n\ntype _BoundFn<T, Args extends any[]> = Args extends []\n    ? T extends (this: infer ThisType, ...args: [...infer RestArgs]) => infer ReturnType\n        ? (thisValue: ThisType, ...args: RestArgs) => ReturnType\n        : never\n    : T extends (this: Args[0], ...args: [...ListWithoutFirst<Args>, ...infer RestArgs]) => infer ReturnType\n    ? (...args: RestArgs) => ReturnType\n    : never;\n\nexport const fn: <T, Args extends any[]>(func: T, ...args: Args) => _BoundFn<T, Args> = Function.prototype.bind.bind(Function.prototype.call);\n\n// prettier-ignore\nexport const constant = <T>(value?: T) => () => value;\n\nexport const asyncNoop = async () => {};\nexport const identity = <T>(value?: T) => value;\nexport const noop = () => {};\n\nexport const panic = (reason?: any) => {\n    throw reason;\n};\n\nconst _toString = fn(Object.prototype.toString);\nexport const toStringTag = (value?: any) => _toString(value).slice(8, -1);\n","import { toStringTag } from '../common';\nimport type { GetPredicateType } from '../types';\n\nexport const isBoolean = (value?: any): value is boolean => value === !!value;\nexport const isFunction = <T>(value?: T): value is GetPredicateType<(...args: any[]) => any, T> => typeof value === 'function';\nexport const isNull = (value?: any): value is null => value === null;\nexport const isNullish = (value?: any): value is undefined | null => value == undefined;\nexport const isNumber = (value?: any): value is number => typeof value === 'number';\nexport const isPlainObject = <T>(value?: T): value is GetPredicateType<Record<any, any>, T> => toStringTag(value) === 'Object';\nexport const isString = (value?: any): value is string => typeof value === 'string';\nexport const isSymbol = (value?: any): value is symbol => typeof value === 'symbol';\nexport const isUndefined = (value?: any): value is undefined => value === undefined;\n","import { isNumber, isSymbol } from './is';\n\nexport const clamp = <T extends number = number>(min: T, value: T, max: T) => {\n    if (Math.min(min, max) !== min) [min, max] = [max, min];\n    return Math.max(min, Math.min(value, max));\n};\n\nexport const isBitSafeInteger = (value?: any): value is number => !isSymbol(value) && value === ~~value;\nexport const isInfinity = (value?: any): value is number => isNumber(value) && 1 / value === 0;\n\nexport const mid = (low: number, high: number) => {\n    if (Number.isInteger(low) && Number.isInteger(high)) {\n        return low + Math.floor((high - low) / 2);\n    }\n    throw TypeError(`Expects 2 integer values: [${low}, ${high}]`);\n};\n\nexport const mod = (value: number, modulo: number) => ((value % modulo) + modulo) % modulo;\n","export const ABORT_EVENT = 'abort';\nexport const DEFAULT_ABORT_ERROR_MESSAGE = 'signal is aborted without reason';\nexport const DEFAULT_TIMEOUT_ERROR_MESSAGE = 'signal timed out';\nexport const MAX_ABORT_TIMEOUT = 0x7fffffff;\n","import { isBoolean } from './is';\n\nexport const boolify = (value?: any, fallbackBoolean = value) => (isBoolean(value) ? value : !!fallbackBoolean);\n\nexport const boolOrFalse = (value?: any) => value === true;\nexport const boolOrTrue = (value?: any) => value !== false;\n\nexport const falsify = (_?: any): false => false;\nexport const truthify = (_?: any): true => true;\n","import { fn } from '../common';\nimport { boolOrFalse, boolOrTrue } from '../value/bool';\nimport type { GetterPropertyDescriptor, ValuePropertyDescriptor } from './types';\n\nexport const enumerable = <T>(value: T, writable = false): ValuePropertyDescriptor<T> => ({\n    writable: boolOrFalse(writable),\n    enumerable: true,\n    value,\n});\n\nexport const getter = <T>(get: () => T, enumerable = true): GetterPropertyDescriptor<T> => ({\n    enumerable: boolOrTrue(enumerable),\n    get,\n});\n\nexport const hasOwnProperty = fn(Object.prototype.hasOwnProperty);\n","/**\n * Compares two values using [`SameValueZero`](https://tc39.es/ecma262/multipage/abstract-operations.html#sec-samevaluezero) comparison and returns `true` if they are the same, or `false` otherwise.\n * The comparison is very similar to strict equality comparison but also returns `true` if both values are `NaN`.\n */\nexport const sameValue = (a: any, b: any) => a === b || !(a === a || b === b);\n","import { enumerable, getter, hasOwnProperty } from '../struct/property';\nimport { DEFAULT_ABORT_ERROR_MESSAGE, DEFAULT_TIMEOUT_ERROR_MESSAGE } from './constants';\nimport { sameValue } from '../value/compare';\n\nif (!hasOwnProperty(AbortSignal.prototype, 'reason')) {\n    try {\n        // Polyfill `AbortSignal.prototype.reason`\n        Object.defineProperty(AbortSignal.prototype, 'reason', {\n            ...getter(function _getReason(this: AbortSignal) {\n                return this.aborted ? abortError() : void 0;\n            }, true),\n            configurable: true,\n        });\n    } catch {\n        // `AbortSignal.prototype` is non-extensible or `reason` property already exists\n        // do nothing (fail silently)\n    }\n}\n\nif (!hasOwnProperty(AbortSignal.prototype, 'throwIfAborted')) {\n    // Polyfill `AbortSignal.prototype.throwIfAborted`\n    AbortSignal.prototype.throwIfAborted = function _throwIfAborted(this: AbortSignal) {\n        if (this.aborted) throw this.reason ?? abortError();\n    };\n}\n\nexport const abortError = (message = DEFAULT_ABORT_ERROR_MESSAGE) => new DOMException(message, 'AbortError');\nexport const timeoutError = (message = DEFAULT_TIMEOUT_ERROR_MESSAGE) => new DOMException(message, 'TimeoutError');\n\nexport const augmentSignalReason = (signal: AbortSignal, reason: any) => {\n    if (!sameValue(signal.reason, reason)) {\n        try {\n            Object.defineProperty(signal, 'reason', enumerable(reason));\n        } catch {\n            // `signal` is non-extensible or `reason` property already exists\n            // do nothing (fail silently)\n        }\n    }\n    return signal;\n};\n","import { clamp } from '../value/number';\nimport { isUndefined } from '../value/is';\nimport { ABORT_EVENT, MAX_ABORT_TIMEOUT } from './constants';\nimport { abortError, augmentSignalReason, timeoutError } from './internals';\n\ndeclare var AbortSignal: {\n    any: (signals: AbortSignal[]) => AbortSignal;\n} & typeof window.AbortSignal;\n\nexport const abortedSignal = (reason: unknown = abortError()) => {\n    if ('abort' in AbortSignal) {\n        return AbortSignal.abort(reason);\n    }\n\n    const _controller = new AbortController();\n    const _reason = isUndefined(reason) ? abortError() : reason;\n    const { signal } = _controller;\n\n    _controller.abort(_reason);\n    augmentSignalReason(signal, _reason);\n    return signal;\n};\n\nexport const abortSignalForAny = (signals: AbortSignal[]) => {\n    if ('any' in AbortSignal) {\n        return AbortSignal.any(signals);\n    }\n\n    let _sourceSignals = new Set<AbortSignal>();\n    let _controller = new AbortController();\n    const { signal } = _controller;\n\n    let abort = function (this: AbortSignal) {\n        _sourceSignals.forEach(signal => signal.removeEventListener(ABORT_EVENT, abort));\n        _sourceSignals.clear();\n\n        const reason = this?.reason ?? abortError();\n\n        _controller.abort(reason);\n        augmentSignalReason(signal, reason);\n        _controller = _sourceSignals = abort = undefined!;\n    };\n\n    setup: {\n        const NIL_EXCEPTION = Symbol('<NIL_EXCEPTION>');\n        let _exception: any = NIL_EXCEPTION;\n\n        filter: {\n            try {\n                for (const maybeSignal of signals) {\n                    if (!isAbortSignal(maybeSignal)) throw new TypeError(`Failed to convert value to 'AbortSignal'`);\n                    if (maybeSignal.aborted) break filter;\n                    _sourceSignals.add(maybeSignal);\n                }\n            } catch (ex) {\n                _exception = ex;\n                break filter;\n            }\n\n            _sourceSignals.forEach(signal => signal.addEventListener(ABORT_EVENT, abort));\n\n            // Mark setup as complete\n            break setup;\n        }\n\n        // If control flow reaches here, it means either of the following:\n        //  (1) at least one of the source signals is already aborted\n        //  (2) at least one invalid value was passed as source signal\n\n        // Hence, the need to abort the `signal` and destroy everything\n        abort.call(signal);\n\n        // And also throw the appropriate exception (if applicable)\n        if (_exception !== NIL_EXCEPTION) throw _exception;\n    }\n\n    return signal;\n};\n\nexport const abortSignalWithTimeout = (ms: number) => {\n    const _timeout = clamp(0, ms, MAX_ABORT_TIMEOUT);\n\n    if ('timeout' in AbortSignal) {\n        return AbortSignal.timeout(_timeout);\n    }\n\n    let _controller = new AbortController();\n    const { signal } = _controller;\n\n    setTimeout(\n        () =>\n            requestAnimationFrame(() => {\n                const reason = timeoutError();\n                _controller.abort(reason);\n                _controller = undefined!;\n                augmentSignalReason(signal, reason);\n            }),\n        _timeout\n    );\n\n    return signal;\n};\n\nexport const isAbortSignal = (value?: any): value is AbortSignal => value instanceof AbortSignal;\n","export const EMPTY_ARRAY = Object.freeze([]);\nexport const EMPTY_OBJECT = Object.freeze(Object.create(null)) as Readonly<{}>;\n","import { EMPTY_ARRAY } from '../value/constants';\n\nexport const ALREADY_RESOLVED_PROMISE = Promise.resolve();\nexport const FOREVER_PENDING_PROMISE = Promise.race(EMPTY_ARRAY);\n","import { ALREADY_RESOLVED_PROMISE } from './constants';\nimport { Promised, PromiseState } from '../types';\n\nconst _pending = () => _PENDING;\nconst _PENDING: unique symbol = Symbol('<<PENDING>>');\n\nexport const getPromiseState = async (promise: Promise<any>): Promise<PromiseState> => {\n    try {\n        const value = await Promise.race([promise, ALREADY_RESOLVED_PROMISE.then(_pending)]);\n        return value === _PENDING ? PromiseState.PENDING : PromiseState.FULFILLED;\n    } catch {\n        return PromiseState.REJECTED;\n    }\n};\n\nexport const tryResolve = function <T extends any, Params extends any[] = []>(\n    this: any,\n    fn: (this: any, ...args: Params) => Promised<T>,\n    ...args: Params\n) {\n    return new Promise<T>(resolve => resolve(fn.call(this, ...args)));\n};\n","import { fn, identity } from '../common';\nimport { EMPTY_ARRAY } from '../value/constants';\nimport { isFunction, isNullish, isUndefined } from '../value/is';\nimport type { MapGetter } from './types';\nimport type { List } from '../types';\n\nexport const getMappedValue: MapGetter = (key, map, factory) => {\n    let value = map.get(key);\n\n    if (isUndefined(value) && isFunction(factory)) {\n        if (!isUndefined((value = factory(key, map)))) {\n            map.set(key, value);\n        }\n    }\n\n    return value;\n};\n\nexport const listFrom = <T extends string = string>(value?: string | any[], fallbackList = EMPTY_ARRAY as unknown as T[]) => {\n    const stringedValue = `${value || ''}`.trim();\n    const stringedList = (stringedValue ? stringedValue.split(/(?:\\s*,\\s*)+/).filter(identity) : EMPTY_ARRAY) as T[];\n    return stringedList.length ? stringedList : fallbackList;\n};\n\nexport const pickFrom = <C extends readonly any[] | any[]>(list: C, option?: C[number], defaultOption?: C[number]) => {\n    if (list.includes(option)) return option;\n    if (isNullish(option)) return list[0];\n    return list.includes(defaultOption) ? defaultOption : list[0];\n};\n\nexport const some = fn(Array.prototype.some);\n\nconst _uniqueFlatten = function _uniqueFlatten<T>(reversed: boolean, items: List<T>, uniqueItems: Set<T> = new Set<T>()) {\n    for (const item of items) {\n        if (!Array.isArray(item)) {\n            reversed && uniqueItems.delete(item);\n            uniqueItems.add(item);\n        } else _uniqueFlatten(reversed, item, uniqueItems);\n    }\n    return uniqueItems;\n};\n\ntype _UniqueFlatten = <T>(items: List<T>, uniqueItems?: Set<T>) => Set<T>;\n\nexport const uniqueFlatten = fn(_uniqueFlatten, void 0, false) as _UniqueFlatten;\nexport const uniqueFlattenReversed = fn(_uniqueFlatten, void 0, true) as _UniqueFlatten;\n","import { isString } from '../value/is';\nimport type { DateFunction, DateTimeComponents } from './types';\n\nexport const parseDate = ((...args) => {\n    const [value] = args;\n\n    const date =\n        args.length >= 2\n            ? new Date(...(args as DateTimeComponents))\n            : value instanceof Date\n            ? value\n            : new Date((isString(value) || Number.isFinite(value) ? value : undefined)!);\n\n    const timestamp = date.getTime();\n    return Number.isFinite(timestamp) ? timestamp : undefined;\n}) as DateFunction<number | undefined>;\n","export const uniqueId = (() => {\n    let counter = Date.now();\n    return (prefix = 'adyen-pe') => `${prefix}-${++counter}`;\n})();\n\nexport default uniqueId;\n","export const UUID_V4_REGEXP = /^[a-f\\d]{8}-[a-f\\d]{4}-4[a-f\\d]{3}-[89ab][a-f\\d]{3}-[a-f\\d]{12}$/i;\n\nexport const uuid = (() => {\n    const _UUID_V4_FILLER_STRING = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx';\n\n    return () =>\n        _UUID_V4_FILLER_STRING.replace(/[xy]/g, xy => {\n            const randomNibble = (Math.random() * 16) | 0;\n            const nibble = xy == 'x' ? randomNibble : (randomNibble & 0x3) | 0x8;\n            return nibble.toString(16);\n        });\n})();\n\nexport default uuid;\n","import { fn } from '../common';\nimport { EMPTY_OBJECT } from '../value/constants';\nimport { truthify } from '../value/bool';\nimport { isPlainObject } from '../value/is';\nimport type { PredicateType } from '../types';\n\ntype _PlainObject<T> = PredicateType<typeof isPlainObject<T>>;\n\nexport const asPlainObject = <T>(value?: T, fallback = EMPTY_OBJECT as _PlainObject<T>): _PlainObject<T> =>\n    isPlainObject(value) ? value : asPlainObject(fallback, EMPTY_OBJECT as _PlainObject<T>);\n\ninterface _StructFrom {\n    <T extends Record<any, any>, P extends object | null>(o: P, properties: { [K in keyof T]: TypedPropertyDescriptor<T[K]> }): P extends object\n        ? Omit<P, keyof T> & T\n        : T;\n    <P extends object | null>(o: P): P extends object ? { [K in keyof P]: P[K] } : Record<any, any>;\n}\n\ninterface _Struct {\n    <T extends Record<any, any>>(properties: { [K in keyof T]: TypedPropertyDescriptor<T[K]> }): T;\n    (): Record<any, any>;\n}\n\nexport const structFrom = fn(Object.create, void 0) as _StructFrom;\nexport const struct: _Struct = fn(structFrom, void 0, null);\n\nexport const withFreezeProxyHandlers = <T extends object>(handler: ProxyHandler<T> = EMPTY_OBJECT): Readonly<ProxyHandler<T>> => {\n    return Object.freeze({ ...handler, defineProperty: truthify, set: truthify } as const);\n};\n","import { isNullish, isString } from './is';\n\nexport const capitalize = (str?: string) => (str && str?.length > 0 ? `${str[0]!.toUpperCase()}${str.slice(1)}` : str);\nexport const isEmptyString = (str?: string) => isNullish(str) || (isString(str) && /^\\s*$/.test(str));\n","import { boolOrFalse } from '../../../utils';\n\nexport const SETUP_ENDPOINT_PATH = '/setup';\nexport const AUTO_REFRESH = boolOrFalse(process.env.SESSION_AUTO_REFRESH);\n\nexport const MAX_AGE_MS = (() => {\n    // Value provisioned in `SESSION_MAX_AGE_MS` env variable\n    let maxAgeMs = ~~process.env.SESSION_MAX_AGE_MS!;\n\n    if (Number.isFinite(maxAgeMs) && (maxAgeMs = Math.max(0, ~~maxAgeMs))) {\n        return maxAgeMs;\n    }\n})();\n","import { ErrorTypes } from '../Http/utils';\n\nclass AdyenPlatformExperienceError extends Error {\n    public type: string;\n    public errorCode?: string;\n    public requestId?: string;\n    constructor(type: ErrorTypes, requestId?: string, message?: string, errorCode?: string) {\n        super(message);\n        this.type = type;\n        this.name = type;\n        this.errorCode = errorCode;\n        this.requestId = requestId;\n    }\n}\n\nexport default AdyenPlatformExperienceError;\n","import { isNullish } from '../../utils';\nimport { AdyenErrorResponse, ErrorLevel, HttpOptions } from './types';\nimport AdyenPlatformExperienceError from '../Errors/AdyenPlatformExperienceError';\n\nconst FILENAME_EXTRACTION_REGEX = /^[^]*?filename[^;\\n]*=\\s*(?:UTF-\\d['\"]*)?(?:(['\"])([^]*?)\\1|([^;\\n]*))?[^]*?$/;\n\nexport const enum ErrorTypes {\n    /** Network error. */\n    NETWORK_ERROR = 'NETWORK_ERROR',\n\n    /** Shopper canceled the current transaction. */\n    CANCEL = 'CANCEL',\n\n    /** Implementation error. The method or parameter are incorrect or are not supported. */\n    IMPLEMENTATION_ERROR = 'IMPLEMENTATION_ERROR',\n\n    /** Generic error. */\n    ERROR = 'ERROR',\n\n    /** Token expired */\n    EXPIRED_TOKEN = 'EXPIRED_TOKEN',\n}\n\nexport const getErrorType = (errorCode: number): ErrorTypes => {\n    switch (errorCode) {\n        case 401:\n            return ErrorTypes.EXPIRED_TOKEN;\n        default:\n            return ErrorTypes.NETWORK_ERROR;\n    }\n};\n\nexport const getResponseContentType = (response: Response): string | undefined => response.headers.get('Content-Type')?.split(';', 1)[0];\n\nexport const getResponseDownloadFilename = (response: Response): string | undefined => {\n    const disposition = response.headers.get('Content-Disposition') ?? '';\n    const filename = disposition.replace(FILENAME_EXTRACTION_REGEX, '$2$3');\n    return decodeURIComponent(filename);\n};\n\nexport const getRequestObject = (options: HttpOptions): RequestInit => {\n    const { headers = [], method = 'GET' } = options;\n    const SDKVersion = process.env.VITE_VERSION;\n\n    return {\n        method,\n        mode: 'cors',\n        cache: 'default',\n        credentials: 'same-origin',\n        headers: {\n            Accept: 'application/json, text/plain, */*',\n            'Content-Type': options.contentType ?? 'application/json',\n            ...headers,\n            ...(SDKVersion && { 'SDK-Version': SDKVersion }),\n        },\n        redirect: 'follow',\n        signal: options.signal,\n        referrerPolicy: 'no-referrer-when-downgrade',\n        ...(method === 'POST' && options.body && { body: JSON.stringify(options.body) }),\n    };\n};\n\nexport function handleFetchError({\n    message,\n    level,\n    errorCode,\n    type = ErrorTypes.NETWORK_ERROR,\n    requestId,\n}: {\n    message: string;\n    level: ErrorLevel | undefined;\n    errorCode?: string;\n    type?: ErrorTypes;\n    requestId?: string;\n    status?: number;\n}) {\n    switch (level) {\n        case 'silent': {\n            break;\n        }\n        case 'info':\n        case 'warn':\n            console[level](message);\n            break;\n        case 'error':\n        default:\n            throw new AdyenPlatformExperienceError(type, requestId, message, errorCode);\n    }\n}\n\nexport function isAdyenErrorResponse(data: any): data is AdyenErrorResponse {\n    return data && data.errorCode && data.type && (data.detail || data.invalidFields) && data.status;\n}\n\nexport function parseSearchParams<T extends Record<string, any>>(parameters: T) {\n    const params = new URLSearchParams();\n\n    for (const param of Object.keys(parameters)) {\n        const value = parameters[param];\n        if (!isNullish(value)) {\n            if (Array.isArray(value)) {\n                value.forEach(item => params.append(param, item));\n            } else {\n                // For non-array values, just set the key and value normally\n                params.set(param, String(value));\n            }\n        }\n    }\n\n    return params;\n}\n","import { enumerable, getter, isUndefined, noop, struct } from '../../../utils';\nimport type { Abortable } from './types';\n\nexport const createAbortable = <T>(abortReason?: T) => {\n    let _abortController: AbortController | undefined;\n    let _abortSignal: AbortSignal;\n    let _abortPromise: Promise<never>;\n\n    const _abort = () => {\n        if (isUndefined(_abortController)) return;\n\n        // Capture a reference of the signal abort procedure to be triggered\n        const _abort: typeof noop = _abortController.abort.bind(_abortController);\n\n        // Since abortable can only be refreshed if `_abortController` is `undefined`, trigger the\n        // signal abort procedure after setting `_abortController` to `undefined`. This ensures that\n        // `_abortController` is already `undefined` before any signal abort listener gets a chance\n        // to run. Think about a signal abort listener that triggers an abortable refresh when it\n        // runs — that refresh can only happen if `_abortController` is already set to `undefined`.\n        _abortController = undefined;\n        _abort();\n    };\n\n    const _getAbortPromise = () => {\n        _abortPromise = new Promise<never>((_, reject) => {\n            _abortSignal.addEventListener('abort', function _abort() {\n                _abortSignal.removeEventListener('abort', _abort);\n                reject(abortReason);\n            });\n\n            if (_abortSignal.aborted) throw abortReason;\n        });\n\n        // no-op catch callback to silence unnecessary \"unhandled rejection\" warnings\n        _abortPromise.catch(noop);\n\n        return _abortPromise;\n    };\n\n    const _refreshIfNecessary = () => {\n        if (isUndefined(_abortController)) {\n            _abortController = new AbortController();\n            _abortSignal = _abortController.signal;\n            _abortPromise = _getAbortPromise();\n        }\n        return abortable;\n    };\n\n    const abortable = struct<Abortable<T>>({\n        abort: enumerable(_abort),\n        promise: getter(() => _abortPromise),\n        reason: enumerable(abortReason),\n        refresh: enumerable(_refreshIfNecessary),\n        signal: getter(() => _abortSignal),\n    });\n\n    return _refreshIfNecessary();\n};\n\nexport default createAbortable;\n","import { enumerable, getter, noop, struct } from '../../../utils';\nimport type { Promised } from '../../../utils/types';\nimport type { Deferred } from './types';\n\nexport const createDeferred = <T extends Promised<any> = any>() => {\n    let _promise: Deferred<T>['promise'];\n    let _reject: Deferred<T>['reject'];\n    let _resolve: Deferred<T>['resolve'];\n\n    const _refresh = () => {\n        const previousResolve = _resolve ?? noop;\n\n        const currentPromise = new Promise<T>((resolve, reject) => {\n            _resolve = resolve;\n            _reject = reject;\n        });\n\n        previousResolve((_promise = currentPromise));\n        return deferred;\n    };\n\n    const deferred = struct<Deferred<T>>({\n        promise: getter(() => _promise),\n        refresh: enumerable(_refresh),\n        reject: enumerable(reason => _reject(reason)),\n        resolve: enumerable(value => _resolve(value)),\n    });\n\n    return _refresh();\n};\n\nexport default createDeferred;\n","import { createAbortable } from '../abortable';\nimport { createDeferred } from '../deferred';\nimport { enumerable, getter, isUndefined, tryResolve } from '../../../utils';\nimport type { Promised } from '../../../utils/types';\nimport type { Promisor } from './types';\n\nexport const createPromisor = <T extends any, Params extends any[] = []>(\n    factory: (this: any, signal: AbortSignal, ...args: Params) => Promised<T>\n) => {\n    const _abortable = createAbortable();\n    const _deferred = createDeferred<T>();\n    let _promise: Promisor<T, Params>['promise'] | undefined;\n\n    const promisor = function (this: any, ...args) {\n        isUndefined(_promise) ? _deferred.refresh() : _abortable.abort();\n\n        const currentPromise = tryResolve.call(this, factory, _abortable.refresh().signal, ...args) as Promise<T>;\n\n        (async () => {\n            let isLatestPromise = _promise === (_promise = currentPromise);\n            try {\n                const value = await currentPromise.finally(() => {\n                    isLatestPromise = _promise === currentPromise;\n                    isLatestPromise && (_promise = undefined);\n                });\n                isLatestPromise && _deferred.resolve(value);\n            } catch (ex) {\n                isLatestPromise && _deferred.reject(ex);\n            }\n        })();\n\n        return currentPromise;\n    } as Promisor<T, Params>;\n\n    return Object.defineProperties(promisor, {\n        abort: enumerable(_abortable.abort),\n        promise: getter(() => _deferred.promise),\n        refresh: enumerable(() => void _deferred.refresh()),\n    });\n};\n\nexport default createPromisor;\n","import Core from '../../core';\nimport { SETUP_ENDPOINT_PATH } from './constants';\nimport { parseSearchParams } from '../../Http/utils';\nimport { SessionContext } from '../../../primitives/context/session';\nimport { createPromisor } from '../../../primitives/async/promisor';\nimport {\n    abortSignalForAny,\n    asPlainObject,\n    EMPTY_OBJECT,\n    isAbortSignal,\n    isPlainObject,\n    isUndefined,\n    noop,\n    struct,\n    withFreezeProxyHandlers,\n} from '../../../utils';\nimport type { EndpointHttpCallables, EndpointSuccessResponse, SessionObject, SetupContext, SetupResponse } from '../types';\nimport type { EndpointName, SetupEndpoint } from '../../../types/api/endpoints';\nimport type { HttpMethod } from '../../Http/types';\n\nexport class AuthSetupContext {\n    private _endpoints: SetupContext['endpoints'] = EMPTY_OBJECT;\n    private _revokeEndpointsProxy = noop;\n\n    private readonly _beforeHttp = async () => {\n        // a no-op catch callback is used here (`noop`),\n        // to silence unnecessary unhandled promise rejection warnings\n        await this._refreshPromisor.promise.catch(noop);\n    };\n\n    private readonly _refreshPromisor = createPromisor((promisorSignal, signal?: AbortSignal | null | undefined) => {\n        const abortSignal = isAbortSignal(signal) ? abortSignalForAny([signal, promisorSignal]) : promisorSignal;\n        return this._fetchSetupEndpoint(abortSignal);\n    });\n\n    public declare loadingContext?: Core<any>['loadingContext'];\n    public declare readonly refresh: (signal: AbortSignal) => Promise<void>;\n\n    constructor(private readonly _session: SessionContext<SessionObject, any[]>) {\n        let _refreshPromise: Promise<void> | undefined;\n\n        this.refresh = signal => {\n            this._refreshPromisor(signal).catch(noop);\n\n            return (_refreshPromise ??= this._refreshPromisor.promise\n                .finally(() => (_refreshPromise = undefined))\n                .then(({ endpoints }) => {\n                    this._resetEndpoints();\n                    ({ proxy: this._endpoints, revoke: this._revokeEndpointsProxy } = this._getEndpointsProxy(endpoints));\n                }));\n        };\n    }\n\n    get endpoints() {\n        return this._endpoints;\n    }\n\n    private _fetchSetupEndpoint(signal: AbortSignal) {\n        return this._session.http(null, {\n            method: 'POST',\n            path: SETUP_ENDPOINT_PATH,\n            errorLevel: 'fatal',\n            loadingContext: this.loadingContext,\n            signal,\n        }) as Promise<SetupResponse>;\n    }\n\n    private _getEndpointsProxy(endpoints: SetupEndpoint) {\n        const availableEndpoints: Set<EndpointName> = new Set(Object.keys(endpoints) as (keyof typeof endpoints)[]);\n        const sessionAwareEndpoints: SetupContext['endpoints'] = struct();\n\n        return Proxy.revocable(\n            EMPTY_OBJECT as typeof sessionAwareEndpoints,\n            withFreezeProxyHandlers({\n                get: <Endpoint extends EndpointName>(target: typeof sessionAwareEndpoints, endpoint: Endpoint, receiver: any) => {\n                    if (!availableEndpoints.has(endpoint)) {\n                        return Reflect.get(target, endpoint, receiver);\n                    }\n\n                    sessionAwareEndpoints[endpoint] ??= (() => {\n                        const { method = 'GET', url } = endpoints[endpoint];\n                        if (isUndefined(url || undefined)) return;\n\n                        return ((...args: Parameters<EndpointHttpCallables>) => {\n                            const httpOptions = this._getHttpOptions(method as HttpMethod, url!, ...args);\n                            return this._session.http(this._beforeHttp, httpOptions) as Promise<EndpointSuccessResponse<Endpoint>>;\n                        }) as EndpointHttpCallables<Endpoint>;\n                    })()!;\n\n                    return sessionAwareEndpoints[endpoint];\n                },\n            })\n        );\n    }\n\n    private _getHttpOptions(method: HttpMethod, path: string, ...args: Parameters<EndpointHttpCallables>) {\n        const { loadingContext } = this;\n        const [request, requestParams] = args;\n        const { path: pathParams, query: searchParams } = asPlainObject(requestParams as any);\n        const params = searchParams && parseSearchParams(searchParams);\n\n        if (isPlainObject(pathParams)) {\n            for (const pathParamKey of Object.keys(pathParams)) {\n                path = path.replace(`{${pathParamKey}}`, pathParams[pathParamKey]);\n            }\n        }\n\n        return { loadingContext, ...request, method, params, path } as const;\n    }\n\n    private _resetEndpoints() {\n        this._revokeEndpointsProxy();\n        this._revokeEndpointsProxy = noop;\n        this._endpoints = EMPTY_OBJECT;\n    }\n}\n\nexport default AuthSetupContext;\n","export const ERR_SESSION_EXPIRED: unique symbol = Symbol('Error<SESSION_EXPIRED>');\nexport const ERR_SESSION_FACTORY_UNAVAILABLE: unique symbol = Symbol('Error<SESSION_FACTORY_UNAVAILABLE>');\nexport const ERR_SESSION_HTTP_UNAVAILABLE: unique symbol = Symbol('Error<SESSION_HTTP_UNAVAILABLE>');\nexport const ERR_SESSION_INVALID: unique symbol = Symbol('Error<SESSION_INVALID>');\nexport const ERR_SESSION_REFRESH_ABORTED: unique symbol = Symbol('Error<SESSION_REFRESH_ABORTED>');\nexport const EVT_SESSION_EXPIRED = '_sessionExpired';\nexport const EVT_SESSION_READY = '_sessionReady';\nexport const EVT_SESSION_REFRESHED = '_sessionRefreshed';\nexport const EVT_SESSION_REFRESHING_END = '_sessionRefreshingEnd';\nexport const EVT_SESSION_REFRESHING_START = '_sessionRefreshingStart';\n","export const INTERNAL_EVT_SESSION_DEADLINE = '_session.deadline';\nexport const INTERNAL_EVT_SESSION_READY = '_session.ready';\nexport const INTERNAL_EVT_SESSION_REFRESHING_END = '_session.refreshingEnd';\nexport const INTERNAL_EVT_SESSION_REFRESHING_START = '_session.refreshingStart';\n","import { boolOrFalse, falsify, getter, isFunction, noop, tryResolve } from '../../../../utils';\nimport { createPromisor } from '../../../async/promisor';\nimport { EVT_SESSION_EXPIRED } from '../constants';\nimport type { SessionRefresher } from './types';\n\nexport const _canAutofresh = async <T extends any>(refresher: SessionRefresher<T>) => {\n    const { specification } = refresher.context;\n\n    const canAutofresh = await tryResolve(async () => {\n        const _autoRefresh = specification.autoRefresh;\n        return isFunction(_autoRefresh) ? _autoRefresh.call(specification, refresher.session) : _autoRefresh;\n    }).catch(falsify);\n\n    return boolOrFalse(canAutofresh);\n};\n\nexport const createSessionAutofresher = <T extends any>(refresher: SessionRefresher<T>) => {\n    let _unlistenExpired = refresher.context.emitter.on(EVT_SESSION_EXPIRED, () => _autofresh(false));\n    let _autofreshSignal: AbortSignal | undefined;\n\n    let _autofreshPromisor = createPromisor(async (signal, skipCanAutofreshCheck = false) => {\n        _autofreshSignal = signal;\n\n        const canAutofresh = boolOrFalse(skipCanAutofreshCheck) || (await _canAutofresh(refresher));\n\n        if (_autofreshSignal !== signal) {\n            // The current autofresh signal does not match the autofresh attempt `signal`,\n            // meaning that this autofresh attempt is not the latest attempt.\n            // Return immediately to silently ignore this autofresh attempt.\n            return;\n        }\n\n        if (canAutofresh && refresher.pending && !refresher.refreshing) {\n            // a no-op catch callback is used here (`noop`),\n            // to silence unnecessary unhandled promise rejection warnings\n            refresher.refresh(_autofreshSignal).catch(noop);\n        }\n    });\n\n    let _autofresh = (skipCanAutofreshCheck = false) => {\n        if (!refresher.refreshing) void _autofreshPromisor(skipCanAutofreshCheck);\n    };\n\n    let _destruct = () => {\n        _unlistenExpired();\n        _autofreshPromisor.abort();\n        _autofreshPromisor = _autofreshSignal = _unlistenExpired = undefined!;\n        _autofresh = _destruct = noop;\n    };\n\n    const autofresh = (skipCanAutofreshCheck = false) => _autofresh(skipCanAutofreshCheck);\n\n    return Object.defineProperties(autofresh as typeof autofresh & { readonly destruct: () => void }, {\n        destruct: getter(() => _destruct, false),\n    });\n};\n\nexport default createSessionAutofresher;\n","export const DEFAULT_INTERVAL_MS = 1000;\nexport const MAX_INTERVAL_MS = 0x7fffffff;\n","import { boolOrFalse, clamp, enumerable, struct } from '../../../utils';\nimport { DEFAULT_INTERVAL_MS, MAX_INTERVAL_MS } from './constants';\nimport type { Interval } from './types';\n\n/**\n * Starts an abortable interval with autocorrection for time drifts.\n *\n * @example\n * // Schedule a callback every second:\n * let interval = createInterval(time => {\n *   console.log('clock!', time);\n * }, 1000, true);\n *\n * // And to stop it:\n * interval.cancel();\n *\n * // Don't forget to clean up:\n * interval = null;\n *\n * @param callback Callback to be executed at interval\n * @param ms Interval (in milliseconds)\n * @param runCallbackAsap Whether to execute callback as soon as possible\n *\n * @see [Gist by Jake Archibald](https://gist.github.com/jakearchibald/cb03f15670817001b1157e62a076fe95)\n */\nexport const createInterval = (callback: (time: DOMHighResTimeStamp) => any, ms = DEFAULT_INTERVAL_MS, runCallbackAsap = false) => {\n    let _abortController: AbortController | undefined = new AbortController();\n    let _intervalDelay = clamp(0, ~~ms, MAX_INTERVAL_MS);\n    let _shouldRunCallbackAsap = boolOrFalse(runCallbackAsap);\n\n    if (!Number.isFinite(_intervalDelay)) {\n        _intervalDelay = DEFAULT_INTERVAL_MS;\n    }\n\n    // Prefer `currentTime`, as it'll better sync animations queued in the same frame,\n    // but if it isn't supported, `performance.now()` is fine.\n    const _startTime = (document.timeline?.currentTime as number) ?? performance.now();\n\n    const _cancel = () => {\n        // Release the abort controller resource once aborted\n        _abortController?.abort();\n        _abortController = undefined;\n    };\n\n    const _frame = (time: number) => {\n        if (!_abortController || _abortController.signal.aborted) return;\n        _scheduleFrame(time);\n        callback(time);\n    };\n\n    const _scheduleFrame = (time: number) => {\n        // Just in case the interval callback needs to be executed as soon as possible,\n        // start with a zero delay (instead of the adjusted `ms` delay)\n        let delay = 0;\n\n        if (!_shouldRunCallbackAsap) {\n            const elapsed = time - _startTime;\n            const roundedElapsed = Math.round(elapsed / _intervalDelay) * _intervalDelay;\n            const targetNext = _startTime + roundedElapsed + _intervalDelay;\n\n            // Callback should be executed after adjusted `ms` delay\n            delay = targetNext - performance.now();\n        }\n\n        setTimeout(() => requestAnimationFrame(_frame), delay);\n    };\n\n    _scheduleFrame(_startTime);\n\n    // A frame must have already been scheduled for immediate run\n    _shouldRunCallbackAsap = false;\n\n    return struct<Interval>({\n        cancel: enumerable(_cancel),\n        delay: enumerable(ms),\n        signal: enumerable(_abortController.signal),\n    });\n};\n\nexport default createInterval;\n","import { getter, isFunction, isNullish, noop, struct } from '../../../utils';\nimport type { WatchListEntries, WatchListSubscriptionEventCallbacks } from './types';\n\nexport const createWatchListCurrentStateRecord = <T extends Record<string, any>>(entries: WatchListEntries<T>) => {\n    const statePropertyDescriptors = {} as { [K in keyof T]: TypedPropertyDescriptor<T[K]> };\n    const entriesPropertyDescriptors = Object.getOwnPropertyDescriptors(entries) as typeof statePropertyDescriptors;\n\n    for (const key of Object.keys(entries) as (keyof T)[]) {\n        const { get, value } = entriesPropertyDescriptors[key];\n\n        statePropertyDescriptors[key] = getter(\n            get ||\n                ((isFunction(value)\n                    ? // ensure that the `this` binding of the getter function is preserved\n                      value.bind(entries)\n                    : () => value) as NonNullable<typeof get>)\n        );\n    }\n\n    return struct<Readonly<T>>(statePropertyDescriptors);\n};\n\nexport const createWatchListSubscriptionEventCallbacks = () => {\n    const callbacks = { idle: null, resume: null } as {\n        [K in keyof WatchListSubscriptionEventCallbacks]: NonNullable<WatchListSubscriptionEventCallbacks[K]> | null;\n    };\n\n    const descriptors = {} as {\n        [K in keyof typeof callbacks]: {\n            get: () => (typeof callbacks)[K];\n            set: (callback?: (typeof callbacks)[K]) => void;\n        };\n    };\n\n    for (const key of Object.keys(callbacks) as (keyof typeof callbacks)[]) {\n        descriptors[key] = {\n            get: () => callbacks[key] ?? noop,\n            set: (callback?: (typeof callbacks)[typeof key]) => {\n                if (isNullish(callback)) {\n                    callbacks[key] = null;\n                } else if (isFunction(callback) && callback !== callbacks[key]) {\n                    callbacks[key] = callback;\n                }\n            },\n        };\n    }\n\n    return struct(descriptors) as WatchListSubscriptionEventCallbacks;\n};\n","export const UNSUBSCRIBE_TOKEN: unique symbol = Symbol('<<UNSUBSCRIBE>>');\n","import { enumerable, getMappedValue, getter, isFunction, noop, sameValue, struct } from '../../../utils';\nimport { createWatchListCurrentStateRecord, createWatchListSubscriptionEventCallbacks } from './helpers';\nimport type { WatchList, WatchListEntries, WatchListSubscriptionCallback } from './types';\nimport { UNSUBSCRIBE_TOKEN } from './constants';\n\nexport const isWatchlistUnsubscribeToken = <T extends Record<string, any>>(\n    currentStateSnapshotOrUnsubscribeToken?: Parameters<WatchListSubscriptionCallback<T>>[0]\n): currentStateSnapshotOrUnsubscribeToken is typeof UNSUBSCRIBE_TOKEN => currentStateSnapshotOrUnsubscribeToken === UNSUBSCRIBE_TOKEN;\n\nexport const createWatchlist = <T extends Record<string, any>>(entries: WatchListEntries<T>) => {\n    let lastStateSnapshot: Readonly<T> | undefined;\n\n    const currentState = createWatchListCurrentStateRecord(entries);\n    const subscriptionEventCallbacks = createWatchListSubscriptionEventCallbacks();\n    const subscriptionCallbacksWithReferenceCounting = new Map<WatchListSubscriptionCallback<T>, number>();\n    const unsubscribeCallbacks = new WeakMap<WatchListSubscriptionCallback<T>, (...args: any[]) => void>();\n\n    const _getCurrentStateSnapshot = () => Object.freeze({ ...currentState });\n    const _isWithoutSubscriptionCallbacks = () => subscriptionCallbacksWithReferenceCounting.size === 0;\n\n    const _notifySubscriptions = (unsubscribeToken?: typeof UNSUBSCRIBE_TOKEN) => {\n        if (_isWithoutSubscriptionCallbacks()) return;\n\n        if (isWatchlistUnsubscribeToken(unsubscribeToken)) {\n            const subscriptionCallbacks: WatchListSubscriptionCallback<T>[] = [];\n\n            subscriptionCallbacksWithReferenceCounting.forEach((referenceCount, callback) => {\n                subscriptionCallbacks.push(callback);\n                const unsubscribeCallback = unsubscribeCallbacks.get(callback)!;\n                while (referenceCount--) unsubscribeCallback?.();\n            });\n\n            subscriptionCallbacks.forEach(callback => callback(unsubscribeToken));\n            return true;\n        }\n\n        const currentStateSnapshot = lastStateSnapshot as Readonly<T>;\n\n        lastStateSnapshot = _getCurrentStateSnapshot();\n\n        for (const key of Object.keys(lastStateSnapshot) as (keyof T)[]) {\n            if (sameValue(lastStateSnapshot[key], currentStateSnapshot[key])) continue;\n            subscriptionCallbacksWithReferenceCounting.forEach((_, callback) => callback(lastStateSnapshot!));\n            return true;\n        }\n\n        return false;\n    };\n\n    const subscribe: WatchList<T>['subscribe'] = (subscriptionCallback?: WatchListSubscriptionCallback<T>) => {\n        if (!isFunction(subscriptionCallback)) return noop;\n\n        const unsubscribeCallback = getMappedValue(subscriptionCallback, unsubscribeCallbacks, () => {\n            let unsubscribe: (() => void) | undefined = () => {\n                const subscriptionCallbackReferenceCount = subscriptionCallbacksWithReferenceCounting.get(subscriptionCallback) || 0;\n\n                if (subscriptionCallbackReferenceCount === 1) {\n                    unsubscribe = undefined;\n                    subscriptionCallbacksWithReferenceCounting.delete(subscriptionCallback);\n                    unsubscribeCallbacks.delete(subscriptionCallback);\n\n                    if (_isWithoutSubscriptionCallbacks()) {\n                        lastStateSnapshot = undefined;\n                        subscriptionEventCallbacks.idle();\n                    }\n                } else if (subscriptionCallbackReferenceCount > 1) {\n                    subscriptionCallbacksWithReferenceCounting.set(subscriptionCallback, subscriptionCallbackReferenceCount - 1);\n                }\n            };\n\n            return () => {\n                unsubscribe?.();\n            };\n        })!;\n\n        const willResumeSubscriptions = _isWithoutSubscriptionCallbacks();\n\n        subscriptionCallbacksWithReferenceCounting.set(\n            subscriptionCallback,\n            (subscriptionCallbacksWithReferenceCounting.get(subscriptionCallback) || 0) + 1\n        );\n\n        if (willResumeSubscriptions) {\n            lastStateSnapshot = _getCurrentStateSnapshot();\n            subscriptionEventCallbacks.resume();\n        }\n\n        subscriptionCallback(lastStateSnapshot!);\n\n        return unsubscribeCallback;\n    };\n\n    return struct<WatchList<T>>({\n        idle: getter(_isWithoutSubscriptionCallbacks),\n        on: enumerable(subscriptionEventCallbacks),\n        cancelSubscriptions: enumerable(() => _notifySubscriptions(UNSUBSCRIBE_TOKEN) as true),\n        requestNotification: enumerable(() => _notifySubscriptions()),\n        snapshot: getter(() => lastStateSnapshot ?? _getCurrentStateSnapshot()),\n        subscribe: enumerable(subscribe),\n    });\n};\n\nexport default createWatchlist;\n","import { createInterval, Interval } from '../interval';\nimport { createWatchlist } from '../../reactive/watchlist';\nimport { enumerable, struct } from '../../../utils';\nimport type { Clock, ClockWatchListEntries } from './types';\n\nexport const clock = (() => {\n    let interval: Interval | undefined;\n\n    const { cancelSubscriptions, requestNotification, subscribe, on } = createWatchlist<ClockWatchListEntries>({\n        // Use wrapper function instead of direct reference to `Date.now`,\n        // otherwise, tests will fail since `Date.now` won't be mocked\n        now: () => Date.now(),\n    });\n\n    on.resume = () => {\n        interval = createInterval(requestNotification, 1000, false);\n    };\n\n    on.idle = () => {\n        interval?.cancel();\n        interval = undefined;\n    };\n\n    return struct<Clock>({\n        cancelSubscriptions: enumerable(cancelSubscriptions),\n        subscribe: enumerable(subscribe),\n    });\n})();\n\nexport default clock;\n","import { enumerable, isFunction, isUndefined, noop, struct } from '../../../utils';\nimport type { EmittableEvent, Emitter, EmitterEvents } from './types';\n\nexport const createEventEmitter = <Events extends EmitterEvents>() => {\n    const _eventTarget = new (class extends EventTarget {})();\n\n    const _emitEvent: Emitter<Events>['emit'] = (type, ...restArgs) => {\n        const [detail] = restArgs;\n\n        if (restArgs.length && isUndefined(detail)) {\n            // `undefined` has been explicitly passed as the detail of the event to be dispatched.\n            // Notify the consumer with a corresponding warning indicating possible resolutions.\n            // Warning can further be conditioned to only be available in development environment.\n            console.warn(\n                'Unexpected value `undefined` provided for event detail.\\n' +\n                    '\\tTurn off this warning by doing either of the following:\\n' +\n                    '\\t(1) omit the optional event detail parameter.\\n' +\n                    '\\t(2) explicitly pass `null` for the event detail parameter (instead of `undefined`).\\n'\n            );\n        }\n\n        const event = new CustomEvent(\n            type,\n            struct({\n                bubbles: enumerable(false),\n                cancelable: enumerable(false),\n                detail: enumerable(detail ?? null),\n            })\n        ) as EmittableEvent<Events, typeof type>;\n\n        return _eventTarget.dispatchEvent(event);\n    };\n\n    const _onEvent: Emitter<Events>['on'] = (type, listener) => {\n        if (!isFunction(listener)) return noop;\n\n        const _listener = (evt: Event) =>\n            listener.call(\n                null,\n                struct({\n                    detail: enumerable((evt as EmittableEvent<Events, typeof type>).detail),\n                    timeStamp: enumerable(evt.timeStamp),\n                    type: enumerable((evt as EmittableEvent<Events, typeof type>).type),\n                })\n            );\n\n        _eventTarget.addEventListener(type, _listener);\n\n        return () => _eventTarget.removeEventListener(type, _listener);\n    };\n\n    return struct<Emitter<Events>>({\n        emit: enumerable(_emitEvent),\n        on: enumerable(_onEvent),\n    });\n};\n\nexport default createEventEmitter;\n","import {\n    abortedSignal,\n    abortSignalForAny,\n    enumerable,\n    getter,\n    isAbortSignal,\n    isFunction,\n    noop,\n    parseDate,\n    struct,\n    tryResolve,\n} from '../../../../utils';\nimport clock from '../../../time/clock';\nimport { createAbortable } from '../../../async/abortable';\nimport { createPromisor } from '../../../async/promisor';\nimport { isWatchlistUnsubscribeToken } from '../../../reactive/watchlist';\nimport { createEventEmitter, Emitter } from '../../../reactive/eventEmitter';\nimport { INTERNAL_EVT_SESSION_DEADLINE } from './constants';\nimport type { SessionEventType, SessionSpecification } from '../types';\nimport type { SessionDeadline, SessionDeadlineEmitter } from './types';\n\nexport const createSessionDeadline = <T extends any>(emitter: Emitter<SessionEventType>, specification: SessionSpecification<T>) => {\n    let _deadlineSignal: AbortSignal | undefined;\n    let _deadlineTimestamp = Infinity;\n    let _refreshPromisorSignal: AbortSignal | undefined;\n    let _stopDeadlineClock: (() => void) | undefined;\n\n    const _deadlineAbortable = createAbortable();\n    const _deadlineEmitter: SessionDeadlineEmitter = createEventEmitter();\n\n    const _clearDeadline = () => {\n        _deadlineSignal?.removeEventListener('abort', _clearDeadline);\n        _deadlineTimestamp = Infinity;\n        _stopDeadlineClock?.();\n        _deadlineAbortable.refresh();\n        _deadlineEmitter.emit(INTERNAL_EVT_SESSION_DEADLINE);\n    };\n\n    const _refreshPromisor = createPromisor(async (signal, session: T | undefined) => {\n        _refreshPromisorSignal = signal;\n\n        const deadline = await tryResolve(() => {\n            const _deadline = specification.deadline;\n            return isFunction(_deadline) ? _deadline.call(specification, session, signal) : _deadline;\n        }).catch(noop as () => undefined);\n\n        if (_refreshPromisorSignal !== signal) return;\n\n        const _deadlines = (Array.isArray(deadline) ? deadline : [deadline]).filter(deadline => deadline || deadline === 0);\n\n        if (_deadlines.length > 0) {\n            let _deadlineElapsed = false;\n            let _signals = new Set<AbortSignal>();\n\n            for (const deadline of _deadlines) {\n                if (isAbortSignal(deadline)) {\n                    if ((_deadlineElapsed = deadline.aborted)) break;\n                    _signals.add(deadline);\n                } else {\n                    _deadlineTimestamp = Math.min(_deadlineTimestamp, parseDate(deadline) ?? Infinity);\n                    if ((_deadlineElapsed = _deadlineTimestamp <= Date.now())) break;\n                }\n            }\n\n            _deadlineElapsed ||= _signals.size < 1 && !Number.isFinite(_deadlineTimestamp);\n\n            if (!_deadlineElapsed) {\n                _deadlineSignal = abortSignalForAny([..._signals, _deadlineAbortable.signal]);\n                _deadlineSignal.addEventListener('abort', _clearDeadline);\n                _startDeadlineClock();\n            } else _deadlineSignal ??= abortedSignal();\n\n            // clear collections\n            _deadlines.length = 0;\n            _signals.clear();\n        } else _deadlineSignal = undefined;\n    });\n\n    const _startDeadlineClock = () => {\n        if (!Number.isFinite(_deadlineTimestamp)) return;\n\n        let unsubscribeClock = clock.subscribe(snapshotOrSignal => {\n            if (isWatchlistUnsubscribeToken(snapshotOrSignal)) return _clearDeadline();\n            if (snapshotOrSignal.now >= _deadlineTimestamp) _deadlineAbortable.abort();\n        });\n\n        _stopDeadlineClock = () => {\n            unsubscribeClock?.();\n            unsubscribeClock = _stopDeadlineClock = undefined!;\n        };\n    };\n\n    return struct<SessionDeadline<T>>({\n        elapse: enumerable(_deadlineAbortable.abort),\n        elapsed: getter(() => _deadlineSignal && _deadlineSignal.aborted),\n        on: enumerable(_deadlineEmitter.on),\n        refresh: enumerable(_refreshPromisor.bind(undefined)),\n        signal: getter(() => _deadlineAbortable.signal),\n    });\n};\n\nexport default createSessionDeadline;\n","import { createPromisor } from '../../../async/promisor';\nimport { createEventEmitter, Emitter } from '../../../reactive/eventEmitter';\nimport { abortSignalForAny, ALREADY_RESOLVED_PROMISE, enumerable, getter, isAbortSignal, isFunction, struct, tryResolve } from '../../../../utils';\nimport { INTERNAL_EVT_SESSION_READY, INTERNAL_EVT_SESSION_REFRESHING_END, INTERNAL_EVT_SESSION_REFRESHING_START } from './constants';\nimport { ERR_SESSION_FACTORY_UNAVAILABLE, ERR_SESSION_INVALID, ERR_SESSION_REFRESH_ABORTED, EVT_SESSION_EXPIRED } from '../constants';\nimport type { SessionRefresher, SessionRefresherContext, SessionRefresherEmitter } from './types';\nimport type { SessionEventType, SessionSpecification } from '../types';\n\nexport const createSessionRefresher = <T extends any>(emitter: Emitter<SessionEventType>, specification: SessionSpecification<T>) => {\n    let _refreshPending = false;\n    let _refreshingPromise: Promise<void> | undefined;\n    let _refreshingSignal: AbortSignal;\n    let _waitForRefreshingPromise = true;\n    let _session: T | undefined;\n\n    const _sessionPlaceholder = Symbol('<next_session>');\n    const _refresherEmitter: SessionRefresherEmitter = createEventEmitter();\n\n    function _assertSession(value: any): asserts value is T {\n        try {\n            specification.assert?.(value);\n        } catch (ex) {\n            throw ERR_SESSION_INVALID;\n        }\n    }\n\n    function _assertSessionFactory(value: any): asserts value is NonNullable<SessionSpecification<T>['onRefresh']> {\n        if (!isFunction(value)) throw ERR_SESSION_FACTORY_UNAVAILABLE;\n    }\n\n    const _refreshPromisor = createPromisor((promisorSignal, signal?: AbortSignal | null | undefined) => {\n        if (!_refreshingSignal) _refreshingSignal = promisorSignal;\n        else return _refreshSession(isAbortSignal(signal) ? abortSignalForAny([signal, promisorSignal]) : promisorSignal);\n    });\n\n    const _refreshSession = async (signal: AbortSignal) => {\n        let nextSession: any = _sessionPlaceholder;\n        try {\n            _refreshPending = false;\n            _refreshingSignal = signal;\n\n            if (_waitForRefreshingPromise) {\n                await (_refreshingPromise ??= (async () => {\n                    /////////////////////////////////////////////////////////////////\n                    // Should run only once for each batch of refresh attempts, at //\n                    // the start (the first refresh attempt) of the current batch. //\n                    /////////////////////////////////////////////////////////////////\n\n                    // Defer dispatching `EVT_SESSION_REFRESHING_START` event\n                    // until the next tick, thus guaranteeing consistent async behavior\n                    // for every `refreshPromisor()` call.\n                    await ALREADY_RESOLVED_PROMISE;\n\n                    // Subsequent refresh attempts need not await `_refreshingPromise` anymore\n                    _waitForRefreshingPromise = false;\n\n                    _refresherEmitter.emit(INTERNAL_EVT_SESSION_REFRESHING_START);\n                })());\n            }\n\n            _assertSessionFactory(specification.onRefresh);\n\n            nextSession = await tryResolve(() => specification.onRefresh(_session, signal)).finally(() => {\n                if (signal.aborted) throw ERR_SESSION_REFRESH_ABORTED;\n            });\n        } finally {\n            if (_refreshingSignal === signal) {\n                //////////////////////////////////////////////////////////////////\n                // These session refresh completion steps should run only once, //\n                // at the end of each batch of session refresh attempts (only   //\n                // for the last session refresh request).                       //\n                //////////////////////////////////////////////////////////////////\n\n                try {\n                    if (nextSession !== _sessionPlaceholder) {\n                        _assertSession(nextSession);\n                        _session = nextSession;\n                        _refresherEmitter.emit(INTERNAL_EVT_SESSION_READY);\n                    }\n                } finally {\n                    // Mark current batch of refresh attempts as completed\n                    _refreshingPromise = undefined;\n                    _waitForRefreshingPromise = true;\n                    _refresherEmitter.emit(INTERNAL_EVT_SESSION_REFRESHING_END);\n                }\n            }\n        }\n    };\n\n    emitter.on(EVT_SESSION_EXPIRED, () => (_refreshPending = !_refreshingPromise));\n\n    // Initial refresh promisor call to capture the refreshing signal\n    void _refreshPromisor();\n\n    return struct<SessionRefresher<T>>({\n        context: enumerable(\n            struct<SessionRefresherContext<T>>({\n                emitter: enumerable(emitter),\n                specification: enumerable(specification),\n            })\n        ),\n        on: enumerable(_refresherEmitter.on),\n        pending: getter(() => _refreshPending),\n        promise: getter(() => _refreshPromisor.promise),\n        refresh: enumerable(_refreshPromisor.bind(undefined)),\n        refreshing: getter(() => !!_refreshingPromise),\n        session: getter(() => _session),\n        signal: getter(() => _refreshingSignal),\n    });\n};\n\nexport default createSessionRefresher;\n","import {\n    ERR_SESSION_EXPIRED,\n    ERR_SESSION_HTTP_UNAVAILABLE,\n    EVT_SESSION_EXPIRED,\n    EVT_SESSION_READY,\n    EVT_SESSION_REFRESHED,\n    EVT_SESSION_REFRESHING_END,\n    EVT_SESSION_REFRESHING_START,\n} from './constants';\nimport {\n    INTERNAL_EVT_SESSION_DEADLINE,\n    INTERNAL_EVT_SESSION_READY,\n    INTERNAL_EVT_SESSION_REFRESHING_END,\n    INTERNAL_EVT_SESSION_REFRESHING_START,\n} from './internal/constants';\nimport { createSessionAutofresher } from './internal/autofresher';\nimport { createSessionDeadline } from './internal/deadline';\nimport { createSessionRefresher } from './internal/refresher';\nimport { createEventEmitter } from '../../reactive/eventEmitter';\nimport { isFunction, noop } from '../../../utils';\nimport type { SessionEventType, SessionSpecification } from './types';\n\nexport class SessionContext<T, HttpParams extends any[] = any[]> {\n    private _session: T | undefined;\n\n    private readonly _autofresh;\n    private readonly _deadline;\n    private readonly _refresher;\n\n    private readonly _eventEmitter = createEventEmitter<SessionEventType>();\n\n    public declare readonly http: typeof this._sessionHttp;\n    public declare readonly on: (typeof this._eventEmitter)['on'];\n    public declare readonly refresh: (typeof this._refresher)['refresh'];\n\n    constructor(private readonly _specification: SessionSpecification<T, HttpParams>) {\n        this._deadline = createSessionDeadline(this._eventEmitter, this._specification as SessionSpecification<T>);\n        this._refresher = createSessionRefresher(this._eventEmitter, this._specification as SessionSpecification<T>);\n        this._autofresh = createSessionAutofresher(this._refresher);\n\n        this._deadline.on(INTERNAL_EVT_SESSION_DEADLINE, () => this._eventEmitter.emit(EVT_SESSION_EXPIRED));\n        this._refresher.on(INTERNAL_EVT_SESSION_REFRESHING_START, () => this._eventEmitter.emit(EVT_SESSION_REFRESHING_START));\n        this._refresher.on(INTERNAL_EVT_SESSION_REFRESHING_END, () => this._eventEmitter.emit(EVT_SESSION_REFRESHING_END));\n\n        this._refresher.on(INTERNAL_EVT_SESSION_READY, () => {\n            this._session = this._refresher.session;\n            this._deadline.refresh(this._session).finally(() => this._eventEmitter.emit(EVT_SESSION_REFRESHED));\n            this._eventEmitter.emit(EVT_SESSION_READY);\n        });\n\n        this.http = this._sessionHttp.bind(this);\n        this.on = this._eventEmitter.on;\n        this.refresh = this._refresher.refresh;\n    }\n\n    get isExpired() {\n        return this._deadline.elapsed;\n    }\n\n    get refreshing() {\n        return this._refresher.refreshing;\n    }\n\n    private _assertSessionHttp(value: any): asserts value is NonNullable<SessionSpecification<T, HttpParams>['http']> {\n        if (!isFunction(value)) throw ERR_SESSION_HTTP_UNAVAILABLE;\n    }\n\n    private async _sessionHttp(\n        beforeHttp?: ((currentSession: T | undefined, signal: AbortSignal, ...args: HttpParams) => any) | null,\n        ...args: HttpParams\n    ) {\n        this._autofresh(true);\n        while (true) {\n            try {\n                // a no-op catch callback is used here (`noop`),\n                // to silence unnecessary unhandled promise rejection warnings\n                await this._refresher.promise.catch(noop);\n\n                const { signal } = this._deadline;\n\n                await beforeHttp?.(this._session, signal, ...args);\n                this._assertSessionHttp(this._specification.http);\n\n                return await this._specification.http(this._session, signal, ...args);\n            } catch (ex) {\n                if (ex !== ERR_SESSION_EXPIRED) throw ex;\n                if (this._refresher.pending) continue;\n                this._deadline.elapse();\n            }\n        }\n    }\n}\n\nexport default SessionContext;\n","export const API_VERSION = 'v1';\n","import { getErrorType, getRequestObject, getResponseContentType, getResponseDownloadFilename, handleFetchError, isAdyenErrorResponse } from './utils';\nimport { API_VERSION } from './constants';\nimport { normalizeLoadingContext, normalizeUrl } from '../utils';\nimport { HttpOptions } from './types';\nimport { onErrorHandler } from '../types';\n\nconst errorHandlerHelper = (errorHandler?: onErrorHandler, error?: any) => {\n    // Always throws\n    try {\n        errorHandler?.(error);\n    } catch {\n        throw error;\n    }\n};\n\nexport async function http<T>(options: HttpOptions): Promise<T> {\n    const { errorLevel, loadingContext = '', path } = options;\n    const request = getRequestObject(options);\n    const url = new URL(`${normalizeLoadingContext(loadingContext)}${API_VERSION}${normalizeUrl(path)}`);\n\n    if (options.params) {\n        options.params.forEach((value, param) => {\n            const decodedValue = decodeURIComponent(value);\n            if (decodedValue) url.searchParams.append(param, decodedValue);\n        });\n    }\n\n    return (async () => {\n        // Boolean flag:\n        // Indicates whether a resulting exception will be propagated to the caller (unhandled).\n        // If set to `true`, the resulting exception will be propagated (unhandled).\n        let errorPassThrough = false;\n\n        const error = { level: errorLevel } as Parameters<typeof handleFetchError>[0];\n\n        try {\n            // The `fetch()` could fail and thus throw an exception due to several causes,\n            // including but not limited to: fetch signal aborted, CORS errors, network errors\n            // (e.g device is offline or poor connection), etc.\n            const res = await fetch(url, request); // (!)\n\n            if (res.ok) {\n                if (res.status === 204) {\n                    // No content to process\n                    return null;\n                }\n\n                try {\n                    const contentType = getResponseContentType(res);\n\n                    //TODO: when backend is ready double check this logic\n                    switch (contentType) {\n                        case 'application/json':\n                            // This could throw an exception in one of these two cases:\n                            //   (1) if response has no body content\n                            //   (2) if response body content is not valid JSON\n                            return await res.json(); // (!!)\n                        default:\n                            const blob = await res.blob();\n                            const filename = getResponseDownloadFilename(res);\n                            return { blob, filename } as const;\n                    }\n                } catch (ex) {\n                    // If it does throw an exception, the exception will be propagated to the caller (unhandled).\n                    errorPassThrough = true;\n\n                    // Consider transforming the exception before propagating it to the caller,\n                    // thus making it easier for the caller to differentiate it from other errors.\n                    throw ex;\n                }\n            }\n\n            error.type = getErrorType(res.status);\n\n            // This could throw an exception in one of these two cases:\n            //   (1) if response has no body content\n            //   (2) if response body content is not valid JSON\n            //\n            // If it does throw an exception, the exception will be handled,\n            // since we have the `errorCode` (HTTP status code).\n            const response = await res.json(); // (!)\n\n            error.message = options.errorMessage || `Service at ${url} not available`;\n            error.errorCode = String(response.status);\n            error.requestId = response?.requestId;\n\n            if (isAdyenErrorResponse(response)) {\n                error.message = response.detail;\n                error.errorCode = response.errorCode;\n                error.status = response.status;\n            }\n            errorHandlerHelper(options.errorHandler, error);\n        } catch (ex) {\n            if (errorPassThrough) {\n                // Since the `errorPassThrough` flag is set to `true`,\n                // The exception will be propagated to the caller (unhandled)\n                errorHandlerHelper(options.errorHandler, ex);\n                throw ex;\n            }\n\n            errorHandlerHelper(options.errorHandler, ex);\n\n            error.message = options.errorMessage || `Call to ${url} failed. Error: ${ex}`;\n        }\n\n        // Handle the resulting error\n        // This could throw an exception, depending on the `errorLevel`\n        // If it does throw an exception, the exception will be propagated to the caller (unhandled).\n        handleFetchError(error); // (!!)\n    })();\n}\n\nexport function httpGet<T>(options: Omit<HttpOptions, 'method'>): Promise<T> {\n    return http<T>({ ...options, method: 'GET' });\n}\n\nexport function httpPost<T>(options: Omit<HttpOptions, 'method'>): Promise<T> {\n    return http<T>({ ...options, method: 'POST' });\n}\n","import { ERR_SESSION_EXPIRED, SessionSpecification } from '../../../primitives/context/session';\nimport { abortSignalForAny, enumerable, isAbortSignal, isPlainObject, isString, isUndefined } from '../../../utils';\nimport { http as _http } from '../../Http/http';\nimport { ErrorTypes } from '../../Http/utils';\nimport { AUTO_REFRESH, MAX_AGE_MS } from './constants';\nimport type { SessionObject, SessionRequest } from '../types';\nimport type { HttpOptions } from '../../Http/types';\nimport type { onErrorHandler } from '../../types';\n\ntype _AuthSessionSpecification = SessionSpecification<SessionObject, Parameters<typeof _http>>;\n\nexport class AuthSessionSpecification implements _AuthSessionSpecification {\n    public declare errorHandler: onErrorHandler | null;\n\n    public declare readonly autoRefresh: _AuthSessionSpecification['autoRefresh'];\n    public declare readonly onRefresh: _AuthSessionSpecification['onRefresh'];\n\n    constructor(public onSessionCreate?: SessionRequest) {\n        this._errorHandler = this._errorHandler.bind(this);\n\n        Object.defineProperties(this, {\n            autoRefresh: enumerable<typeof this.autoRefresh>(AUTO_REFRESH),\n            onRefresh: enumerable<typeof this.onRefresh>((_, signal) => this.onSessionCreate!(signal)),\n        });\n    }\n\n    public readonly assert: _AuthSessionSpecification['assert'] = maybeSession => {\n        if (isPlainObject(maybeSession)) {\n            const id = isString(maybeSession.id) ? maybeSession.id.trim() : undefined;\n            const token = isString(maybeSession.token) ? maybeSession.token.trim() : undefined;\n            if (id && token) return;\n        }\n        throw undefined;\n    };\n\n    public readonly deadline: _AuthSessionSpecification['deadline'] = session => {\n        const deadlines = [];\n        let issuedAt: number;\n        let expiresAt: number;\n\n        try {\n            ({ iat: issuedAt, exp: expiresAt } = JSON.parse(atob(session?.token.split('.')[1]!)));\n            deadlines.push(expiresAt);\n        } catch {\n            /* ignore malformed token errors */\n            issuedAt = Date.now();\n        }\n\n        if (!isUndefined(MAX_AGE_MS)) {\n            const issuedAtDate = new Date(issuedAt);\n            deadlines.push(issuedAtDate.setMilliseconds(issuedAtDate.getMilliseconds() + MAX_AGE_MS));\n        }\n\n        return deadlines;\n    };\n\n    public http: _AuthSessionSpecification['http'] = async (session, sessionSignal, httpOptions: HttpOptions) => {\n        const { headers, signal, ...restOptions } = httpOptions;\n        try {\n            const sessionHttpOptions = {\n                ...restOptions,\n                headers: {\n                    ...headers,\n                    ...(session && { Authorization: `Bearer ${session.token}` }),\n                },\n                errorHandler: this._errorHandler,\n                signal: isAbortSignal(signal) ? abortSignalForAny([sessionSignal, signal]) : sessionSignal,\n            };\n            return await _http(sessionHttpOptions);\n        } catch (ex: any) {\n            if (ex?.type === ErrorTypes.EXPIRED_TOKEN) throw ERR_SESSION_EXPIRED;\n            throw ex;\n        }\n    };\n\n    private _errorHandler(error: any) {\n        try {\n            if (this.errorHandler) this.errorHandler(error);\n        } catch {\n            /* Not interested in errors resulting from this instance's `errorHandler()` method */\n        }\n        throw error;\n    }\n}\n\nexport default AuthSessionSpecification;\n","import { enumerable, getter, struct } from '../../../utils';\nimport type { ErrorContainer } from './types';\n\nconst _NO_ERR: unique symbol = Symbol('<<NO_ERR>>');\n\nfunction _assertError<T>(error: any): asserts error is T {\n    /* istanbul ignore if -- @preserve */\n    if (error === _NO_ERR) {\n        // Code execution should never reach this block.\n        // If it does, then the consumer is doing something wrong.\n        // The consumer needs to call the `reset()` method instead.\n        throw new TypeError('Illegal error');\n    }\n}\n\nexport const createErrorContainer = <T = unknown>() => {\n    let _error: T | typeof _NO_ERR = _NO_ERR;\n\n    const _resetError = () => {\n        _error = _NO_ERR;\n    };\n\n    const _setError = (error: T) => {\n        _assertError<T>(error);\n        _error = error;\n    };\n\n    return struct<ErrorContainer<T>>({\n        error: getter(() => (_error === _NO_ERR ? undefined : _error)),\n        hasError: getter(() => _error !== _NO_ERR),\n        reset: enumerable(_resetError),\n        set: enumerable(_setError),\n    });\n};\n\nexport default createErrorContainer;\n","import AuthSetupContext from './AuthSetupContext';\nimport AuthSessionSpecification from './AuthSessionSpecification';\nimport { ERR_SESSION_REFRESH_ABORTED, EVT_SESSION_EXPIRED, EVT_SESSION_READY, SessionContext } from '../../../primitives/context/session';\nimport { createErrorContainer } from '../../../primitives/auxiliary/errorContainer';\nimport { createPromisor } from '../../../primitives/async/promisor';\nimport { createWatchlist } from '../../../primitives/reactive/watchlist';\nimport { boolOrFalse, boolOrTrue, isFunction } from '../../../utils';\n\nimport type { onErrorHandler } from '../../types';\n\nexport class AuthSession {\n    private _canSkipSessionRefresh = false;\n    private _refreshPromisorSignal: AbortSignal | undefined;\n    private _sessionIsFrozen = false;\n\n    private readonly _errorContainer = createErrorContainer();\n    private readonly _specification = new AuthSessionSpecification();\n    private readonly _sessionContext = new SessionContext(this._specification);\n    private readonly _setupContext = new AuthSetupContext(this._sessionContext);\n\n    private readonly _refreshPromisor = createPromisor(async (signal, skipSessionRefreshIfPossible = false) => {\n        let authStateChanged = !this._refreshPromisorSignal;\n        let isLatestRefresh = this._refreshPromisorSignal === (this._refreshPromisorSignal = signal);\n        const onlySetupRefresh = boolOrFalse(skipSessionRefreshIfPossible) && this._canSkipSessionRefresh;\n\n        if (authStateChanged) {\n            authStateChanged = false;\n            this._errorContainer.reset();\n            this._onAuthStateChanged();\n        }\n\n        try {\n            await (onlySetupRefresh ? this._setupContext : this._sessionContext)\n                .refresh(signal)\n                .finally(() => (isLatestRefresh = this._refreshPromisorSignal === signal));\n        } catch (ex) {\n            if (!isLatestRefresh) return;\n            if (!signal.aborted && (onlySetupRefresh || ex !== ERR_SESSION_REFRESH_ABORTED)) this._errorContainer.set(ex);\n            authStateChanged = !onlySetupRefresh;\n        } finally {\n            if (authStateChanged || (onlySetupRefresh && isLatestRefresh)) {\n                this._refreshPromisorSignal = undefined;\n                this._onAuthStateChanged();\n            }\n        }\n    });\n\n    private readonly _watchlist = createWatchlist({\n        endpoints: () => this._setupContext.endpoints,\n        hasError: () => this._errorContainer.hasError,\n        isExpired: () => this._sessionContext.isExpired,\n        isFrozen: () => this._sessionIsFrozen,\n        refreshing: () => !!this._refreshPromisorSignal,\n    });\n\n    public readonly freeze = () => {\n        this._sessionIsFrozen = true;\n        this._watchlist.on.resume = undefined;\n        this._watchlist.cancelSubscriptions();\n    };\n\n    public readonly http = this._sessionContext.http.bind(this._sessionContext, null);\n    public readonly refresh = this._refresh.bind(this);\n    public readonly subscribe = this._watchlist.subscribe;\n\n    constructor() {\n        this._watchlist.on.resume = () => {\n            const unlisteners = [\n                this._sessionContext.on(EVT_SESSION_EXPIRED, () => {\n                    this._canSkipSessionRefresh = false;\n                    this._onAuthStateChanged();\n                }),\n\n                this._sessionContext.on(EVT_SESSION_READY, () => {\n                    void this._refresh((this._canSkipSessionRefresh = true));\n                }),\n            ];\n\n            this._watchlist.on.idle = () => {\n                this._watchlist.on.idle = undefined;\n                unlisteners.forEach(unlisten => unlisten());\n                unlisteners.length = 0;\n            };\n\n            if (!this.context.refreshing && boolOrTrue(this.context.isExpired)) {\n                this._refresh();\n            }\n        };\n    }\n\n    get context() {\n        return this._watchlist.snapshot;\n    }\n\n    set loadingContext(loadingContext: typeof this._setupContext.loadingContext) {\n        this._setupContext.loadingContext = loadingContext;\n    }\n\n    set errorHandler(errorHandler: onErrorHandler | null) {\n        this._specification.errorHandler = errorHandler;\n    }\n\n    set onSessionCreate(onSessionCreate: typeof this._specification.onSessionCreate) {\n        if (this._specification.onSessionCreate === onSessionCreate) return;\n\n        this._specification.onSessionCreate = onSessionCreate;\n        if (!this._refreshPromisorSignal) return;\n\n        if (isFunction(this._specification.onSessionCreate)) {\n            this._canSkipSessionRefresh = false;\n            this._refresh();\n        }\n    }\n\n    private _onAuthStateChanged() {\n        this._watchlist.requestNotification();\n    }\n\n    private _refresh(skipSessionRefreshIfPossible = false) {\n        void this._refreshPromisor(skipSessionRefreshIfPossible);\n    }\n}\n\nexport default AuthSession;\n","import type { KeyOfRecord, WithReplacedUnderscoreOrDash } from '../utils/types';\nimport EN_US from './en-US.json';\nconst _en_US = { ...EN_US };\n\ntype _SupportedLocale = KeyOfRecord<typeof all_locales>;\ntype _Translations = Translations | PromiseLike<Translations>;\n\nexport type CustomTranslations = Record<string, Translations>;\nexport type Locale = `${Lowercase<string>}-${Uppercase<string>}`;\nexport type SupportedLocale = WithReplacedUnderscoreOrDash<_SupportedLocale, '_', '-'>;\nexport type TranslationKey = KeyOfRecord<typeof _en_US>;\nexport type Translations = { [key in TranslationKey]?: string };\nexport type TranslationSource = _Translations | (() => _Translations);\n\nexport type TranslationSourceRecord = {\n    [K in _SupportedLocale]: {\n        [P in K]: TranslationSource;\n    };\n}[_SupportedLocale];\n\nexport type TranslationOptions = {\n    values?: Record<string, string | number>;\n    count?: number;\n};\n\nconst _getTranslations = (translationsPromise: Promise<{ default: Translations }>) =>\n    translationsPromise.then(({ default: translations }) => translations);\n\nexport const da_DK = { da_DK: () => _getTranslations(import('./da-DK.json')) };\nexport const de_DE = { de_DE: () => _getTranslations(import('./de-DE.json')) };\nexport const es_ES = { es_ES: () => _getTranslations(import('./es-ES.json')) };\nexport const fi_FI = { fi_FI: () => _getTranslations(import('./fi-FI.json')) };\nexport const fr_FR = { fr_FR: () => _getTranslations(import('./fr-FR.json')) };\nexport const it_IT = { it_IT: () => _getTranslations(import('./it-IT.json')) };\nexport const nl_NL = { nl_NL: () => _getTranslations(import('./nl-NL.json')) };\nexport const no_NO = { no_NO: () => _getTranslations(import('./no-NO.json')) };\nexport const pt_BR = { pt_BR: () => _getTranslations(import('./pt-BR.json')) };\nexport const sv_SE = { sv_SE: () => _getTranslations(import('./sv-SE.json')) };\n\nexport const en_US = { en_US: _en_US as Translations };\n\nexport const all_locales = {\n    ...da_DK,\n    ...de_DE,\n    ...en_US,\n    ...es_ES,\n    ...fi_FI,\n    ...fr_FR,\n    ...it_IT,\n    ...nl_NL,\n    ...no_NO,\n    ...pt_BR,\n    ...sv_SE,\n} as const;\n","import { all_locales } from '../../../translations';\nimport type { Locale, SupportedLocale, Translations, TranslationSource } from '../../../translations';\n\nexport const FALLBACK_LOCALE = 'en-US' as const;\nexport const DEFAULT_TRANSLATIONS: Translations = all_locales['en_US'];\nexport const DEFAULT_DATETIME_FORMAT = { year: 'numeric', month: '2-digit', day: '2-digit' } as Intl.DateTimeFormatOptions;\nexport const EXCLUDE_PROPS = ['constructor', 'i18n', 'watch', 'preferredTranslations'] as const;\n\nexport const getLocalesFromTranslationSourcesRecord = (sources: Record<Locale, TranslationSource>) =>\n    [\n        ...new Set(\n            Object.keys(sources)\n                .map(locale => locale.replace(/_/g, '-'))\n                .sort()\n        ),\n    ] as Locale[];\n\nexport const SUPPORTED_LOCALES = getLocalesFromTranslationSourcesRecord(all_locales) as SupportedLocale[];\n","/**\n * Currency Codes\n */\nconst CURRENCY_CODES = {\n    AED: 'د.إ',\n    AFN: '؋',\n    ALL: 'L',\n    ANG: 'ƒ',\n    AOA: 'Kz',\n    ARS: '$',\n    AUD: '$',\n    AWG: 'ƒ',\n    AZN: '₼',\n    BAM: 'KM',\n    BBD: '$',\n    BDT: '৳',\n    BGN: 'лв',\n    BHD: '.د.ب',\n    BIF: 'FBu',\n    BMD: '$',\n    BND: '$',\n    BOB: 'Bs.',\n    BRL: 'R$',\n    BSD: '$',\n    BTC: '฿',\n    BTN: 'Nu.',\n    BWP: 'P',\n    BYR: 'p.',\n    BYN: 'Br',\n    BZD: 'BZ$',\n    CAD: '$',\n    CDF: 'FC',\n    CHF: 'Fr.',\n    CLP: '$',\n    CNY: '¥',\n    COP: '$',\n    CRC: '₡',\n    CUC: '$',\n    CUP: '₱',\n    CVE: '$',\n    CZK: 'Kč',\n    DJF: 'Fdj',\n    DKK: 'kr',\n    DOP: 'RD$',\n    DZD: 'دج',\n    EEK: 'kr',\n    EGP: '£',\n    ERN: 'Nfk',\n    ETB: 'Br',\n    EUR: '€',\n    FJD: '$',\n    FKP: '£',\n    GBP: '£',\n    GEL: '₾',\n    GGP: '£',\n    GHC: '₵',\n    GHS: 'GH₵',\n    GIP: '£',\n    GMD: 'D',\n    GNF: 'FG',\n    GTQ: 'Q',\n    GYD: '$',\n    HKD: '$',\n    HNL: 'L',\n    HRK: 'kn',\n    HTG: 'G',\n    HUF: 'Ft',\n    IDR: 'Rp',\n    ILS: '₪',\n    IMP: '£',\n    INR: '₹',\n    IQD: 'ع.د',\n    IRR: '﷼',\n    ISK: 'kr',\n    JEP: '£',\n    JMD: 'J$',\n    JPY: '¥',\n    KES: 'KSh',\n    KGS: 'лв',\n    KHR: '៛',\n    KMF: 'CF',\n    KPW: '₩',\n    KRW: '₩',\n    KYD: '$',\n    KZT: '₸',\n    LAK: '₭',\n    LBP: '£',\n    LKR: '₨',\n    LRD: '$',\n    LSL: 'M',\n    LTL: 'Lt',\n    LVL: 'Ls',\n    MAD: 'MAD',\n    MDL: 'lei',\n    MGA: 'Ar',\n    MKD: 'ден',\n    MMK: 'K',\n    MNT: '₮',\n    MOP: 'MOP$',\n    MUR: '₨',\n    MVR: 'Rf',\n    MWK: 'MK',\n    MXN: '$',\n    MYR: 'RM',\n    MZN: 'MT',\n    NAD: '$',\n    NGN: '₦',\n    NIO: 'C$',\n    NOK: 'kr',\n    NPR: '₨',\n    NZD: '$',\n    OMR: '﷼',\n    PAB: 'B/.',\n    PEN: 'S/.',\n    PGK: 'K',\n    PHP: '₱',\n    PKR: '₨',\n    PLN: 'zł',\n    PYG: 'Gs',\n    QAR: '﷼',\n    RMB: '￥',\n    RON: 'lei',\n    RSD: 'Дин.',\n    RUB: '₽',\n    RWF: 'R₣',\n    SAR: '﷼',\n    SBD: '$',\n    SCR: '₨',\n    SDG: 'ج.س.',\n    SEK: 'kr',\n    SGD: '$',\n    SHP: '£',\n    SLL: 'Le',\n    SOS: 'S',\n    SRD: '$',\n    SSP: '£',\n    STD: 'Db',\n    SVC: '$',\n    SYP: '£',\n    SZL: 'E',\n    THB: '฿',\n    TJS: 'SM',\n    TMT: 'T',\n    TND: 'د.ت',\n    TOP: 'T$',\n    TRL: '₤',\n    TRY: '₺',\n    TTD: 'TT$',\n    TVD: '$',\n    TWD: 'NT$',\n    TZS: 'TSh',\n    UAH: '₴',\n    UGX: 'USh',\n    USD: '$',\n    UYU: '$U',\n    UZS: 'лв',\n    VEF: 'Bs',\n    VND: '₫',\n    VUV: 'VT',\n    WST: 'WS$',\n    XAF: 'FCFA',\n    XBT: 'Ƀ',\n    XCD: '$',\n    XOF: 'CFA',\n    XPF: '₣',\n    YER: '﷼',\n    ZAR: 'R',\n    ZWD: 'Z$',\n};\n\nexport default CURRENCY_CODES;\n","const CURRENCY_DECIMALS = {\n    // ZERO_DECIMAL_CURRENCIES\n    IDR: 1,\n    JPY: 1,\n    KRW: 1,\n    VND: 1,\n    BYR: 1,\n    CVE: 1,\n    DJF: 1,\n    GHC: 1,\n    GNF: 1,\n    KMF: 1,\n    PYG: 1,\n    RWF: 1,\n    UGX: 1,\n    VUV: 1,\n    XAF: 1,\n    XOF: 1,\n    XPF: 1,\n\n    // ONE_DECIMAL_CURRENCIES\n    MRO: 10,\n\n    // THREE_DECIMAL_CURRENCIES\n    BHD: 1000,\n    IQD: 1000,\n    JOD: 1000,\n    KWD: 1000,\n    OMR: 1000,\n    LYD: 1000,\n    TND: 1000,\n};\n\nexport default CURRENCY_DECIMALS;\n","import CURRENCY_CODES from '../constants/currency-codes';\nimport CURRENCY_DECIMALS from '../constants/currency-decimals';\nimport { CurrencyCode, CurrencyDecimalCode } from '../types';\n\n/**\n * @internal\n * @param currencyCode -\n * Get divider amount\n */\nexport const getDivider = (currencyCode: string): number => CURRENCY_DECIMALS[currencyCode as CurrencyDecimalCode] || 100;\n\n/**\n * @internal\n * @param currencyCode -\n * Returns whether a CURRENCY CODE is valid\n */\nexport const isValidCurrencyCode = (currencyCode: string): currencyCode is CurrencyCode => !!CURRENCY_CODES[currencyCode as CurrencyCode];\n\n/**\n * @internal\n */\nexport const getCurrencyCode = (currencyCode: string): string | null => (isValidCurrencyCode(currencyCode) ? CURRENCY_CODES[currencyCode] : null);\n\n/**\n * @internal\n */\nexport const getDecimalAmount = (amount: number | string, currencyCode: string): number => {\n    const divider = getDivider(currencyCode);\n    return parseInt(String(amount), 10) / divider;\n};\n\n/**\n * @internal\n */\nexport const getLocalisedAmount = (\n    amount: number,\n    locale: string,\n    currencyCode: string,\n    hideCurrency = false,\n    options: Intl.NumberFormatOptions = {}\n): string => {\n    const stringAmount = amount.toString(); // Changing amount to string to avoid 0-value from returning false\n    const decimalAmount = getDecimalAmount(stringAmount, currencyCode);\n\n    const formatterLocale = locale.replace('_', '-');\n    const formatterOptions = {\n        style: 'currency',\n        currency: currencyCode,\n        currencyDisplay: 'symbol',\n        ...options,\n    };\n\n    try {\n        return hideCurrency\n            ? formatAmountWithoutCurrency(formatterLocale, formatterOptions, decimalAmount)\n            : decimalAmount.toLocaleString(formatterLocale, formatterOptions);\n    } catch (e) {\n        return stringAmount;\n    }\n};\n\nexport const formatAmountWithoutCurrency = (locale: string, options: Intl.NumberFormatOptions, amount: number) => {\n    return Intl.NumberFormat(locale, options)\n        .formatToParts(amount)\n        .filter(p => p.type !== 'currency')\n        .reduce((s, p) => s + p.value, '')\n        .trim();\n};\n\n/**\n * @internal\n */\nexport const getLocalisedPercentage = (percent = 0, locale: string): string | null => {\n    const decimalPercent = percent / 100 / 100;\n    const localeOptions = {\n        style: 'percent',\n        maximumFractionDigits: 2,\n    };\n\n    try {\n        return decimalPercent.toLocaleString(locale, localeOptions);\n    } catch (e) {\n        return null;\n    }\n};\n","import type { RestampContext } from './types';\n\nexport const REGEX_TZ_OFFSET = /(?<=GMT)(?:[-+](?:0?\\d|1[0-4])(?::?[0-5]\\d)?)?$/;\n\nexport const { BASE_FORMAT_OPTIONS, BASE_LOCALE, SYSTEM_TIMEZONE, SYSTEM_TIMEZONE_FORMATTER } = (() => {\n    const BASE_LOCALE = 'en-US';\n    const DIGITS_2 = '2-digit';\n    const NUMERIC = 'numeric';\n    const SHORT = 'short';\n    const TZ_LONG = 'longOffset';\n    const FRACTIONAL_SECOND_DIGITS = 3;\n\n    const BASE_FORMAT_OPTIONS: Readonly<Intl.DateTimeFormatOptions> = Object.freeze({\n        year: NUMERIC,\n        month: SHORT,\n        day: NUMERIC,\n        hour: DIGITS_2,\n        minute: DIGITS_2,\n        second: DIGITS_2,\n        fractionalSecondDigits: FRACTIONAL_SECOND_DIGITS,\n        timeZoneName: TZ_LONG, // should not be changed — needed for the tz offsets regexp\n    });\n\n    let SYSTEM_TIMEZONE: RestampContext['TIMEZONE'];\n    let SYSTEM_TIMEZONE_FORMATTER: RestampContext['formatter'];\n\n    try {\n        SYSTEM_TIMEZONE_FORMATTER = new Intl.DateTimeFormat(BASE_LOCALE, BASE_FORMAT_OPTIONS);\n        SYSTEM_TIMEZONE = SYSTEM_TIMEZONE_FORMATTER.resolvedOptions().timeZone;\n    } catch (ex) {\n        SYSTEM_TIMEZONE = undefined;\n    }\n\n    return { BASE_FORMAT_OPTIONS, BASE_LOCALE, SYSTEM_TIMEZONE, SYSTEM_TIMEZONE_FORMATTER };\n})();\n","import { EMPTY_ARRAY, mod } from '../../../../utils';\nimport { REGEX_TZ_OFFSET, SYSTEM_TIMEZONE_FORMATTER } from './constants';\nimport type { RestampContext, Restamper, RestampResult } from './types';\n\nconst REGEX_GMT_OFFSET_UNWANTED_SUBSTRINGS = /\\+(?=-)|([+-]00:00)/g;\nconst REGEX_TZ_SINGLE_DIGIT_OFFSET = /(?<=^\\D?)(\\d)$/;\n\nexport const computeTimezoneOffsetInMinutes = ([offsetHours, offsetMinutes]: readonly [number, number]) =>\n    (Math.abs(offsetHours * 60) + offsetMinutes) * (offsetHours < 0 ? -1 : 1);\n\nexport const computeTimezoneOffsetsFromMinutes = (timezoneOffsetInMinutes: number) =>\n    Object.freeze([\n        Math.floor(timezoneOffsetInMinutes / 60), // offset hours\n        mod(timezoneOffsetInMinutes, 60), // offset minutes\n    ] as const);\n\nexport const parseTimezoneOffset = (offset: string | number) => parseInt(offset as string, 10) || 0;\n\n/**\n * @param timezoneOffset {number} The minute offsets relative to GMT (Greenwich Mean Time).\n * @returns {string} The GMT suffixed string for the specified offsets in the format GMT(+|-)[HH]:[MM], or just GMT (if [HH]:[MM] is 00:00).\n */\nexport const getGMTSuffixForTimezoneOffset = (timezoneOffset: RestampResult['offset']): string => {\n    const offsets = computeTimezoneOffsetsFromMinutes(timezoneOffset);\n    const offsetString = offsets.map(offset => `${offset}`.replace(REGEX_TZ_SINGLE_DIGIT_OFFSET, '0$1')).join(':');\n    return `GMT+${offsetString}`.replace(REGEX_GMT_OFFSET_UNWANTED_SUBSTRINGS, '');\n};\n\n/**\n * @param timezoneOffset {number} The minute offsets of the timezone relative to GMT (Greenwich Mean Time).\n * @param timezoneOffsetRelativeToSystem {number} The minute offsets of the timezone relative to the system timezone.\n * @returns {string} The system timezone GMT suffixed string in the format GMT(+|-)[HH]:[MM], or just GMT (if [HH]:[MM] is 00:00).\n */\nexport const getSystemTimezoneGMTSuffixFromTimezoneOffsets = (\n    timezoneOffset: RestampResult['offset'],\n    timezoneOffsetRelativeToSystem: RestampResult['offset']\n): string => getGMTSuffixForTimezoneOffset(timezoneOffset - timezoneOffsetRelativeToSystem);\n\nexport const getTimezoneOffsetFromFormattedDateString = (date?: string): number => {\n    const offsets = date?.match(REGEX_TZ_OFFSET)?.[0].split(':', 2).map(parseTimezoneOffset) ?? (EMPTY_ARRAY as readonly number[]);\n    return computeTimezoneOffsetInMinutes(offsets.concat(0, 0).slice(0, 2) as [number, number]);\n};\n\nexport const getTimezoneOffsetForTimestamp = (timestamp: number, timezoneFormatter: RestampContext['formatter'] = SYSTEM_TIMEZONE_FORMATTER) => {\n    const systemOffset = getTimezoneOffsetFromFormattedDateString(SYSTEM_TIMEZONE_FORMATTER?.format(timestamp));\n    const timezoneOffset = getTimezoneOffsetFromFormattedDateString(timezoneFormatter?.format(timestamp));\n    return timezoneOffset - systemOffset;\n};\n\nconst restamp = <R extends Restamper = Restamper>(restamper: R, time: Parameters<R>[0], direction: -1 | 1 = 1) => {\n    const { offset, timestamp } = restamper(time);\n    return timestamp - offset * direction * 60000;\n};\n\nexport const systemToTimezone = <R extends Restamper = Restamper>(restamper: R, time: Parameters<R>[0]) => restamp(restamper, time, 1);\nexport const timezoneToSystem = <R extends Restamper = Restamper>(restamper: R, time: Parameters<R>[0]) => restamp(restamper, time, -1);\n","import { isNullish, isUndefined, struct } from '../../../../utils';\nimport { BASE_FORMAT_OPTIONS, BASE_LOCALE, SYSTEM_TIMEZONE, SYSTEM_TIMEZONE_FORMATTER } from './constants';\nimport type { RestampContext, RestamperWithTimezone, RestampResult } from './types';\nimport { getTimezoneOffsetForTimestamp } from './utils';\n\nconst restamper = (() => {\n    let getTimeZone: (this: RestampContext) => RestampContext['TIMEZONE'];\n    let setTimeZone: (this: RestampContext, timezone?: RestampContext['TIMEZONE'] | null) => void;\n\n    if (!isUndefined(SYSTEM_TIMEZONE)) {\n        getTimeZone = function () {\n            return this.TIMEZONE;\n        };\n\n        setTimeZone = function (timeZone) {\n            if (!isNullish(timeZone)) {\n                try {\n                    const nextFormatter = new Intl.DateTimeFormat(BASE_LOCALE, { ...BASE_FORMAT_OPTIONS, timeZone });\n                    const nextTimeZone = nextFormatter.resolvedOptions().timeZone;\n\n                    if (this.TIMEZONE === nextTimeZone) return;\n\n                    this.TIMEZONE = nextTimeZone;\n                    this.formatter = nextFormatter;\n                } catch (ex) {\n                    // Silently ignore invalid timezone updates\n                    if (import.meta.env.DEV) console.error(ex);\n                }\n            } else {\n                this.TIMEZONE = SYSTEM_TIMEZONE;\n                this.formatter = SYSTEM_TIMEZONE_FORMATTER;\n            }\n        };\n    }\n\n    function restamp(this: RestampContext, ...args: [(string | number | Date)?]): RestampResult {\n        if (args.length === 0) return restamp.call(this, Date.now());\n\n        const time = args[0];\n        const timestamp = new Date(time as NonNullable<typeof time>).getTime();\n        const formatter = this.formatter ?? SYSTEM_TIMEZONE_FORMATTER;\n\n        return Object.freeze({\n            formatted: formatter?.format(timestamp),\n            offset: getTimezoneOffsetForTimestamp(timestamp, formatter),\n            timestamp,\n        } as const);\n    }\n\n    return () => {\n        const context = { TIMEZONE: SYSTEM_TIMEZONE } as RestampContext;\n        const set = setTimeZone?.bind(context);\n\n        const tz = struct({\n            current: { get: getTimeZone?.bind(context), set },\n            system: { value: SYSTEM_TIMEZONE },\n        });\n\n        return Object.defineProperties(restamp.bind(context) as RestamperWithTimezone, {\n            tz: { get: () => tz, set },\n        });\n    };\n})();\n\nexport default restamper;\n","import { JSX } from 'preact';\nimport { DEFAULT_TRANSLATIONS, FALLBACK_LOCALE } from './constants/localization';\nimport { asPlainObject, EMPTY_OBJECT, hasOwnProperty, isFunction } from '../../utils';\nimport type { CustomTranslations, Locale, TranslationOptions, Translations, TranslationSource } from '../../translations';\n\nconst DEFAULT_TRANSLATION_OPTIONS: TranslationOptions = { values: EMPTY_OBJECT, count: 0 } as const;\nconst LOCALE_FORMAT_REGEX = /^[a-z]{2}-[A-Z]{2}$/;\n\n/**\n * Convert to ISO 639-1\n */\nexport const toTwoLetterCode = (locale: string) => locale.substring(0, 2).toLowerCase();\n\n/**\n * Matches a string with one of the locales\n * @param locale -\n * @param supportedLocales -\n\n * @example\n * matchLocale('en-GB');\n * // 'en-US'\n */\nexport function matchLocale(locale: string, supportedLocales: Locale[]): Locale | null {\n    if (!locale) return null;\n    const twoLetterCode = toTwoLetterCode(locale);\n    return supportedLocales.find(supportedLocale => toTwoLetterCode(supportedLocale) === twoLetterCode) || null;\n}\n\n/**\n * Returns a locale with the proper format\n * @param locale -\n *\n * @example\n * formatLocale('En_us');\n * // 'en-US'\n */\nexport function formatLocale(locale: string): Locale | null {\n    const localeString = locale.replace('_', '-');\n\n    // If it's already formatted, return the locale\n    if (LOCALE_FORMAT_REGEX.test(localeString)) return localeString as Locale;\n\n    // Split the string in two\n    const [languageCode, countryCode] = localeString.split('-');\n\n    // If the locale or the country codes are missing, return null\n    if (!languageCode || !countryCode) return null;\n\n    // Ensure correct format and join the strings back together\n    const fullLocale = `${languageCode.toLowerCase()}-${countryCode.toUpperCase()}` as Locale;\n\n    return fullLocale.length === 5 ? fullLocale : null;\n}\n\n/**\n * Checks the locale format.\n * Also checks if it's on the locales array.\n * If it is not, tries to match it with one.\n * @param locale -\n * @param supportedLocales -\n */\nexport function parseLocale(locale: string, supportedLocales: Locale[]): Locale | null {\n    const trimmedLocale = locale.trim();\n\n    if (!trimmedLocale || trimmedLocale.length < 1 || trimmedLocale.length > 5) return FALLBACK_LOCALE;\n\n    const formattedLocale = formatLocale(trimmedLocale);\n\n    if (formattedLocale && supportedLocales.includes(formattedLocale)) return formattedLocale;\n\n    return matchLocale(formattedLocale ?? trimmedLocale, supportedLocales);\n}\n\n/**\n * Formats the locales inside the customTranslations object against the supportedLocales\n * @param customTranslations -\n * @param supportedLocales -\n */\nexport function formatCustomTranslations(customTranslations: CustomTranslations = EMPTY_OBJECT, supportedLocales: Locale[]): CustomTranslations {\n    if (customTranslations === EMPTY_OBJECT) return customTranslations;\n\n    return (Object.keys(customTranslations) as Extract<keyof CustomTranslations, string>[]).reduce((translations, locale) => {\n        const formattedLocale = formatLocale(locale) || parseLocale(locale, supportedLocales);\n        if (formattedLocale && customTranslations[locale]) {\n            translations[formattedLocale] = customTranslations[locale]!;\n        }\n        return translations;\n    }, {} as CustomTranslations);\n}\n\nconst replaceTranslationValues = (translation: string, values?: Record<string, any>) => {\n    return translation.replace(/%{(\\w+)}/g, (_, k) => values?.[k] || '');\n};\n\n/**\n * Returns a translation string by key\n * @param translations -\n * @param key -\n * @param options -\n *\n * @internal\n */\nexport const getTranslation = (translations: Record<string, string>, key: string, options = DEFAULT_TRANSLATION_OPTIONS): string | null => {\n    const count = options.count ?? 0;\n    const countKey = `${key}__${count}`;\n\n    // Find {key}__{count} translation key\n    if (hasOwnProperty(translations, countKey) && translations[countKey]) {\n        return replaceTranslationValues(translations[countKey] as string, options.values);\n    }\n\n    const pluralKey = `${key}__plural`;\n\n    // Find {key}__plural translation key, if `count` greater than 1 (e.g. myTranslation__plural)\n    if (hasOwnProperty(translations, pluralKey) && count > 1 && translations[pluralKey]) {\n        return replaceTranslationValues(translations[pluralKey] as string, options.values);\n    }\n\n    // Find {key} translation key (e.g. myTranslation)\n    if (hasOwnProperty(translations, key) && translations[key]) {\n        return replaceTranslationValues(translations[key] as string, options.values);\n    }\n\n    return null;\n};\n\n/**\n * Returns an array with all the locales\n * @param locale - The locale the user wants to use\n * @param translations -\n * @param customTranslations -\n */\nexport const loadTranslations = async (\n    locale: string,\n    translations: { [locale: Locale]: TranslationSource } = EMPTY_OBJECT,\n    customTranslations: CustomTranslations = EMPTY_OBJECT\n): Promise<Translations> => {\n    // Match locale to one of our available locales (e.g. es-AR => es-ES)\n    const localeToLoad = parseLocale(locale, Object.keys(translations) as Locale[]) || FALLBACK_LOCALE;\n    const loadedLocale = translations[localeToLoad as keyof typeof translations];\n\n    return {\n        ...DEFAULT_TRANSLATIONS, // Default en-US translations (in case any other translation file is missing any key)\n        ...((await (isFunction(loadedLocale) ? loadedLocale() : loadedLocale)) ?? EMPTY_OBJECT), // Merge with our locale file of the locale they are loading\n        ...asPlainObject(customTranslations?.[locale]), // Merge with their custom locales if available\n    };\n};\n\n/**\n * Injects JSX elements in a middle of a translation and returns a JSX array\n * The input string should use %# as the token to know where to insert the component\n * @param translation - Translation string\n * @param renderFunctions - An array function that renders JSX elements\n */\nexport const interpolateElement = (translation: string, renderFunctions: Array<(translation: string) => JSX.Element>) => {\n    // splits by regex group, it guarantees that it only splits with 2 tokens (%#)\n    const matches = translation.split(/%#(.*?)%#/gm);\n    // the map will create an array of JSX / string elements, this syntax in accepted in JSX/react to render elements\n    return matches.map((term, index) => {\n        // math to get the index of the renderFunction that should be used\n        // since we split on tokens, that means the index of the render function is half of the index of the string\n        const indexInFunctionArray = Math.floor(index / 2);\n        return index % 2 === 0 ? term : renderFunctions[indexInFunctionArray]?.(term);\n    });\n};\n","import Localization from './Localization';\nimport { isFunction, struct } from '../../utils';\nimport { formatLocale, loadTranslations, parseLocale } from './utils';\nimport { EXCLUDE_PROPS, FALLBACK_LOCALE } from './constants/localization';\nimport type { CustomTranslations, Locale } from '../../translations';\n\nexport function createTranslationsLoader(this: Localization) {\n    type TranslationsLoader = {\n        load: (customTranslations?: CustomTranslations) => ReturnType<typeof loadTranslations>;\n        get locale(): Locale;\n        set locale(locale: string);\n        supportedLocales: Locale[];\n    };\n\n    let _locale = this.locale;\n    let _preferredLocale: string = _locale;\n    let _supportedLocales: TranslationsLoader['supportedLocales'] = [...this.supportedLocales];\n\n    return struct<TranslationsLoader>({\n        load: { value: (customTranslations?: CustomTranslations) => loadTranslations(_locale, this.preferredTranslations, customTranslations) },\n        locale: {\n            get: () => _locale,\n            set: (locale: string) => {\n                _preferredLocale = locale;\n                _locale = formatLocale(locale) || parseLocale(locale, _supportedLocales) || FALLBACK_LOCALE;\n            },\n        },\n        supportedLocales: {\n            get: () => _supportedLocales,\n            set(this: TranslationsLoader, supportedLocales: Locale[]) {\n                _supportedLocales = supportedLocales;\n                this.locale = _preferredLocale;\n            },\n        },\n    });\n}\n\nexport function getLocalizationProxyDescriptors(this: Localization) {\n    const descriptors = {} as any;\n\n    for (const [prop, descriptor] of Object.entries(Object.getOwnPropertyDescriptors(Localization.prototype))) {\n        if (EXCLUDE_PROPS.includes(prop as (typeof EXCLUDE_PROPS)[number])) continue;\n\n        if (isFunction(descriptor.get)) {\n            descriptors[prop] = {\n                get: descriptor.get.bind(this),\n                ...(prop === 'timezone' && { set: descriptor.set?.bind(this) }),\n            };\n        } else if (isFunction(descriptor.value)) {\n            descriptors[prop] = { value: descriptor.value.bind(this) };\n        } else {\n            descriptors[prop] = { get: () => this[prop as keyof Localization] };\n        }\n    }\n\n    return descriptors as { [K in keyof Localization['i18n']]: PropertyDescriptor };\n}\n","import {\n    DEFAULT_DATETIME_FORMAT,\n    DEFAULT_TRANSLATIONS,\n    EXCLUDE_PROPS,\n    FALLBACK_LOCALE,\n    getLocalesFromTranslationSourcesRecord,\n    SUPPORTED_LOCALES,\n} from './constants/localization';\nimport type {\n    CustomTranslations,\n    Locale,\n    TranslationKey,\n    TranslationOptions,\n    Translations,\n    TranslationSource,\n    TranslationSourceRecord,\n} from '../../translations';\nimport { en_US } from '../../translations';\nimport { getLocalisedAmount } from './amount/amount-util';\nimport restamper, { RestamperWithTimezone } from './datetime/restamper';\nimport { createTranslationsLoader, getLocalizationProxyDescriptors } from './localization-utils';\nimport { formatCustomTranslations, getTranslation, toTwoLetterCode } from './utils';\nimport { createWatchlist } from '../../primitives/reactive/watchlist';\nimport { ALREADY_RESOLVED_PROMISE, isNull, isNullish, isUndefined, noop, struct } from '../../utils';\n\nexport default class Localization {\n    #locale: Locale = FALLBACK_LOCALE;\n    #languageCode: string = toTwoLetterCode(this.#locale);\n    #availableLocales: Readonly<Locale[]> = [FALLBACK_LOCALE] as const;\n    #supportedLocales: Readonly<Locale[]> = this.#availableLocales;\n\n    #customTranslations?: CustomTranslations;\n    #translations: Translations = DEFAULT_TRANSLATIONS;\n    #translationsLoader = createTranslationsLoader.call(this);\n\n    #ready: Promise<void> = ALREADY_RESOLVED_PROMISE;\n    #currentRefresh?: Promise<void>;\n    #markRefreshAsDone?: () => void;\n    #refreshWatchlist = createWatchlist({ timestamp: () => performance.now() });\n    #restamp: RestamperWithTimezone = restamper();\n\n    private watch = this.#refreshWatchlist.subscribe.bind(undefined);\n    public i18n: Omit<Localization, (typeof EXCLUDE_PROPS)[number]> = struct(getLocalizationProxyDescriptors.call(this));\n    public preferredTranslations?: Readonly<{ [k: Locale]: TranslationSource }>;\n\n    constructor(locale: string = FALLBACK_LOCALE, availableTranslations?: TranslationSourceRecord[]) {\n        this.watch(noop);\n\n        this.preferredTranslations = Object.freeze(\n            availableTranslations?.reduce((records, curr) => ({ ...records, ...curr }), en_US) ?? { ...en_US }\n        );\n\n        this.#availableLocales = getLocalesFromTranslationSourcesRecord(this.preferredTranslations);\n        this.locale = locale;\n    }\n\n    get customTranslations(): CustomTranslations {\n        return this.#customTranslations ?? ({} as CustomTranslations);\n    }\n\n    set customTranslations(customTranslations: CustomTranslations | undefined | null) {\n        let translations: CustomTranslations | undefined = undefined;\n        let supportedLocales: Locale[] = [...this.#availableLocales];\n\n        if (!isNullish(customTranslations)) {\n            translations = formatCustomTranslations(customTranslations, SUPPORTED_LOCALES);\n            const localesFromCustomTranslations = Object.keys(translations) as Locale[];\n\n            // default locales + validated custom locales\n            supportedLocales = [...supportedLocales, ...localesFromCustomTranslations]\n                .sort()\n                .filter((locale, index, locales) => locales.indexOf(locale) === index);\n        }\n\n        this.#translationsLoader.supportedLocales = supportedLocales;\n        this.#refreshTranslations(translations);\n    }\n\n    get languageCode() {\n        return this.#languageCode;\n    }\n\n    get lastRefreshTimestamp() {\n        return this.#refreshWatchlist.snapshot.timestamp;\n    }\n\n    get locale(): Locale {\n        return this.#locale;\n    }\n\n    set locale(locale: string | undefined | null) {\n        if (!isNullish(locale)) {\n            this.#translationsLoader.locale = locale;\n            if (this.#locale === this.#translationsLoader.locale) return;\n            this.#refreshTranslations(this.#customTranslations);\n        } else this.locale = FALLBACK_LOCALE;\n    }\n\n    get ready(): Promise<void> {\n        return this.#ready;\n    }\n\n    get supportedLocales(): Readonly<Locale[]> {\n        return this.#supportedLocales;\n    }\n\n    get timezone(): RestamperWithTimezone['tz']['current'] {\n        return this.#restamp.tz.current;\n    }\n\n    set timezone(timezone: string | undefined | null) {\n        this.#restamp.tz = timezone;\n    }\n\n    #refreshTranslations(customTranslations?: CustomTranslations) {\n        if (isUndefined(this.#markRefreshAsDone)) {\n            this.#ready = new Promise<void>(resolve => {\n                this.#markRefreshAsDone = () => {\n                    resolve(this.#currentRefresh);\n                    this.#currentRefresh = this.#markRefreshAsDone = undefined;\n                };\n            });\n        }\n\n        const currentRefreshDone = () => {\n            if (this.#currentRefresh === currentRefresh) this.#markRefreshAsDone?.();\n        };\n\n        const currentRefresh = (this.#currentRefresh = (async () => {\n            this.#translations = await this.#translationsLoader.load(customTranslations);\n            this.#locale = this.#translationsLoader.locale;\n            this.#supportedLocales = Object.freeze(this.#translationsLoader.supportedLocales);\n            this.#customTranslations = customTranslations;\n            this.#languageCode = toTwoLetterCode(this.#locale);\n            this.#refreshWatchlist.requestNotification();\n        })());\n\n        currentRefresh.then(currentRefreshDone).catch(reason => {\n            currentRefreshDone();\n            // handle current refresh promise rejection\n            // throw reason;\n            console.error(reason);\n        });\n    }\n\n    /**\n     * Returns a translated string from a key in the current {@link Localization.locale}\n     * @param key - Translation key\n     * @param options - Translation options\n     * @returns Translated string\n     */\n    get(key: TranslationKey, options?: TranslationOptions): string {\n        const translation = getTranslation(this.#translations, key, options);\n        return isNull(translation) ? key : translation;\n    }\n\n    /**\n     * Returns a boolean that checks if the translation key exists in the current {@link Localization.locale}\n     * @param key - Translation key\n     * @param options - Translation options\n     * @returns boolean\n     */\n    has(key: string, options?: TranslationOptions): key is TranslationKey {\n        const translation = getTranslation(this.#translations, key, options);\n        return !!translation;\n    }\n\n    /**\n     * Returns a localized string for an amount\n     * @param amount - Amount to be converted\n     * @param currencyCode - Currency code of the amount\n     * @param options - Options for String.prototype.toLocaleString\n     */\n    amount(amount: number, currencyCode: string, options?: Record<string, any>): string {\n        const { hideCurrency, ...restOfOptions } = options || {};\n        const localisedAmount = getLocalisedAmount(amount, this.#locale, currencyCode, hideCurrency, {\n            ...restOfOptions,\n            currencyDisplay: 'symbol',\n            signDisplay: 'never',\n        });\n\n        return amount < 0 ? `- ${localisedAmount}` : localisedAmount;\n    }\n\n    /**\n     * Returns a localized string for a date\n     * @param date - Date to be localized\n     * @param options - Options for {@link Date.toLocaleDateString}\n     */\n    date(date: number | string | Date, options: Intl.DateTimeFormatOptions = {}) {\n        const dateOptions = { ...DEFAULT_DATETIME_FORMAT, timeZone: this.#restamp.tz.current, ...options };\n        return new Date(date).toLocaleDateString(this.#locale, dateOptions);\n    }\n\n    /**\n     * Returns a localized string for a full date\n     * @param date - Date to be localized\n     */\n    fullDate(date: number | string | Date) {\n        return this.date(date, {\n            month: 'short',\n            hour: '2-digit',\n            minute: '2-digit',\n            second: '2-digit',\n            hour12: false,\n        });\n    }\n}\n","import type { CoreOptions, onErrorHandler } from './types';\nimport { FALLBACK_ENV, resolveEnvironment } from './utils';\nimport { AuthSession } from './Auth/session/AuthSession';\nimport BaseElement from '../components/external/BaseElement';\nimport Localization, { TranslationSourceRecord } from './Localization';\nimport { EMPTY_OBJECT } from '../utils';\n\nclass Core<AvailableTranslations extends TranslationSourceRecord[] = [], CustomTranslations extends {} = {}> {\n    public static readonly version = process.env.VITE_VERSION!;\n\n    public components: BaseElement<any>[] = [];\n    public options: CoreOptions<AvailableTranslations, CustomTranslations>;\n\n    public localization: Localization;\n    public loadingContext: string;\n    public session = new AuthSession();\n    public onError?: onErrorHandler;\n\n    // [TODO]: Change the error handling strategy.\n\n    constructor(options: CoreOptions<AvailableTranslations, CustomTranslations>) {\n        this.options = { environment: FALLBACK_ENV, ...options };\n\n        this.localization = new Localization(options.locale, options.availableTranslations);\n        this.loadingContext = process.env.VITE_LOADING_CONTEXT ? process.env.VITE_LOADING_CONTEXT : resolveEnvironment(this.options.environment);\n        this.setOptions(options);\n    }\n\n    async initialize(): Promise<this> {\n        return Promise.all([this.localization.ready]).then(() => this);\n    }\n\n    /**\n     * Updates global configurations, resets the internal state and remounts each element.\n     * @param options - props to update\n     * @returns this - the element instance\n     */\n    public update = async (options: Partial<typeof this.options> = EMPTY_OBJECT): Promise<this> => {\n        this.setOptions(options);\n        await this.initialize();\n\n        this.components.forEach(component => {\n            if (component.props.core === this) {\n                // Update each component under this instance\n                component.update(this.getPropsForComponent(this.options));\n            }\n        });\n\n        return this;\n    };\n\n    /**\n     * Remove the reference of a component\n     * @param component - reference to the component to be removed\n     * @returns this - the element instance\n     */\n    public remove = (component: BaseElement<any>): this => {\n        this.components = this.components.filter(c => c._id !== component._id);\n        component.unmount();\n        return this;\n    };\n\n    /**\n     * @internal\n     * Register components in core to be able to update them all at once\n     */\n    public registerComponent = (component: BaseElement<any>) => {\n        if (component.props.core === this) {\n            this.components.push(component);\n        }\n    };\n\n    /**\n     * @internal\n     * Enhances the config object passed when AdyenPlatformExperience is initialised (environment, clientKey, etc...)\n     * (Re)Initializes core properties & processes (i18n, etc...)\n     * @param options - the config object passed when AdyenPlatformExperience is initialised\n     * @returns this\n     */\n    private setOptions = (options: Partial<typeof this.options>): this => {\n        this.options = { ...this.options, ...options };\n\n        this.localization.locale = this.options?.locale;\n        this.localization.customTranslations = this.options?.translations;\n\n        this.session.loadingContext = this.loadingContext;\n        this.session.onSessionCreate = this.options.onSessionCreate;\n\n        return this;\n    };\n\n    /**\n     * @internal\n     * @param options - options that will be merged to the global Checkout props\n     * @returns props for a new UIElement\n     */\n    private getPropsForComponent(options: any) {\n        return { ...options };\n    }\n}\n\nexport default Core;\n","var n,l,u,t,i,o,r,f,e,c,s,a,h={},v=[],p=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,y=Array.isArray;function d(n,l){for(var u in l)n[u]=l[u];return n}function w(n){n&&n.parentNode&&n.parentNode.removeChild(n)}function _(l,u,t){var i,o,r,f={};for(r in u)\"key\"==r?i=u[r]:\"ref\"==r?o=u[r]:f[r]=u[r];if(arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):t),\"function\"==typeof l&&null!=l.defaultProps)for(r in l.defaultProps)void 0===f[r]&&(f[r]=l.defaultProps[r]);return g(l,f,i,o,null)}function g(n,t,i,o,r){var f={type:n,props:t,key:i,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:null==r?++u:r,__i:-1,__u:0};return null==r&&null!=l.vnode&&l.vnode(f),f}function m(){return{current:null}}function b(n){return n.children}function k(n,l){this.props=n,this.context=l}function x(n,l){if(null==l)return n.__?x(n.__,n.__i+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return\"function\"==typeof n.type?x(n):null}function C(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return C(n)}}function S(n){(!n.__d&&(n.__d=!0)&&i.push(n)&&!M.__r++||o!==l.debounceRendering)&&((o=l.debounceRendering)||r)(M)}function M(){var n,u,t,o,r,e,c,s;for(i.sort(f);n=i.shift();)n.__d&&(u=i.length,o=void 0,e=(r=(t=n).__v).__e,c=[],s=[],t.__P&&((o=d({},r)).__v=r.__v+1,l.vnode&&l.vnode(o),O(t.__P,o,r,t.__n,t.__P.namespaceURI,32&r.__u?[e]:null,c,null==e?x(r):e,!!(32&r.__u),s),o.__v=r.__v,o.__.__k[o.__i]=o,j(c,o,s),o.__e!=e&&C(o)),i.length>u&&i.sort(f));M.__r=0}function P(n,l,u,t,i,o,r,f,e,c,s){var a,p,y,d,w,_=t&&t.__k||v,g=l.length;for(u.__d=e,$(u,l,_),e=u.__d,a=0;a<g;a++)null!=(y=u.__k[a])&&(p=-1===y.__i?h:_[y.__i]||h,y.__i=a,O(n,y,p,i,o,r,f,e,c,s),d=y.__e,y.ref&&p.ref!=y.ref&&(p.ref&&N(p.ref,null,y),s.push(y.ref,y.__c||d,y)),null==w&&null!=d&&(w=d),65536&y.__u||p.__k===y.__k?e=I(y,e,n):\"function\"==typeof y.type&&void 0!==y.__d?e=y.__d:d&&(e=d.nextSibling),y.__d=void 0,y.__u&=-196609);u.__d=e,u.__e=w}function $(n,l,u){var t,i,o,r,f,e=l.length,c=u.length,s=c,a=0;for(n.__k=[],t=0;t<e;t++)null!=(i=l[t])&&\"boolean\"!=typeof i&&\"function\"!=typeof i?(r=t+a,(i=n.__k[t]=\"string\"==typeof i||\"number\"==typeof i||\"bigint\"==typeof i||i.constructor==String?g(null,i,null,null,null):y(i)?g(b,{children:i},null,null,null):void 0===i.constructor&&i.__b>0?g(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i).__=n,i.__b=n.__b+1,o=null,-1!==(f=i.__i=L(i,u,r,s))&&(s--,(o=u[f])&&(o.__u|=131072)),null==o||null===o.__v?(-1==f&&a--,\"function\"!=typeof i.type&&(i.__u|=65536)):f!==r&&(f==r-1?a--:f==r+1?a++:(f>r?a--:a++,i.__u|=65536))):i=n.__k[t]=null;if(s)for(t=0;t<c;t++)null!=(o=u[t])&&0==(131072&o.__u)&&(o.__e==n.__d&&(n.__d=x(o)),V(o,o))}function I(n,l,u){var t,i;if(\"function\"==typeof n.type){for(t=n.__k,i=0;t&&i<t.length;i++)t[i]&&(t[i].__=n,l=I(t[i],l,u));return l}n.__e!=l&&(l&&n.type&&!u.contains(l)&&(l=x(n)),u.insertBefore(n.__e,l||null),l=n.__e);do{l=l&&l.nextSibling}while(null!=l&&8===l.nodeType);return l}function H(n,l){return l=l||[],null==n||\"boolean\"==typeof n||(y(n)?n.some(function(n){H(n,l)}):l.push(n)),l}function L(n,l,u,t){var i=n.key,o=n.type,r=u-1,f=u+1,e=l[u];if(null===e||e&&i==e.key&&o===e.type&&0==(131072&e.__u))return u;if(t>(null!=e&&0==(131072&e.__u)?1:0))for(;r>=0||f<l.length;){if(r>=0){if((e=l[r])&&0==(131072&e.__u)&&i==e.key&&o===e.type)return r;r--}if(f<l.length){if((e=l[f])&&0==(131072&e.__u)&&i==e.key&&o===e.type)return f;f++}}return-1}function T(n,l,u){\"-\"===l[0]?n.setProperty(l,null==u?\"\":u):n[l]=null==u?\"\":\"number\"!=typeof u||p.test(l)?u:u+\"px\"}function A(n,l,u,t,i){var o;n:if(\"style\"===l)if(\"string\"==typeof u)n.style.cssText=u;else{if(\"string\"==typeof t&&(n.style.cssText=t=\"\"),t)for(l in t)u&&l in u||T(n.style,l,\"\");if(u)for(l in u)t&&u[l]===t[l]||T(n.style,l,u[l])}else if(\"o\"===l[0]&&\"n\"===l[1])o=l!==(l=l.replace(/(PointerCapture)$|Capture$/i,\"$1\")),l=l.toLowerCase()in n||\"onFocusOut\"===l||\"onFocusIn\"===l?l.toLowerCase().slice(2):l.slice(2),n.l||(n.l={}),n.l[l+o]=u,u?t?u.u=t.u:(u.u=e,n.addEventListener(l,o?s:c,o)):n.removeEventListener(l,o?s:c,o);else{if(\"http://www.w3.org/2000/svg\"==i)l=l.replace(/xlink(H|:h)/,\"h\").replace(/sName$/,\"s\");else if(\"width\"!=l&&\"height\"!=l&&\"href\"!=l&&\"list\"!=l&&\"form\"!=l&&\"tabIndex\"!=l&&\"download\"!=l&&\"rowSpan\"!=l&&\"colSpan\"!=l&&\"role\"!=l&&\"popover\"!=l&&l in n)try{n[l]=null==u?\"\":u;break n}catch(n){}\"function\"==typeof u||(null==u||!1===u&&\"-\"!==l[4]?n.removeAttribute(l):n.setAttribute(l,\"popover\"==l&&1==u?\"\":u))}}function F(n){return function(u){if(this.l){var t=this.l[u.type+n];if(null==u.t)u.t=e++;else if(u.t<t.u)return;return t(l.event?l.event(u):u)}}}function O(n,u,t,i,o,r,f,e,c,s){var a,h,v,p,w,_,g,m,x,C,S,M,$,I,H,L,T=u.type;if(void 0!==u.constructor)return null;128&t.__u&&(c=!!(32&t.__u),r=[e=u.__e=t.__e]),(a=l.__b)&&a(u);n:if(\"function\"==typeof T)try{if(m=u.props,x=\"prototype\"in T&&T.prototype.render,C=(a=T.contextType)&&i[a.__c],S=a?C?C.props.value:a.__:i,t.__c?g=(h=u.__c=t.__c).__=h.__E:(x?u.__c=h=new T(m,S):(u.__c=h=new k(m,S),h.constructor=T,h.render=q),C&&C.sub(h),h.props=m,h.state||(h.state={}),h.context=S,h.__n=i,v=h.__d=!0,h.__h=[],h._sb=[]),x&&null==h.__s&&(h.__s=h.state),x&&null!=T.getDerivedStateFromProps&&(h.__s==h.state&&(h.__s=d({},h.__s)),d(h.__s,T.getDerivedStateFromProps(m,h.__s))),p=h.props,w=h.state,h.__v=u,v)x&&null==T.getDerivedStateFromProps&&null!=h.componentWillMount&&h.componentWillMount(),x&&null!=h.componentDidMount&&h.__h.push(h.componentDidMount);else{if(x&&null==T.getDerivedStateFromProps&&m!==p&&null!=h.componentWillReceiveProps&&h.componentWillReceiveProps(m,S),!h.__e&&(null!=h.shouldComponentUpdate&&!1===h.shouldComponentUpdate(m,h.__s,S)||u.__v===t.__v)){for(u.__v!==t.__v&&(h.props=m,h.state=h.__s,h.__d=!1),u.__e=t.__e,u.__k=t.__k,u.__k.some(function(n){n&&(n.__=u)}),M=0;M<h._sb.length;M++)h.__h.push(h._sb[M]);h._sb=[],h.__h.length&&f.push(h);break n}null!=h.componentWillUpdate&&h.componentWillUpdate(m,h.__s,S),x&&null!=h.componentDidUpdate&&h.__h.push(function(){h.componentDidUpdate(p,w,_)})}if(h.context=S,h.props=m,h.__P=n,h.__e=!1,$=l.__r,I=0,x){for(h.state=h.__s,h.__d=!1,$&&$(u),a=h.render(h.props,h.state,h.context),H=0;H<h._sb.length;H++)h.__h.push(h._sb[H]);h._sb=[]}else do{h.__d=!1,$&&$(u),a=h.render(h.props,h.state,h.context),h.state=h.__s}while(h.__d&&++I<25);h.state=h.__s,null!=h.getChildContext&&(i=d(d({},i),h.getChildContext())),x&&!v&&null!=h.getSnapshotBeforeUpdate&&(_=h.getSnapshotBeforeUpdate(p,w)),P(n,y(L=null!=a&&a.type===b&&null==a.key?a.props.children:a)?L:[L],u,t,i,o,r,f,e,c,s),h.base=u.__e,u.__u&=-161,h.__h.length&&f.push(h),g&&(h.__E=h.__=null)}catch(n){if(u.__v=null,c||null!=r){for(u.__u|=c?160:128;e&&8===e.nodeType&&e.nextSibling;)e=e.nextSibling;r[r.indexOf(e)]=null,u.__e=e}else u.__e=t.__e,u.__k=t.__k;l.__e(n,u,t)}else null==r&&u.__v===t.__v?(u.__k=t.__k,u.__e=t.__e):u.__e=z(t.__e,u,t,i,o,r,f,c,s);(a=l.diffed)&&a(u)}function j(n,u,t){u.__d=void 0;for(var i=0;i<t.length;i++)N(t[i],t[++i],t[++i]);l.__c&&l.__c(u,n),n.some(function(u){try{n=u.__h,u.__h=[],n.some(function(n){n.call(u)})}catch(n){l.__e(n,u.__v)}})}function z(u,t,i,o,r,f,e,c,s){var a,v,p,d,_,g,m,b=i.props,k=t.props,C=t.type;if(\"svg\"===C?r=\"http://www.w3.org/2000/svg\":\"math\"===C?r=\"http://www.w3.org/1998/Math/MathML\":r||(r=\"http://www.w3.org/1999/xhtml\"),null!=f)for(a=0;a<f.length;a++)if((_=f[a])&&\"setAttribute\"in _==!!C&&(C?_.localName===C:3===_.nodeType)){u=_,f[a]=null;break}if(null==u){if(null===C)return document.createTextNode(k);u=document.createElementNS(r,C,k.is&&k),c&&(l.__m&&l.__m(t,f),c=!1),f=null}if(null===C)b===k||c&&u.data===k||(u.data=k);else{if(f=f&&n.call(u.childNodes),b=i.props||h,!c&&null!=f)for(b={},a=0;a<u.attributes.length;a++)b[(_=u.attributes[a]).name]=_.value;for(a in b)if(_=b[a],\"children\"==a);else if(\"dangerouslySetInnerHTML\"==a)p=_;else if(!(a in k)){if(\"value\"==a&&\"defaultValue\"in k||\"checked\"==a&&\"defaultChecked\"in k)continue;A(u,a,null,_,r)}for(a in k)_=k[a],\"children\"==a?d=_:\"dangerouslySetInnerHTML\"==a?v=_:\"value\"==a?g=_:\"checked\"==a?m=_:c&&\"function\"!=typeof _||b[a]===_||A(u,a,_,b[a],r);if(v)c||p&&(v.__html===p.__html||v.__html===u.innerHTML)||(u.innerHTML=v.__html),t.__k=[];else if(p&&(u.innerHTML=\"\"),P(u,y(d)?d:[d],t,i,o,\"foreignObject\"===C?\"http://www.w3.org/1999/xhtml\":r,f,e,f?f[0]:i.__k&&x(i,0),c,s),null!=f)for(a=f.length;a--;)w(f[a]);c||(a=\"value\",\"progress\"===C&&null==g?u.removeAttribute(\"value\"):void 0!==g&&(g!==u[a]||\"progress\"===C&&!g||\"option\"===C&&g!==b[a])&&A(u,a,g,b[a],r),a=\"checked\",void 0!==m&&m!==u[a]&&A(u,a,m,b[a],r))}return u}function N(n,u,t){try{if(\"function\"==typeof n){var i=\"function\"==typeof n.__u;i&&n.__u(),i&&null==u||(n.__u=n(u))}else n.current=u}catch(n){l.__e(n,t)}}function V(n,u,t){var i,o;if(l.unmount&&l.unmount(n),(i=n.ref)&&(i.current&&i.current!==n.__e||N(i,null,u)),null!=(i=n.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(n){l.__e(n,u)}i.base=i.__P=null}if(i=n.__k)for(o=0;o<i.length;o++)i[o]&&V(i[o],u,t||\"function\"!=typeof n.type);t||w(n.__e),n.__c=n.__=n.__e=n.__d=void 0}function q(n,l,u){return this.constructor(n,u)}function B(u,t,i){var o,r,f,e;l.__&&l.__(u,t),r=(o=\"function\"==typeof i)?null:i&&i.__k||t.__k,f=[],e=[],O(t,u=(!o&&i||t).__k=_(b,null,[u]),r||h,h,t.namespaceURI,!o&&i?[i]:r?null:t.firstChild?n.call(t.childNodes):null,f,!o&&i?i:r?r.__e:t.firstChild,o,e),j(f,u,e)}function D(n,l){B(n,l,D)}function E(l,u,t){var i,o,r,f,e=d({},l.props);for(r in l.type&&l.type.defaultProps&&(f=l.type.defaultProps),u)\"key\"==r?i=u[r]:\"ref\"==r?o=u[r]:e[r]=void 0===u[r]&&void 0!==f?f[r]:u[r];return arguments.length>2&&(e.children=arguments.length>3?n.call(arguments,2):t),g(l.type,e,i||l.key,o||l.ref,null)}function G(n,l){var u={__c:l=\"__cC\"+a++,__:n,Consumer:function(n,l){return n.children(l)},Provider:function(n){var u,t;return this.getChildContext||(u=new Set,(t={})[l]=this,this.getChildContext=function(){return t},this.componentWillUnmount=function(){u=null},this.shouldComponentUpdate=function(n){this.props.value!==n.value&&u.forEach(function(n){n.__e=!0,S(n)})},this.sub=function(n){u.add(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){u&&u.delete(n),l&&l.call(n)}}),n.children}};return u.Provider.__=u.Consumer.contextType=u}n=v.slice,l={__e:function(n,l,u,t){for(var i,o,r;l=l.__;)if((i=l.__c)&&!i.__)try{if((o=i.constructor)&&null!=o.getDerivedStateFromError&&(i.setState(o.getDerivedStateFromError(n)),r=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(n,t||{}),r=i.__d),r)return i.__E=i}catch(l){n=l}throw n}},u=0,t=function(n){return null!=n&&null==n.constructor},k.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=d({},this.state),\"function\"==typeof n&&(n=n(d({},u),this.props)),n&&d(u,n),null!=n&&this.__v&&(l&&this._sb.push(l),S(this))},k.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),S(this))},k.prototype.render=b,i=[],r=\"function\"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,f=function(n,l){return n.__v.__b-l.__v.__b},M.__r=0,e=0,c=F(!1),s=F(!0),a=0;export{k as Component,b as Fragment,E as cloneElement,G as createContext,_ as createElement,m as createRef,_ as h,D as hydrate,t as isValidElement,l as options,B as render,H as toChildArray};\n//# sourceMappingURL=preact.module.js.map\n","import{options as r,Fragment as e}from\"preact\";export{Fragment}from\"preact\";var t=/[\"&<]/;function n(r){if(0===r.length||!1===t.test(r))return r;for(var e=0,n=0,o=\"\",f=\"\";n<r.length;n++){switch(r.charCodeAt(n)){case 34:f=\"&quot;\";break;case 38:f=\"&amp;\";break;case 60:f=\"&lt;\";break;default:continue}n!==e&&(o+=r.slice(e,n)),o+=f,e=n+1}return n!==e&&(o+=r.slice(e,n)),o}var o=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,f=0,i=Array.isArray;function u(e,t,n,o,i,u){t||(t={});var a,c,l=t;\"ref\"in t&&(a=t.ref,delete t.ref);var p={type:e,props:l,key:n,ref:a,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--f,__i:-1,__u:0,__source:i,__self:u};if(\"function\"==typeof e&&(a=e.defaultProps))for(c in a)void 0===l[c]&&(l[c]=a[c]);return r.vnode&&r.vnode(p),p}function a(r){var t=u(e,{tpl:r,exprs:[].slice.call(arguments,1)});return t.key=t.__v,t}var c={},l=/[A-Z]/g;function p(e,t){if(r.attr){var f=r.attr(e,t);if(\"string\"==typeof f)return f}if(\"ref\"===e||\"key\"===e)return\"\";if(\"style\"===e&&\"object\"==typeof t){var i=\"\";for(var u in t){var a=t[u];if(null!=a&&\"\"!==a){var p=\"-\"==u[0]?u:c[u]||(c[u]=u.replace(l,\"-$&\").toLowerCase()),_=\";\";\"number\"!=typeof a||p.startsWith(\"--\")||o.test(p)||(_=\"px;\"),i=i+p+\":\"+a+_}}return e+'=\"'+i+'\"'}return null==t||!1===t||\"function\"==typeof t||\"object\"==typeof t?\"\":!0===t?e:e+'=\"'+n(t)+'\"'}function _(r){if(null==r||\"boolean\"==typeof r||\"function\"==typeof r)return null;if(\"object\"==typeof r){if(void 0===r.constructor)return r;if(i(r)){for(var e=0;e<r.length;e++)r[e]=_(r[e]);return r}}return n(\"\"+r)}export{u as jsx,p as jsxAttr,u as jsxDEV,_ as jsxEscape,a as jsxTemplate,u as jsxs};\n//# sourceMappingURL=jsxRuntime.module.js.map\n","import{options as n}from\"preact\";var t,r,u,i,o=0,f=[],c=n,e=c.__b,a=c.__r,v=c.diffed,l=c.__c,m=c.unmount,s=c.__;function d(n,t){c.__h&&c.__h(r,n,o||t),o=0;var u=r.__H||(r.__H={__:[],__h:[]});return n>=u.__.length&&u.__.push({}),u.__[n]}function h(n){return o=1,p(D,n)}function p(n,u,i){var o=d(t++,2);if(o.t=n,!o.__c&&(o.__=[i?i(u):D(void 0,u),function(n){var t=o.__N?o.__N[0]:o.__[0],r=o.t(t,n);t!==r&&(o.__N=[r,o.__[1]],o.__c.setState({}))}],o.__c=r,!r.u)){var f=function(n,t,r){if(!o.__c.__H)return!0;var u=o.__c.__H.__.filter(function(n){return!!n.__c});if(u.every(function(n){return!n.__N}))return!c||c.call(this,n,t,r);var i=!1;return u.forEach(function(n){if(n.__N){var t=n.__[0];n.__=n.__N,n.__N=void 0,t!==n.__[0]&&(i=!0)}}),!(!i&&o.__c.props===n)&&(!c||c.call(this,n,t,r))};r.u=!0;var c=r.shouldComponentUpdate,e=r.componentWillUpdate;r.componentWillUpdate=function(n,t,r){if(this.__e){var u=c;c=void 0,f(n,t,r),c=u}e&&e.call(this,n,t,r)},r.shouldComponentUpdate=f}return o.__N||o.__}function y(n,u){var i=d(t++,3);!c.__s&&C(i.__H,u)&&(i.__=n,i.i=u,r.__H.__h.push(i))}function _(n,u){var i=d(t++,4);!c.__s&&C(i.__H,u)&&(i.__=n,i.i=u,r.__h.push(i))}function A(n){return o=5,T(function(){return{current:n}},[])}function F(n,t,r){o=6,_(function(){return\"function\"==typeof n?(n(t()),function(){return n(null)}):n?(n.current=t(),function(){return n.current=null}):void 0},null==r?r:r.concat(n))}function T(n,r){var u=d(t++,7);return C(u.__H,r)&&(u.__=n(),u.__H=r,u.__h=n),u.__}function q(n,t){return o=8,T(function(){return n},t)}function x(n){var u=r.context[n.__c],i=d(t++,9);return i.c=n,u?(null==i.__&&(i.__=!0,u.sub(r)),u.props.value):n.__}function P(n,t){c.useDebugValue&&c.useDebugValue(t?t(n):n)}function b(n){var u=d(t++,10),i=h();return u.__=n,r.componentDidCatch||(r.componentDidCatch=function(n,t){u.__&&u.__(n,t),i[1](n)}),[i[0],function(){i[1](void 0)}]}function g(){var n=d(t++,11);if(!n.__){for(var u=r.__v;null!==u&&!u.__m&&null!==u.__;)u=u.__;var i=u.__m||(u.__m=[0,0]);n.__=\"P\"+i[0]+\"-\"+i[1]++}return n.__}function j(){for(var n;n=f.shift();)if(n.__P&&n.__H)try{n.__H.__h.forEach(z),n.__H.__h.forEach(B),n.__H.__h=[]}catch(t){n.__H.__h=[],c.__e(t,n.__v)}}c.__b=function(n){r=null,e&&e(n)},c.__=function(n,t){n&&t.__k&&t.__k.__m&&(n.__m=t.__k.__m),s&&s(n,t)},c.__r=function(n){a&&a(n),t=0;var i=(r=n.__c).__H;i&&(u===r?(i.__h=[],r.__h=[],i.__.forEach(function(n){n.__N&&(n.__=n.__N),n.i=n.__N=void 0})):(i.__h.forEach(z),i.__h.forEach(B),i.__h=[],t=0)),u=r},c.diffed=function(n){v&&v(n);var t=n.__c;t&&t.__H&&(t.__H.__h.length&&(1!==f.push(t)&&i===c.requestAnimationFrame||((i=c.requestAnimationFrame)||w)(j)),t.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.i=void 0})),u=r=null},c.__c=function(n,t){t.some(function(n){try{n.__h.forEach(z),n.__h=n.__h.filter(function(n){return!n.__||B(n)})}catch(r){t.some(function(n){n.__h&&(n.__h=[])}),t=[],c.__e(r,n.__v)}}),l&&l(n,t)},c.unmount=function(n){m&&m(n);var t,r=n.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{z(n)}catch(n){t=n}}),r.__H=void 0,t&&c.__e(t,r.__v))};var k=\"function\"==typeof requestAnimationFrame;function w(n){var t,r=function(){clearTimeout(u),k&&cancelAnimationFrame(t),setTimeout(n)},u=setTimeout(r,100);k&&(t=requestAnimationFrame(r))}function z(n){var t=r,u=n.__c;\"function\"==typeof u&&(n.__c=void 0,u()),r=t}function B(n){var t=r;n.__c=n.__(),r=t}function C(n,t){return!n||n.length!==t.length||t.some(function(t,r){return t!==n[r]})}function D(n,t){return\"function\"==typeof t?t(n):t}export{q as useCallback,x as useContext,P as useDebugValue,y as useEffect,b as useErrorBoundary,g as useId,F as useImperativeHandle,_ as useLayoutEffect,T as useMemo,p as useReducer,A as useRef,h as useState};\n//# sourceMappingURL=hooks.module.js.map\n","export const DEFAULT_TYPOGRAPHY_CLASSNAME = 'adyen-pe-typography';\n","export enum TypographyVariant {\n    CAPTION = 'caption',\n    BODY = 'body',\n    SUBTITLE = 'subtitle',\n    TITLE = 'title',\n}\n\nexport enum TypographyModifier {\n    WIDE = 'wide',\n    STRONGER = 'stronger',\n    STRONGER_WIDE = 'stronger-wide',\n    STRONGEST = 'strongest',\n    STRONGEST_WIDE = 'strongest-wide',\n    MEDIUM = 'm',\n    LARGE = 'l',\n    MOBILE = 'mobile',\n}\n\nexport enum TypographyElement {\n    H1 = 'h1',\n    H2 = 'h2',\n    H3 = 'h3',\n    H4 = 'h4',\n    H5 = 'h5',\n    H6 = 'h6',\n    DIV = 'div',\n    PARAGRAPH = 'p',\n    SPAN = 'span',\n}\n","import{Component as n,createElement as t,options as e,toChildArray as r,Fragment as u,render as o,hydrate as i,createContext as c,createRef as f,cloneElement as l}from\"preact\";export{Component,Fragment,createContext,createElement,createRef}from\"preact\";import{useCallback as a,useContext as s,useDebugValue as h,useEffect as v,useId as d,useImperativeHandle as p,useLayoutEffect as m,useMemo as y,useReducer as _,useRef as b,useState as S}from\"preact/hooks\";export*from\"preact/hooks\";function g(n,t){for(var e in n)if(\"__source\"!==e&&!(e in t))return!0;for(var r in t)if(\"__source\"!==r&&n[r]!==t[r])return!0;return!1}function E(n,t){this.props=n,this.context=t}function C(n,e){function r(n){var t=this.props.ref,r=t==n.ref;return!r&&t&&(t.call?t(null):t.current=null),e?!e(this.props,n)||!r:g(this.props,n)}function u(e){return this.shouldComponentUpdate=r,t(n,e)}return u.displayName=\"Memo(\"+(n.displayName||n.name)+\")\",u.prototype.isReactComponent=!0,u.__f=!0,u}(E.prototype=new n).isPureReactComponent=!0,E.prototype.shouldComponentUpdate=function(n,t){return g(this.props,n)||g(this.state,t)};var x=e.__b;e.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),x&&x(n)};var R=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.forward_ref\")||3911;function w(n){function t(t){if(!(\"ref\"in t))return n(t,null);var e=t.ref;delete t.ref;var r=n(t,e);return t.ref=e,r}return t.$$typeof=R,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName=\"ForwardRef(\"+(n.displayName||n.name)+\")\",t}var k=function(n,t){return null==n?null:r(r(n).map(t))},I={map:k,forEach:k,count:function(n){return n?r(n).length:0},only:function(n){var t=r(n);if(1!==t.length)throw\"Children.only\";return t[0]},toArray:r},N=e.__e;e.__e=function(n,t,e,r){if(n.then)for(var u,o=t;o=o.__;)if((u=o.__c)&&u.__c)return null==t.__e&&(t.__e=e.__e,t.__k=e.__k),u.__c(n,t);N(n,t,e,r)};var M=e.unmount;function T(n,t,e){return n&&(n.__c&&n.__c.__H&&(n.__c.__H.__.forEach(function(n){\"function\"==typeof n.__c&&n.__c()}),n.__c.__H=null),null!=(n=function(n,t){for(var e in t)n[e]=t[e];return n}({},n)).__c&&(n.__c.__P===e&&(n.__c.__P=t),n.__c=null),n.__k=n.__k&&n.__k.map(function(n){return T(n,t,e)})),n}function A(n,t,e){return n&&e&&(n.__v=null,n.__k=n.__k&&n.__k.map(function(n){return A(n,t,e)}),n.__c&&n.__c.__P===t&&(n.__e&&e.appendChild(n.__e),n.__c.__e=!0,n.__c.__P=e)),n}function D(){this.__u=0,this.t=null,this.__b=null}function L(n){var t=n.__.__c;return t&&t.__a&&t.__a(n)}function O(n){var e,r,u;function o(o){if(e||(e=n()).then(function(n){r=n.default||n},function(n){u=n}),u)throw u;if(!r)throw e;return t(r,o)}return o.displayName=\"Lazy\",o.__f=!0,o}function F(){this.u=null,this.o=null}e.unmount=function(n){var t=n.__c;t&&t.__R&&t.__R(),t&&32&n.__u&&(n.type=null),M&&M(n)},(D.prototype=new n).__c=function(n,t){var e=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(e);var u=L(r.__v),o=!1,i=function(){o||(o=!0,e.__R=null,u?u(c):c())};e.__R=i;var c=function(){if(!--r.__u){if(r.state.__a){var n=r.state.__a;r.__v.__k[0]=A(n,n.__c.__P,n.__c.__O)}var t;for(r.setState({__a:r.__b=null});t=r.t.pop();)t.forceUpdate()}};r.__u++||32&t.__u||r.setState({__a:r.__b=r.__v.__k[0]}),n.then(i,i)},D.prototype.componentWillUnmount=function(){this.t=[]},D.prototype.render=function(n,e){if(this.__b){if(this.__v.__k){var r=document.createElement(\"div\"),o=this.__v.__k[0].__c;this.__v.__k[0]=T(this.__b,r,o.__O=o.__P)}this.__b=null}var i=e.__a&&t(u,null,n.fallback);return i&&(i.__u&=-33),[t(u,null,e.__a?null:n.children),i]};var U=function(n,t,e){if(++e[1]===e[0]&&n.o.delete(t),n.props.revealOrder&&(\"t\"!==n.props.revealOrder[0]||!n.o.size))for(e=n.u;e;){for(;e.length>3;)e.pop()();if(e[1]<e[0])break;n.u=e=e[2]}};function V(n){return this.getChildContext=function(){return n.context},n.children}function W(n){var e=this,r=n.i;e.componentWillUnmount=function(){o(null,e.l),e.l=null,e.i=null},e.i&&e.i!==r&&e.componentWillUnmount(),e.l||(e.i=r,e.l={nodeType:1,parentNode:r,childNodes:[],contains:function(){return!0},appendChild:function(n){this.childNodes.push(n),e.i.appendChild(n)},insertBefore:function(n,t){this.childNodes.push(n),e.i.appendChild(n)},removeChild:function(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),e.i.removeChild(n)}}),o(t(V,{context:e.context},n.__v),e.l)}function P(n,e){var r=t(W,{__v:n,i:e});return r.containerInfo=e,r}(F.prototype=new n).__a=function(n){var t=this,e=L(t.__v),r=t.o.get(n);return r[0]++,function(u){var o=function(){t.props.revealOrder?(r.push(u),U(t,n,r)):u()};e?e(o):o()}},F.prototype.render=function(n){this.u=null,this.o=new Map;var t=r(n.children);n.revealOrder&&\"b\"===n.revealOrder[0]&&t.reverse();for(var e=t.length;e--;)this.o.set(t[e],this.u=[1,0,this.u]);return n.children},F.prototype.componentDidUpdate=F.prototype.componentDidMount=function(){var n=this;this.o.forEach(function(t,e){U(n,e,t)})};var j=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.element\")||60103,z=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,B=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,H=/[A-Z0-9]/g,Z=\"undefined\"!=typeof document,Y=function(n){return(\"undefined\"!=typeof Symbol&&\"symbol\"==typeof Symbol()?/fil|che|rad/:/fil|che|ra/).test(n)};function $(n,t,e){return null==t.__k&&(t.textContent=\"\"),o(n,t),\"function\"==typeof e&&e(),n?n.__c:null}function q(n,t,e){return i(n,t),\"function\"==typeof e&&e(),n?n.__c:null}n.prototype.isReactComponent={},[\"componentWillMount\",\"componentWillReceiveProps\",\"componentWillUpdate\"].forEach(function(t){Object.defineProperty(n.prototype,t,{configurable:!0,get:function(){return this[\"UNSAFE_\"+t]},set:function(n){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:n})}})});var G=e.event;function J(){}function K(){return this.cancelBubble}function Q(){return this.defaultPrevented}e.event=function(n){return G&&(n=G(n)),n.persist=J,n.isPropagationStopped=K,n.isDefaultPrevented=Q,n.nativeEvent=n};var X,nn={enumerable:!1,configurable:!0,get:function(){return this.class}},tn=e.vnode;e.vnode=function(n){\"string\"==typeof n.type&&function(n){var t=n.props,e=n.type,u={},o=-1===e.indexOf(\"-\");for(var i in t){var c=t[i];if(!(\"value\"===i&&\"defaultValue\"in t&&null==c||Z&&\"children\"===i&&\"noscript\"===e||\"class\"===i||\"className\"===i)){var f=i.toLowerCase();\"defaultValue\"===i&&\"value\"in t&&null==t.value?i=\"value\":\"download\"===i&&!0===c?c=\"\":\"translate\"===f&&\"no\"===c?c=!1:\"o\"===f[0]&&\"n\"===f[1]?\"ondoubleclick\"===f?i=\"ondblclick\":\"onchange\"!==f||\"input\"!==e&&\"textarea\"!==e||Y(t.type)?\"onfocus\"===f?i=\"onfocusin\":\"onblur\"===f?i=\"onfocusout\":B.test(i)&&(i=f):f=i=\"oninput\":o&&z.test(i)?i=i.replace(H,\"-$&\").toLowerCase():null===c&&(c=void 0),\"oninput\"===f&&u[i=f]&&(i=\"oninputCapture\"),u[i]=c}}\"select\"==e&&u.multiple&&Array.isArray(u.value)&&(u.value=r(t.children).forEach(function(n){n.props.selected=-1!=u.value.indexOf(n.props.value)})),\"select\"==e&&null!=u.defaultValue&&(u.value=r(t.children).forEach(function(n){n.props.selected=u.multiple?-1!=u.defaultValue.indexOf(n.props.value):u.defaultValue==n.props.value})),t.class&&!t.className?(u.class=t.class,Object.defineProperty(u,\"className\",nn)):(t.className&&!t.class||t.class&&t.className)&&(u.class=u.className=t.className),n.props=u}(n),n.$$typeof=j,tn&&tn(n)};var en=e.__r;e.__r=function(n){en&&en(n),X=n.__c};var rn=e.diffed;e.diffed=function(n){rn&&rn(n);var t=n.props,e=n.__e;null!=e&&\"textarea\"===n.type&&\"value\"in t&&t.value!==e.value&&(e.value=null==t.value?\"\":t.value),X=null};var un={ReactCurrentDispatcher:{current:{readContext:function(n){return X.__n[n.__c].props.value},useCallback:a,useContext:s,useDebugValue:h,useDeferredValue:_n,useEffect:v,useId:d,useImperativeHandle:p,useInsertionEffect:Sn,useLayoutEffect:m,useMemo:y,useReducer:_,useRef:b,useState:S,useSyncExternalStore:En,useTransition:bn}}},on=\"18.3.1\";function cn(n){return t.bind(null,n)}function fn(n){return!!n&&n.$$typeof===j}function ln(n){return fn(n)&&n.type===u}function an(n){return!!n&&!!n.displayName&&(\"string\"==typeof n.displayName||n.displayName instanceof String)&&n.displayName.startsWith(\"Memo(\")}function sn(n){return fn(n)?l.apply(null,arguments):n}function hn(n){return!!n.__k&&(o(null,n),!0)}function vn(n){return n&&(n.base||1===n.nodeType&&n)||null}var dn=function(n,t){return n(t)},pn=function(n,t){return n(t)},mn=u;function yn(n){n()}function _n(n){return n}function bn(){return[!1,yn]}var Sn=m,gn=fn;function En(n,t){var e=t(),r=S({h:{__:e,v:t}}),u=r[0].h,o=r[1];return m(function(){u.__=e,u.v=t,Cn(u)&&o({h:u})},[n,e,t]),v(function(){return Cn(u)&&o({h:u}),n(function(){Cn(u)&&o({h:u})})},[n]),e}function Cn(n){var t,e,r=n.v,u=n.__;try{var o=r();return!((t=u)===(e=o)&&(0!==t||1/t==1/e)||t!=t&&e!=e)}catch(n){return!0}}var xn={useState:S,useId:d,useReducer:_,useEffect:v,useLayoutEffect:m,useInsertionEffect:Sn,useTransition:bn,useDeferredValue:_n,useSyncExternalStore:En,startTransition:yn,useRef:b,useImperativeHandle:p,useMemo:y,useCallback:a,useContext:s,useDebugValue:h,version:\"18.3.1\",Children:I,render:$,hydrate:q,unmountComponentAtNode:hn,createPortal:P,createElement:t,createContext:c,createFactory:cn,cloneElement:sn,createRef:f,Fragment:u,isValidElement:fn,isElement:gn,isFragment:ln,isMemo:an,findDOMNode:vn,Component:n,PureComponent:E,memo:C,forwardRef:w,flushSync:pn,unstable_batchedUpdates:dn,StrictMode:mn,Suspense:D,SuspenseList:F,lazy:O,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:un};export{I as Children,E as PureComponent,mn as StrictMode,D as Suspense,F as SuspenseList,un as __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sn as cloneElement,cn as createFactory,P as createPortal,xn as default,vn as findDOMNode,pn as flushSync,w as forwardRef,q as hydrate,gn as isElement,ln as isFragment,an as isMemo,fn as isValidElement,O as lazy,C as memo,$ as render,yn as startTransition,hn as unmountComponentAtNode,dn as unstable_batchedUpdates,_n as useDeferredValue,Sn as useInsertionEffect,En as useSyncExternalStore,bn as useTransition,on as version};\n//# sourceMappingURL=compat.module.js.map\n","import { DEFAULT_TYPOGRAPHY_CLASSNAME } from './constants';\nimport cx from 'classnames';\nimport { useMemo } from 'preact/hooks';\nimport { TypographyElement, TypographyModifier, TypographyVariant } from './types';\nimport { memo, PropsWithChildren } from 'preact/compat';\nimport './Typography.scss';\nimport { ComponentChild } from 'preact';\n\ninterface TypographyProps {\n    el?: TypographyElement;\n    stronger?: boolean;\n    strongest?: boolean;\n    variant: TypographyVariant;\n    medium?: boolean;\n    large?: boolean;\n    wide?: boolean;\n    children: ComponentChild;\n    className?: string;\n    testId?: string;\n}\n\nfunction Typography({ el, className, stronger, strongest, variant, medium, large, testId, wide, children }: PropsWithChildren<TypographyProps>) {\n    const Tag = el || 'p';\n    const conditionalClasses = useMemo(\n        () => ({\n            // Caption\n            [`${DEFAULT_TYPOGRAPHY_CLASSNAME}--${TypographyVariant.CAPTION}`]: variant === TypographyVariant.CAPTION,\n            [`${DEFAULT_TYPOGRAPHY_CLASSNAME}--${TypographyVariant.CAPTION}-${TypographyModifier.WIDE}`]:\n                variant === TypographyVariant.CAPTION && wide,\n            [`${DEFAULT_TYPOGRAPHY_CLASSNAME}--${TypographyVariant.CAPTION}-${TypographyModifier.STRONGER}`]:\n                variant === TypographyVariant.CAPTION && stronger,\n\n            // Body\n            [`${DEFAULT_TYPOGRAPHY_CLASSNAME}--${TypographyVariant.BODY}`]: variant === TypographyVariant.BODY,\n            [`${DEFAULT_TYPOGRAPHY_CLASSNAME}--${TypographyVariant.BODY}-${TypographyModifier.WIDE}`]: variant === TypographyVariant.BODY && wide,\n            [`${DEFAULT_TYPOGRAPHY_CLASSNAME}--${TypographyVariant.BODY}-${TypographyModifier.STRONGER}`]:\n                variant === TypographyVariant.BODY && stronger,\n            [`${DEFAULT_TYPOGRAPHY_CLASSNAME}--${TypographyVariant.BODY}-${TypographyModifier.STRONGEST}`]:\n                variant === TypographyVariant.BODY && strongest,\n\n            // Subtitle\n            [`${DEFAULT_TYPOGRAPHY_CLASSNAME}--${TypographyVariant.SUBTITLE}`]: variant === TypographyVariant.SUBTITLE,\n            [`${DEFAULT_TYPOGRAPHY_CLASSNAME}--${TypographyVariant.SUBTITLE}-${TypographyModifier.STRONGER}`]:\n                variant === TypographyVariant.SUBTITLE && stronger,\n\n            // Title\n            [`${DEFAULT_TYPOGRAPHY_CLASSNAME}--${TypographyVariant.TITLE}`]: variant === TypographyVariant.TITLE && !medium && !large,\n            [`${DEFAULT_TYPOGRAPHY_CLASSNAME}--${TypographyVariant.TITLE}-${TypographyModifier.MEDIUM}`]:\n                variant === TypographyVariant.TITLE && medium,\n            [`${DEFAULT_TYPOGRAPHY_CLASSNAME}--${TypographyVariant.TITLE}-${TypographyModifier.LARGE}`]: variant === TypographyVariant.TITLE && large,\n        }),\n        [variant, wide, stronger, medium, large, strongest]\n    );\n\n    return (\n        <Tag className={cx([`${DEFAULT_TYPOGRAPHY_CLASSNAME}`, conditionalClasses, className])} data-testid={testId}>\n            {children}\n        </Tag>\n    );\n}\n\nexport default memo(Typography);\n","import { createContext } from 'preact';\nimport { noop } from '../../utils';\nimport { CommonPropsTypes, CoreProviderProps } from './types';\nimport Localization from '../Localization';\n\nexport const CoreContext = createContext<CoreProviderProps & { i18n: Localization['i18n'] }>({\n    i18n: new Localization().i18n,\n    loadingContext: '',\n    commonProps: {} as CommonPropsTypes,\n    updateCore: noop,\n});\n","import { useContext } from 'preact/hooks';\nimport { CoreContext } from './CoreContext';\n\nconst useCoreContext = () => useContext(CoreContext);\n\nexport default useCoreContext;\n","export default \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMjMiIGhlaWdodD0iMTY5IiBmaWxsPSJub25lIiB2aWV3Qm94PSIwIDAgMjIzIDE2OSI+CiAgICA8cGF0aCBmaWxsPSIjRUFCMUEwIiBzdHJva2U9IiMwMDExMkMiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2Utd2lkdGg9Ii42IiBkPSJNMzYuNiAxMTIuMmMuNi0uMSAxLS43IDEtMS4zbC0uOS04LjcgMi4xIDYuNmMuMi42LjguOCAxLjQuNy42LS4xIDEtLjcuOC0xLjJsLTEuMy02LjggMi45LTQuOC01LjktNS41LTcuNiA5IDUgNC43IDEgNi4yYzAgLjcuNyAxLjIgMS41IDFaIi8+CiAgICA8cGF0aCBmaWxsPSIjRUFCMUEwIiBkPSJNMzEuNyAxMDMuNmMuMy40IDEuMiA2LjYgMS41IDkgMCAuNS42IDEgMS4xIDFoLjNjLjcgMCAxLjItLjYgMS4xLTEuM2wtLjctOS4xIi8+CiAgICA8cGF0aCBzdHJva2U9IiMwMDExMkMiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2Utd2lkdGg9Ii42IiBkPSJNMzEuNyAxMDMuNmMuMy40IDEuMiA2LjYgMS41IDkgMCAuNS42IDEgMS4xIDFoLjNjLjcgMCAxLjItLjYgMS4xLTEuM2wtLjctOS4xIi8+CiAgICA8cGF0aCBmaWxsPSIjRUFCMUEwIiBkPSJNMzAuNCA5OS4zdjEzLjFjMCAuNi41IDEuMSAxLjIgMS4xLjUgMCAxLS40IDEtMWwxLjItOS4zIi8+CiAgICA8cGF0aCBzdHJva2U9IiMwMDExMkMiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2Utd2lkdGg9Ii42IiBkPSJNMzAuNCA5OS4zdjEzLjFjMCAuNi41IDEuMSAxLjIgMS4xLjUgMCAxLS40IDEtMWwxLjItOS4zIi8+CiAgICA8cGF0aCBmaWxsPSIjRUFCMUEwIiBkPSJNMzUuOCA5MnMtNi41IDQuOC02LjYgNi4yYTk5NSA5OTUgMCAwIDAtLjkgMTAuM2MxLjUgMCAyLjgtMSAzLjItMi4zLjYtMi4xIDEuMi00LjkgMS01LjEtLjEtLjMgNS0uNyA1LjgtMy44Ii8+CiAgICA8cGF0aCBzdHJva2U9IiMwMDExMkMiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2Utd2lkdGg9Ii42IiBkPSJNMzUuOCA5MnMtNi41IDQuOC02LjYgNi4yYTk5NSA5OTUgMCAwIDAtLjkgMTAuM2MxLjUgMCAyLjgtMSAzLjItMi4zLjYtMi4xIDEuMi00LjkgMS01LjEtLjEtLjMgNS0uNyA1LjgtMy44Ii8+CiAgICA8cGF0aCBmaWxsPSIjMzMwMEMyIiBzdHJva2U9IiMwMDExMkMiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2Utd2lkdGg9Ii42IiBkPSJNOTUuMyA0Ni43Uzc4IDUzIDcwLjUgNTkuNGMtNy42IDYuNC0zNi4xIDMxLjItMzYuMSAzMS4ybDExLjIgMTEgMzgtMjcuM2MzLjUtMi42IDExLjctMjcuNiAxMS43LTI3LjZaIi8+CiAgICA8cGF0aCBmaWxsPSIjMDAxMTJDIiBzdHJva2U9IiMwMDExMkMiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2Utd2lkdGg9Ii42IiBkPSJtNDUuNiAxMDEuNy0xMS4yLTExIDI5LjgtMi41LTE4LjYgMTMuNVpNMTg2LjQgOTAuNGgtNy4xdjI1LjNoNy4xVjkwLjRaTTIxNS42IDY2LjdoLTcuMlY5Mmg3LjJWNjYuN1pNMTczLjcgMTY3LjhoLTdsOC4zLTQ0aDdsLTguMyA0NFpNMjYuMyAxNjcuOGgtN2w4LjMtNDRoN2wtOC4zIDQ0Wk0yMDkuMiAxNjcuOGgtN2wtOC4zLTQ0aDdsOC4zIDQ0Wk02OCA5MS4xaC03djI1aDdWOTFaIi8+CiAgICA8cGF0aCBmaWxsPSIjRjNGNkY5IiBzdHJva2U9IiMwMDExMkMiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2Utd2lkdGg9Ii42IiBkPSJNMjA4LjQgNjYuN0gzOVY5MmgxNjkuM1Y2Ni43WiIvPgogICAgPHBhdGggZmlsbD0iIzAwMTEyQyIgc3Ryb2tlPSIjMDAxMTJDIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc3Ryb2tlLXdpZHRoPSIuNiIgZD0iTTIwOC40IDEyMy40di03LjZIMzl2Ny42aDE2OS41WiIvPgogICAgPHBhdGggZmlsbD0iI0YzRjZGOSIgc3Ryb2tlPSIjMDAxMTJDIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc3Ryb2tlLXdpZHRoPSIuNiIgZD0iTTE5My43IDEyMy40VjExNkgxNS4zdjcuNWgxNzguNFoiLz4KICAgIDxwYXRoIGZpbGw9IiMwMDExMkMiIHN0cm9rZT0iIzAwMTEyQyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS13aWR0aD0iLjYiIGQ9Ik03Ny40IDE2Ny44aC03bC04LjMtNDRoN2w4LjMgNDRaTTQyLjIgMTUwLjRsLS44IDNoMTYuMmwuNy0zLjFoLTE2Wk04MC4xIDE1MC4zbDEuNCAzaDE1LjFsLTEtM0g4MFoiLz4KICAgIDxwYXRoIGZpbGw9IiMwMDExMkMiIHN0cm9rZT0iIzAwMTEyQyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS13aWR0aD0iLjYiIGQ9Im05Ny44IDExNS45LTI4LjQuMS03LjcgMzQuN2gtMjNsOS41LTQwLjZhMTggMTggMCAwIDEgMTYuNy0xMmw1NC0uNS0uNSAyLjZjLTIgOS4xLTEwLjYgMTUuNi0yMC42IDE1LjdaIi8+CiAgICA8cGF0aCBmaWxsPSIjMDAxMTJDIiBzdHJva2U9IiMwMDExMkMiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2Utd2lkdGg9Ii42IiBkPSJNMTEwLjcgMTE1LjlIODUuNUw5OSAxNTAuM2gtMjVMNjIuOSAxMTdjLTMtOSAzLjYtMTguNiAxMy42LTE5LjRoLjhsNTQuNS0xLjMtLjYgMy45YTIwLjcgMjAuNyAwIDAgMS0yMC40IDE1LjdaIi8+CiAgICA8cGF0aCBmaWxsPSIjRjNGNkY5IiBzdHJva2U9IiMwMDExMkMiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2Utd2lkdGg9Ii42IiBkPSJNNTcuNiAxNTMuNEg0MS40bC0uOCAyLjctMTYuOCA0LjJjLTIgLjctMy43IDIuMS00LjcgMy45SDU1bDIuNi0xMC44Wk05Ni42IDE1My40SDgxLjVsMS4zIDIuOS0xNS4yIDRjLTIgLjctMy42IDIuMS00LjYgMy44aDM3LjNsLTMuNy0xMC43WiIvPgogICAgPHBhdGggZmlsbD0iI2ZmZiIgc3Ryb2tlPSIjMDAxMTJDIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc3Ryb2tlLXdpZHRoPSIuNiIgZD0ibTU0IDE2OCAxLTMuOEgxOWE4IDggMCAwIDAtMSAzLjhoMzZaTTEwMS43IDE2OGwtMS4zLTMuOEg2M2E4IDggMCAwIDAtMSAzLjhoMzkuNloiLz4KICAgIDxwYXRoIGZpbGw9IiMzMzAwQzIiIGQ9Ik04Ni45IDU5LjZjLjMgMjAtNS40IDM3LjctNS40IDM3LjdsNTAuMy0uMXM0LjctMTguNyAyLTMxYy0yLjYtMTIuMy0xNi4yLTIxLjgtMjIuNS0yMi4zLTYuMi0uNi0yMC42IDQuNi0yMC42IDQuNiIvPgogICAgPHBhdGggc3Ryb2tlPSIjMDAxMTJDIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc3Ryb2tlLXdpZHRoPSIuNiIgZD0iTTg2LjkgNTkuNmMuMyAyMC01LjQgMzcuNy01LjQgMzcuN2w1MC4zLS4xczQuNy0xOC43IDItMzFjLTIuNi0xMi4zLTE2LjItMjEuOC0yMi41LTIyLjMtNi4yLS42LTIwLjYgNC42LTIwLjYgNC42Ii8+CiAgICA8cGF0aCBmaWxsPSIjZmZmIiBzdHJva2U9IiMwMDExMkMiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2Utd2lkdGg9Ii42IiBkPSJNOTYuNyA0Ny4xcy42IDUuNSAyIDljMS4yIDMuNiAyIDcuMyAyIDcuM3M2LjgtMTcuNSA4LjMtMTkuNmMwIDAtOCA2LjUtMTIuMyAzLjNaIi8+CiAgICA8cGF0aCBmaWxsPSIjRUFCMUEwIiBzdHJva2U9IiMwMDExMkMiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2Utd2lkdGg9Ii42IiBkPSJtMTA1LjggMzguMyAzLjEgNS41cy00IDYuOC04LjYgNi43Yy00LjcgMC0zLjUtNS42LTMuNS01LjZsOS02LjZaIi8+CiAgICA8cGF0aCBmaWxsPSIjMDAxMTJDIiBzdHJva2U9IiMwMDExMkMiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2Utd2lkdGg9Ii42IiBkPSJtMTAxLjggNDQuNy00IDQuOS0xLTIuNSA1LTIuNFpNOTcgODMuMUg4NS42bC0zLjMtMTcuOWgxMS4xbDMuNCAxNy45WiIvPgogICAgPHBhdGggZmlsbD0iI0VBQjFBMCIgc3Ryb2tlPSIjMDAxMTJDIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc3Ryb2tlLXdpZHRoPSIuNiIgZD0iTTEwMS42IDgyLjZjLTEtMS42LTIuMy0zLTMuMi00LjUtMS4yLTItMS43LTQuNS0yLjMtNi44LTIuNS0uNy0yLjYgNC0yLjQgNiAuMyAxLjggMSAzLjcgMSAzLjctMi0uNC0xMC40LTQuNy0xMC40LTQuNy4zIDAtMS40IDIuMy0uNyAzLjNsMSAxLjNzLS43IDEuMy0uNyAyYy0uMSAxLjIgMS4xIDIuMiAxLjEgMi4ybC4xIDIuM2MuMi44IDEuNSAxLjUgMS41IDEuNXMwIDEuNC43IDEuOGMuNy4zIDExLjIgMS4yIDE1LjggMS40IDAtMS42LjUtMy40LjMtNSAwLTEuNS0xLTMuMi0xLjgtNC41WiIvPgogICAgPHBhdGggZmlsbD0iIzAwMTEyQyIgc3Ryb2tlPSIjMDAxMTJDIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc3Ryb2tlLXdpZHRoPSIuNiIgZD0iTTExMS43IDIxLjljLjQuOC0uMiAxLjgtMSAyLjQtLjcuNS0xLjcuNy0yLjYgMSAxLjItLjQgMi42LS4yIDMuOC4yLjQuMi44LjQgMSAuNy4zLjUuMSAxLjItLjIgMS42LS4zLjQtLjguOC0xLjMgMS0xLjQuNy0zIDEuMi00LjUgMS4zIDEgMCAxLjUgMS4xIDEuMSAxLjktLjQuOC0xLjMgMS4yLTIuMiAxLjQtMS41LjQtMy4zLjQtNC41LS40LS43LS40LTEuMS0xLTEuNS0xLjVhNyA3IDAgMCAxLS4yLTcuNCA5IDkgMCAwIDEgNS43LTMuOGMxLjctLjMgNS42LS4zIDYuNCAxLjZaIi8+CiAgICA8cGF0aCBmaWxsPSIjMDAxMTJDIiBzdHJva2U9IiMwMDExMkMiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2Utd2lkdGg9Ii42IiBkPSJNNjguNyAyNWMuNSAxLjcgMyAyIDQuNiAxLjMtMS4yLjItMi40LjQtMy4zIDEuMi0xIC45LTEuMSAyLjQtLjEgMyAuMy4zLjguNCAxLjMuNGE5IDkgMCAwIDAgNC42LTFjLTEgLjYtMiAxLjktMS4zIDMgLjYuOSAyLjIuOCAzLjIuMiAxLS42IDItMS41IDMtMS44LS42LjQtMS4zLjgtMS41IDEuNS0uMy42IDAgMS42LjYgMS43LjUuMSAxIDAgMS40LS4yIDEuMS0uNiAyLjItMS4zIDMtMi4zLTEgLjMtLjggMS45LjEgMi4zIDEgLjQgMiAwIDMtLjZhOC41IDguNSAwIDAgMCAyLjgtM2MtLjMuNCAwIDEuMS42IDEuNSAxIC42IDIuNC43IDMuNS4zYTkgOSAwIDAgMCAzLTIgNyA3IDAgMCAwIDItMi40Yy42LTEuNC4yLTMtLjctNC4yQTEwIDEwIDAgMCAwIDk1IDIxYy00LjMtMi4zLTkuOC0zLTE0LjYtMS43YTYuNiA2LjYgMCAwIDAtNi44LTJjLS43LjMtMS41LjctMS44IDEuNC0uNSAxLjIuNSAyLjMgMS42IDIuOC0yIDAtNS40IDEtNC42IDMuNVoiLz4KICAgIDxwYXRoIGZpbGw9IiNFQUIxQTAiIHN0cm9rZT0iIzAwMTEyQyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS13aWR0aD0iLjYiIGQ9Ik04MC42IDI3LjdjLjctLjcgMTAuNi02LjggMTAuNi02LjhsMTAuMiAzLjggNC44IDkuMXYuMmMuOSA3LjQtMy4xIDEwLjUtOC44IDEzLjItNSAyLjQtMTYtMS42LTE2LjktMTkuNCAwIDAgMCAwIDAgMFoiLz4KICAgIDxwYXRoIGZpbGw9IiMwMDExMkMiIHN0cm9rZT0iIzAwMTEyQyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS13aWR0aD0iLjYiIGQ9Ik03MC4zIDE3LjNjLS4zLS45LS4zLTEuOC4yLTIuNC41LS41IDEuMi0uNyAxLjktLjYuNyAwIDEuMy40IDEuOS43LS45LS44LS4zLTIuMy44LTIuNyAxLjEtLjMgMi40LjEgMy4yIDEgLjUuNCAxIDQuMyAxLjUgNC40LjYuMSAxIDAgMS41LS4yIDIuNC0uOSA1LTEuNSA3LjQtMS44IDEuOS0uMyAzLjgtLjQgNS42LS4yIDIuMS4zIDQuMiAxIDYuMiAxLjl2MGMzLjQuMiA3LjQgMTAuNSA2LjQgMTAuOC0uOS4yLjIgMC0uMS4xLTIuMS43LTYuNC0uNy03LjYtMS4xYTEyIDEyIDAgMCAxLTMuMS0yLjFjLTEuOC0xLjQtNC0yLjItNi4yLTIuNmwtMS40LS4yYy0xLjguNy0zLjggMS01LjguNy0uNyAwLTEuNS0uMy0yLS44LS4zLS40LS4zLTEuMi4yLTEuNS0xIC41LTIuMS43LTMuMy43LS43IDAtMS42IDAtMi4yLS43LS42LS41LS41LTEuNi4zLTEuOC0xLjMuMy0yLjguNy00IDAtLjctLjUtMS4yLS43LTEuNC0xLjZaIi8+CiAgICA8cGF0aCBmaWxsPSIjRUFCMUEwIiBkPSJNMTAwIDI3LjhjLS42LTEuNy43LTQuMyAyLjQtNC42IDIuNi0uNSA0IDIgNC41IDQgLjUgMS44LjYgMy44LS4yIDUuNi0uMy41LS42IDEtMS4yIDEuNCIvPgogICAgPHBhdGggc3Ryb2tlPSIjMDAxMTJDIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc3Ryb2tlLXdpZHRoPSIuNiIgZD0iTTEwMCAyNy44Yy0uNi0xLjcuNy00LjMgMi40LTQuNiAyLjYtLjUgNCAyIDQuNSA0IC41IDEuOC42IDMuOC0uMiA1LjYtLjMuNS0uNiAxLTEuMiAxLjQiLz4KICAgIDxwYXRoIGZpbGw9IiNGM0Y2RjkiIHN0cm9rZT0iIzAwMTEyQyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS13aWR0aD0iLjYiIGQ9Ik05Ni44IDcuN2MyIDAgMy42LTEuNSAzLjYtMy40IDAtMS44LTEuNi0zLjMtMy42LTMuM3MtMy42IDEuNS0zLjYgMy4zYzAgMS45IDEuNiAzLjQgMy42IDMuNFoiLz4KICAgIDxwYXRoIGZpbGw9IiNGM0Y2RjkiIHN0cm9rZT0iIzAwMTEyQyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS13aWR0aD0iLjYiIGQ9Ik0xMDcuNCAyMi4xYzAtLjEgMC0zLjMtMS41LTcuNS0xLjYtNC00LjktOS4xLTExLjYtMTAuNC04LjItMS4yLTEzLjIgNC0xNS40IDcuMy0yLjMgMy4yLTIuNCA1LjMtMi40IDUuM2E2NyA2NyAwIDAgMSAzMC45IDUuM1oiLz4KICAgIDxwYXRoIGZpbGw9IiMwMDExMkMiIHN0cm9rZT0iIzAwMTEyQyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS13aWR0aD0iLjYiIGQ9Ik05My4zIDE3LjljLjctLjkuNC0yLjItLjYtMi43LTEtLjQtMi40LjItMi43IDEuMi43LS45LjQtMi4yLS41LTIuOS0uOS0uNy0yLjMtLjctMy4yIDAtMSAuNi0xLjMgMS45LTEgMi45IDAtLjcgMC0xLjUtLjItMi4xLS4zLS43LTEtMS4zLTEuNy0xLjMtLjUgMC0xIC4yLTEuNC41YTMgMyAwIDAgMC0xIDNjLS4zLTEtLjUtMi4xLTEuMi0zLS43LTEtMS44LTEuNi0zLTEuNC0xIC4yLTIgMS4zLTIgMi4zIDAgMSAuNyAyIDEuNSAyLjcuMSAwIDE0LjYgNCAxNyAuOFoiLz4KICAgIDxwYXRoIGZpbGw9IiMzMzAwQzIiIGQ9Ik0xMjggNTQuOHMyMiAyNi41IDE4LjkgMzcuOGMtMiA2LjctNDcgNC45LTQ3IDQuOWwyLjUtMTQuMyAyMy43LTEuNS05LjctMTIuNSIvPgogICAgPHBhdGggc3Ryb2tlPSIjMDAxMTJDIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc3Ryb2tlLXdpZHRoPSIuNiIgZD0iTTEyOCA1NC44czIyIDI2LjUgMTguOSAzNy44Yy0yIDYuNy00NyA0LjktNDcgNC45bDIuNS0xNC4zIDIzLjctMS41LTkuNy0xMi41Ii8+CiAgICA8cGF0aCBmaWxsPSIjZmZmIiBzdHJva2U9IiMwMDExMkMiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2Utd2lkdGg9Ii42IiBkPSJNNTcuNCAxLjRIMXYyOS40aDMzLjJMNDguOSA0NWwtLjItMTQuMmg4LjdWMS40WiIvPgogICAgPHBhdGggc3Ryb2tlPSIjMDAxMTJDIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc3Ryb2tlLXdpZHRoPSIuNiIgZD0iTTIuMyAxNjhoMjE5LjQiLz4KICAgIDxwYXRoIGZpbGw9IiMwMDExMkMiIHN0cm9rZT0iIzAwMTEyQyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS13aWR0aD0iLjYiIGQ9Ik0yOS4yIDI2LjNjNi4yIDAgMTEuMy00LjcgMTEuMy0xMC41UzM1LjQgNS4yIDI5LjIgNS4yQzIzIDUuMiAxNy45IDEwIDE3LjkgMTUuOHM1IDEwLjUgMTEuMyAxMC41WiIvPgogICAgPHBhdGggc3Ryb2tlPSIjZmZmIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc3Ryb2tlLXdpZHRoPSIuNiIgZD0ibTI1LjIgMTIgOCA3LjVNMzMuMiAxMmwtOCA3LjUiLz4KPC9zdmc+\"","import { Ref, VNode } from 'preact';\nimport { forwardRef } from 'preact/compat';\n\ntype _RenderResult = VNode | null;\n\n/**\n * Alternative to using `forwardRef` but with fixed type inference.\n * @see [How To Use forwardRef With Generic Components]{@link https://www.totaltypescript.com/forwardref-with-generic-components}\n */\nexport const fixedForwardRef = <P, T>(render: (props: P, ref: Ref<T>) => _RenderResult): ((props: P & { ref?: Ref<T> }) => _RenderResult) =>\n    forwardRef(render);\n\nexport default fixedForwardRef;\n","import { identity, isFunction, noop, sameValue } from '../../../utils';\nimport { MemoComparator, MemoComparatorGetters, MemoComparatorProp } from './types';\n\nexport const memoComparator = (() => {\n    const _comparedProps = new Set<string>();\n\n    const _propHasChanged = <T = {}>(prev: T, next: T, prop: MemoComparatorProp<T>, getters?: MemoComparatorGetters<T>) => {\n        let getter = getters?.[prop];\n        getter = isFunction(getter) ? getter : identity;\n        return !sameValue(getter(prev[prop]), getter(next[prop]));\n    };\n\n    const comparator = (<T = {}>(getters?: MemoComparatorGetters<T>) =>\n        (prev: T, next: T) => {\n            try {\n                for (const prop in prev) {\n                    _comparedProps.add(prop);\n                    if (_propHasChanged(prev, next, prop, getters)) return false;\n                }\n\n                for (const prop in next) {\n                    if (_comparedProps.has(prop)) continue;\n                    _comparedProps.add(prop);\n                    if (_propHasChanged(prev, next, prop, getters)) return false;\n                }\n\n                return true;\n            } finally {\n                _comparedProps.clear();\n            }\n        }) as MemoComparator;\n\n    return Object.defineProperty(comparator, 'exclude', { value: noop });\n})();\n\nexport default memoComparator;\n","import classnames from 'classnames';\nimport { JSX } from 'preact';\n\nconst EXCESS_WHITESPACE_CHAR = /^\\s+|\\s+(?=\\s|$)/g;\n\nexport const parseClassName = (fallbackClassName: string, className: JSX.Signalish<string | undefined>): undefined | string => {\n    const classes = className ? (typeof className === 'string' ? className : className?.value ?? '') : '';\n    return classes.replace(EXCESS_WHITESPACE_CHAR, '') || fallbackClassName.replace(EXCESS_WHITESPACE_CHAR, '') || undefined;\n};\n\nexport const getClassName = (\n    className?: JSX.Signalish<string | undefined>,\n    fallbackClassName?: JSX.Signalish<string | undefined>,\n    requiredClassName?: JSX.Signalish<string | undefined>\n) => classnames(parseClassName('', requiredClassName), parseClassName(parseClassName('', fallbackClassName) || '', className));\n\nexport const getModifierClasses = (prefix: string, modifiers: string[] = [], baseClasses: string[] = []): string =>\n    classnames([...baseClasses, ...modifiers?.map(m => (prefix ? `${prefix}--${m}` : m))]);\n","import { JSXInternal } from 'preact/src/jsx';\nimport { boolify } from '../value/bool';\n\nexport const parseBooleanProp = (prop: boolean | JSXInternal.SignalLike<boolean | undefined> | undefined): boolean =>\n    boolify(prop, (prop as JSXInternal.SignalLike<boolean | undefined>)?.value ?? prop);\n","import { getModifierClasses } from '../../../../utils/preact';\nimport { useCallback, useMemo } from 'preact/hooks';\nimport { JSXInternal } from 'preact/src/jsx';\n\nconst useButton = (\n    className: string,\n    classNameModifiers: string[],\n    defaultClassName: string,\n    disabled: boolean,\n    onClick?: JSXInternal.MouseEventHandler<HTMLButtonElement>\n) => {\n    const click = useCallback(\n        (e: any) => {\n            e.preventDefault();\n\n            if (!disabled) {\n                onClick?.(e);\n            }\n        },\n        [disabled, onClick]\n    );\n\n    const classes = useMemo(\n        () => getModifierClasses(defaultClassName, classNameModifiers, [defaultClassName, className]),\n        [classNameModifiers, className]\n    );\n\n    return { classes, click };\n};\n\nexport default useButton;\n","export const DEFAULT_BUTTON_CLASSNAME = 'adyen-pe-button';\nexport const BUTTON_ACTION_CLASSNAME = `${DEFAULT_BUTTON_CLASSNAME}-actions`;\nexport const ICON_BUTTON_CLASSNAME = `${DEFAULT_BUTTON_CLASSNAME}--icon`;\nexport const ICON_BUTTON_CONTENT_CLASSNAME = `${DEFAULT_BUTTON_CLASSNAME}--icon-content`;\nexport const BUTTON_ACTION_CONTAINER_CLASSNAME = `${BUTTON_ACTION_CLASSNAME}__container-wrapper`;\nexport const BUTTON_LABEL_CLASSNAME = `${DEFAULT_BUTTON_CLASSNAME}__label`;\nexport const BUTTON_ICON_RIGHT_CLASSNAME = `${DEFAULT_BUTTON_CLASSNAME}__icon-right`;\nexport const BUTTON_ICON_LEFT_CLASSNAME = `${DEFAULT_BUTTON_CLASSNAME}__icon-left`;\nexport const BUTTON_CONDENSED_CLASSNAME = `${DEFAULT_BUTTON_CLASSNAME}--condensed`;\nexport const BUTTON_FULL_WIDTH_CLASSNAME = `${DEFAULT_BUTTON_CLASSNAME}--full-width`;\nexport const BUTTON_LOADING_CLASSNAME = `${DEFAULT_BUTTON_CLASSNAME}--loading`;\n","import { VNode } from 'preact';\nimport { JSXInternal } from 'preact/src/jsx';\n\nexport interface ButtonProps extends JSXInternal.HTMLAttributes<HTMLAnchorElement | HTMLButtonElement> {\n    classNameModifiers?: string[];\n    variant?: ButtonVariant;\n    iconLeft?: VNode<Element>;\n    iconRight?: VNode<Element>;\n    inline?: boolean;\n    iconButton?: boolean;\n    fullWidth?: boolean;\n    condensed?: boolean;\n    state?: 'loading' | 'default';\n}\n\nexport enum ButtonVariant {\n    PRIMARY = 'primary',\n    SECONDARY = 'secondary',\n    TERTIARY = 'tertiary',\n    TERTIARY_WITH_BACKGROUND = 'tertiary-with-background',\n    LINK = 'link',\n}\n","import './Spinner.scss';\n\ninterface SpinnerProps {\n    /**\n     * Whether the spinner should be rendered inline\n     */\n    inline?: boolean;\n\n    /**\n     * size of the spinner (x-small/small/medium/large)\n     */\n    size?: 'x-small' | 'small' | 'medium' | 'large';\n}\n\n/**\n * Default Loading Spinner\n * @param props -\n */\nconst Spinner = ({ inline = false, size = 'large' }: SpinnerProps) => (\n    <div className={`adyen-pe-spinner__wrapper ${inline ? 'adyen-pe-spinner__wrapper--inline' : ''}`}>\n        <div className={`adyen-pe-spinner adyen-pe-spinner--${size}`} />\n    </div>\n);\n\nexport default Spinner;\n","import useButton from './hooks/useButton';\nimport {\n    DEFAULT_BUTTON_CLASSNAME,\n    BUTTON_ICON_LEFT_CLASSNAME,\n    BUTTON_ICON_RIGHT_CLASSNAME,\n    BUTTON_LABEL_CLASSNAME,\n    ICON_BUTTON_CLASSNAME,\n    ICON_BUTTON_CONTENT_CLASSNAME,\n    BUTTON_FULL_WIDTH_CLASSNAME,\n    BUTTON_CONDENSED_CLASSNAME,\n    BUTTON_LOADING_CLASSNAME,\n} from './constants';\nimport { TypographyElement, TypographyVariant } from '../Typography/types';\nimport Typography from '../Typography/Typography';\nimport { fixedForwardRef, parseBooleanProp, parseClassName } from '../../../utils/preact';\nimport { Ref } from 'preact';\nimport { useMemo } from 'preact/hooks';\nimport { ButtonProps, ButtonVariant } from './types';\nimport './Button.scss';\nimport cx from 'classnames';\nimport Spinner from '../Spinner';\n\nconst isHTMLAnchorElementRef = (ref: any): ref is Ref<HTMLAnchorElement> => {\n    return ref && ref.current instanceof HTMLAnchorElement;\n};\n\nconst isHTMLButtonElementRef = (ref: any): ref is Ref<HTMLButtonElement> => {\n    return ref && ref.current instanceof HTMLButtonElement;\n};\n\n// TODO: Reuse BaseButton component within Button component\nfunction Button(\n    {\n        variant = ButtonVariant.PRIMARY,\n        disabled = false,\n        onClick,\n        classNameModifiers = [],\n        iconLeft,\n        iconRight,\n        type = 'button',\n        children,\n        className,\n        iconButton = false,\n        fullWidth,\n        condensed,\n        href,\n        state = 'default',\n        ...restAttributes\n    }: ButtonProps,\n    ref: Ref<HTMLAnchorElement | HTMLButtonElement> | undefined\n) {\n    const classNameValue = useMemo(() => parseClassName('', className) || '', [className]);\n    const disabledValue = useMemo(() => parseBooleanProp(disabled), [disabled]);\n\n    const { classes, click } = useButton(classNameValue, [...classNameModifiers, variant], DEFAULT_BUTTON_CLASSNAME, disabledValue, onClick);\n\n    const allProps = useMemo(\n        () => ({\n            className: cx(iconButton ? `${ICON_BUTTON_CLASSNAME} ${classes}` : classes, {\n                [ICON_BUTTON_CLASSNAME]: iconButton,\n                [BUTTON_CONDENSED_CLASSNAME]: condensed,\n                [BUTTON_FULL_WIDTH_CLASSNAME]: fullWidth,\n                [BUTTON_LOADING_CLASSNAME]: state === 'loading',\n            }),\n            disabled: disabled || state === 'loading',\n            ...restAttributes,\n        }),\n        [classes, condensed, disabled, fullWidth, iconButton, restAttributes, state]\n    );\n\n    const allChildren = useMemo(\n        () =>\n            iconButton ? (\n                <div className={`${ICON_BUTTON_CONTENT_CLASSNAME}`}>{children}</div>\n            ) : (\n                <>\n                    {state === 'loading' && <Spinner size={'x-small'} />}\n                    {iconLeft && <span className={BUTTON_ICON_LEFT_CLASSNAME}>{iconLeft}</span>}\n                    <Typography className={BUTTON_LABEL_CLASSNAME} el={TypographyElement.SPAN} variant={TypographyVariant.BODY}>\n                        {children}\n                    </Typography>\n                    {iconRight && <span className={BUTTON_ICON_RIGHT_CLASSNAME}>{iconRight}</span>}\n                </>\n            ),\n        [children, iconButton, iconLeft, iconRight, state]\n    );\n\n    if (href) {\n        if (ref && isHTMLButtonElementRef(ref)) {\n            console.warn('Button ref should be of type HTMLAnchorElement');\n        }\n\n        return (\n            <a {...allProps} href={href} ref={ref as Ref<HTMLAnchorElement>}>\n                {allChildren}\n            </a>\n        );\n    } else {\n        if (ref && isHTMLAnchorElementRef(ref)) {\n            console.warn('Button ref should be of type HTMLButtonElement');\n        }\n\n        return (\n            <button {...allProps} ref={ref as Ref<HTMLButtonElement>} type={type} onClick={click}>\n                {allChildren}\n            </button>\n        );\n    }\n}\n\nexport default fixedForwardRef(Button);\n","import Typography from '../Typography/Typography';\nimport { TypographyVariant } from '../Typography/types';\nimport { useCallback } from 'preact/hooks';\nimport useCoreContext from '../../../core/Context/useCoreContext';\nimport { TranslationKey } from '../../../translations';\nimport './ErrorMessageDisplay.scss';\nimport { JSXInternal } from 'preact/src/jsx';\nimport noResults from '../../../images/no-results.svg';\nimport Button from '../Button';\nimport cx from 'classnames';\nimport { ButtonVariant } from '../Button/types';\nimport { VNode } from 'preact';\n\nexport const IMAGE_BREAKPOINT_SIZES = {\n    md: 680,\n    lg: 1024,\n};\n\ntype ErrorMessageDisplayProps = {\n    title: TranslationKey;\n    message?: TranslationKey | TranslationKey[];\n    imageDesktop?: string;\n    imageMobile?: string;\n    withImage?: boolean;\n    centered?: boolean;\n    refreshComponent?: boolean;\n    onContactSupport?: () => void;\n    translationValues?: { [k in TranslationKey]?: JSXInternal.Element | null };\n    absolutePosition?: boolean;\n    outlined?: boolean;\n    renderSecondaryButton?: () => JSXInternal.Element;\n};\n\nexport const ErrorMessageDisplay = ({\n    title,\n    message,\n    imageDesktop,\n    imageMobile,\n    withImage,\n    centered,\n    refreshComponent,\n    onContactSupport,\n    translationValues,\n    absolutePosition = true,\n    outlined = true,\n    renderSecondaryButton,\n}: ErrorMessageDisplayProps) => {\n    const { i18n, updateCore } = useCoreContext();\n    const renderMessage = useCallback(\n        (errorMessage: TranslationKey | TranslationKey[]) => {\n            if (Array.isArray(errorMessage)) {\n                return errorMessage.map((message, i) =>\n                    i === 0 ? (\n                        <>\n                            {i18n.get(message)}\n                            {translationValues && translationValues[message] && <>{translationValues[message]}</>}\n                        </>\n                    ) : (\n                        <>\n                            <br />\n                            {i18n.get(message)}\n                            {translationValues && translationValues[message] && <>{translationValues[message]}</>}\n                        </>\n                    )\n                );\n            }\n            return i18n.get(errorMessage);\n        },\n        [i18n, translationValues]\n    );\n\n    return (\n        <div\n            className={cx(['adyen-pe-error-message-display'], {\n                'adyen-pe-error-message-display--absolute-position': absolutePosition,\n                'adyen-pe-error-message-display--outlined': outlined,\n                'adyen-pe-error-message-display--with-background': !outlined,\n                'adyen-pe-error-message-display--centered': centered,\n            })}\n        >\n            {(imageDesktop || imageMobile || withImage) && (\n                <div className=\"adyen-pe-error-message-display__illustration\">\n                    <picture>\n                        <source type=\"image/svg+xml\" media={`(min-width: ${IMAGE_BREAKPOINT_SIZES.md}px)`} srcSet={imageDesktop} />\n                        <source type=\"image/svg+xml\" media={`(max-width: ${IMAGE_BREAKPOINT_SIZES.md}px)`} srcSet={imageMobile} />\n                        <img srcSet={imageDesktop ?? noResults} alt={i18n.get('thereWasAnUnexpectedError')} />\n                    </picture>\n                </div>\n            )}\n            <Typography variant={TypographyVariant.TITLE}>{i18n.get(title)}</Typography>\n            {message && <Typography variant={TypographyVariant.BODY}>{renderMessage(message)}</Typography>}\n\n            {(onContactSupport || refreshComponent || renderSecondaryButton) && (\n                <div className={'adyen-pe-error-message-display__button'}>\n                    {renderSecondaryButton && renderSecondaryButton()}\n                    {onContactSupport && <Button onClick={onContactSupport}>{i18n.get('contactSupport')}</Button>}\n                    {!onContactSupport && refreshComponent && <Button onClick={updateCore}>{i18n.get('refresh')}</Button>}\n                </div>\n            )}\n        </div>\n    );\n};\n","import { isFunction } from '../../../../../../utils';\nimport AuthSession from '../../../AuthSession';\nimport type { ExternalComponentAvailabilityRegistry } from '../types';\n\nconst getComponentAvailabilityFromEndpoint = (context: AuthSession['context'], endpoint: keyof AuthSession['context']['endpoints']) => {\n    return isFunction(context.endpoints[endpoint]);\n};\n\nconst componentAvailabilityRegistry: ExternalComponentAvailabilityRegistry = {\n    transactions: context => getComponentAvailabilityFromEndpoint(context, 'getTransactions'),\n    transactionDetails: context => getComponentAvailabilityFromEndpoint(context, 'getTransaction'),\n    payouts: context => getComponentAvailabilityFromEndpoint(context, 'getPayouts'),\n    payoutDetails: context => getComponentAvailabilityFromEndpoint(context, 'getPayout'),\n    reports: context => getComponentAvailabilityFromEndpoint(context, 'getReports'),\n    capitalOverview: context => getComponentAvailabilityFromEndpoint(context, 'getDynamicGrantOffersConfiguration'),\n    capitalOffer: context => getComponentAvailabilityFromEndpoint(context, 'getDynamicGrantOffer'),\n};\n\nexport default componentAvailabilityRegistry;\n","import AuthSession from '../AuthSession';\nimport { isWatchlistUnsubscribeToken } from '../../../../primitives/reactive/watchlist';\nimport { createDeferred } from '../../../../primitives/async/deferred';\nimport { boolOrTrue } from '../../../../utils';\n\nconst sessionReady = async (session: AuthSession) => {\n    const ready = createDeferred<void>();\n    const refreshInProgress = session.context.refreshing;\n    let didTriggerRefresh: boolean | undefined = undefined;\n    let canRefreshSession: boolean | undefined = undefined;\n\n    let sessionUnsubscribe = session.subscribe(maybeUnsubscribeToken => {\n        if (isWatchlistUnsubscribeToken(maybeUnsubscribeToken)) {\n            sessionUnsubscribe();\n            sessionUnsubscribe = null!;\n            ready.resolve();\n            return;\n        }\n\n        didTriggerRefresh ??= session.context.refreshing;\n\n        if (session.context.refreshing) return;\n\n        if (boolOrTrue(session.context.isExpired)) {\n            if ((canRefreshSession ??= !(refreshInProgress || didTriggerRefresh))) {\n                canRefreshSession = false;\n                session.refresh();\n                return;\n            }\n        }\n\n        // Session has been refreshed (likely to have an active session)\n        ready.resolve();\n    });\n\n    return ready.promise;\n};\n\nexport default sessionReady;\n","import { boolOrFalse } from '../../../../../utils';\nimport componentAvailabilityRegistry from './helpers/componentAvailabilityRegistry';\nimport type { ExternalComponentType } from '../../../../../components/types';\nimport AuthSession from '../../AuthSession';\nimport sessionReady from '../sessionReady';\n\nconst sessionAwareComponentAvailability = async (type: ExternalComponentType, session: AuthSession) => {\n    await sessionReady(session);\n    return boolOrFalse(await componentAvailabilityRegistry[type]?.(session.context));\n};\n\nexport default sessionAwareComponentAvailability;\n","import { ExternalComponentType } from '../../../../../../components/types';\nimport { TranslationKey } from '../../../../../../translations';\n\nconst componentAvailabilityErrors = (type: ExternalComponentType): TranslationKey => {\n    switch (type) {\n        case 'payouts':\n            return 'weCouldNotLoadThePayoutsOverview';\n        case 'transactions':\n            return 'weCouldNotLoadTheTransactionsOverview';\n        case 'transactionDetails':\n            return 'weCouldNotLoadYourTransactions';\n        case 'payoutDetails':\n            return 'weCouldNotLoadYourPayouts';\n        case 'reports':\n            return 'weCouldNotLoadTheReportsOverview';\n        default:\n            return 'somethingWentWrong';\n    }\n};\n\nexport default componentAvailabilityErrors;\n","import { createContext, toChildArray } from 'preact';\nimport { useContext, useEffect, useMemo, useState } from 'preact/hooks';\nimport { ErrorMessageDisplay } from '../../components/internal/ErrorMessageDisplay/ErrorMessageDisplay';\nimport { AuthSession } from './session/AuthSession';\nimport { isWatchlistUnsubscribeToken } from '../../primitives/reactive/watchlist';\nimport sessionAwareComponentAvailability, { componentAvailabilityErrors } from './session/utils/sessionAwareComponentAvailability';\nimport { asyncNoop, EMPTY_OBJECT, isUndefined, noop } from '../../utils';\nimport type { AuthProviderProps } from './types';\n\nconst AuthContext = createContext<AuthSession['context'] & Pick<AuthSession, 'http' | 'refresh'>>({\n    endpoints: EMPTY_OBJECT,\n    hasError: false,\n    http: asyncNoop,\n    isExpired: undefined,\n    isFrozen: false,\n    refresh: noop,\n    refreshing: false,\n});\n\nexport const AuthProvider = ({ children, session, type }: AuthProviderProps) => {\n    const { http, refresh } = useMemo(() => session, [session]);\n    const [, setContextCounter] = useState(0);\n    const [unsubscribeCounter, setUnsubscribeCounter] = useState(0);\n    const [hasPermission, setHasPermission] = useState<undefined | boolean>();\n\n    useEffect(() => {\n        sessionAwareComponentAvailability(type, session).then(setHasPermission);\n    }, [session, type]);\n\n    useEffect(() => {\n        return session.subscribe(maybeContext => {\n            const stateUpdater = isWatchlistUnsubscribeToken(maybeContext) ? setUnsubscribeCounter : setContextCounter;\n            stateUpdater(count => count + 1);\n        });\n    }, [unsubscribeCounter]);\n\n    return (\n        <AuthContext.Provider value={{ ...session.context, http, refresh }}>\n            {!isUndefined(hasPermission) &&\n                (hasPermission ? (\n                    toChildArray(children)\n                ) : (\n                    <ErrorMessageDisplay\n                        withImage\n                        centered\n                        title={'somethingWentWrong'}\n                        message={[componentAvailabilityErrors(type), 'contactSupportForHelp']}\n                    />\n                ))}\n        </AuthContext.Provider>\n    );\n};\n\nexport const useAuthContext = () => useContext(AuthContext);\nexport default useAuthContext;\n","import { useCallback, useState } from 'preact/hooks';\n\nconst useBooleanState = (initialState = false) => {\n    const [state, setState] = useState(initialState);\n    const updateState = useCallback((state: boolean) => setState(state), []);\n    const toggleState = useCallback(() => setState(state => !state), []);\n    return [state, updateState, toggleState] as const;\n};\n\nexport default useBooleanState;\n","import { toChildArray } from 'preact';\nimport { useEffect, useMemo } from 'preact/hooks';\nimport { CoreContext } from './CoreContext';\nimport { CoreProviderProps } from './types';\nimport useBooleanState from '../../hooks/useBooleanState';\nimport Localization from '../Localization';\n\n/**\n * CoreProvider Component\n * Wraps a component delaying the render until after the i18n module is fully loaded\n */\nconst CoreProvider = ({\n    i18n = new Localization().i18n,\n    children,\n    commonProps: _commonProps,\n    loadingContext: _loadingContext,\n    updateCore,\n    externalErrorHandler,\n}: CoreProviderProps) => {\n    const [ready, setReady] = useBooleanState(false);\n    const commonProps = useMemo(() => _commonProps || {}, [_commonProps]);\n    const loadingContext = useMemo(() => _loadingContext ?? '', [_loadingContext]);\n\n    useEffect(() => {\n        (async () => {\n            await i18n?.ready;\n            setReady(true);\n        })().catch();\n    }, []);\n\n    if (!ready) return null;\n\n    return (\n        <CoreContext.Provider value={{ i18n, commonProps, loadingContext, updateCore, externalErrorHandler }}>\n            {toChildArray(children)}\n        </CoreContext.Provider>\n    );\n};\n\nexport default CoreProvider;\n","import { ComponentChild, render } from 'preact';\nimport { BaseElementProps, BaseElementState, ExternalComponentType } from '../types';\nimport { isString, uuid } from '../../utils';\n\nclass BaseElement<P> {\n    public static type: ExternalComponentType;\n\n    public _component: ComponentChild | Error;\n    public _node: Document | ShadowRoot | DocumentFragment | Element | null = null;\n    public readonly _id = `${(this.constructor as typeof BaseElement)?.type}-${uuid()}`;\n\n    public defaultProps = {};\n    public props: P & BaseElementProps;\n    public state: BaseElementState = {};\n\n    protected constructor(props: P & BaseElementProps) {\n        this.props = this.formatProps({ ...this?.defaultProps, ...props });\n        this.props.core.registerComponent(this);\n    }\n\n    /**\n     * Executed during creation of any element.\n     * Gives a chance to any component to format the props we're receiving.\n     */\n    protected formatProps(props: P & BaseElementProps): any {\n        return props;\n    }\n\n    /**\n     * Executed on the `data` getter.\n     * Returns the component data necessary for making a request\n     */\n    protected formatData() {\n        return {};\n    }\n\n    protected setState(newState: object): void {\n        this.state = { ...this.state, ...newState };\n    }\n\n    /**\n     * Returns the component data ready to submit to the Checkout API\n     * Note: this does not ensure validity, check isValid first\n     */\n    get data(): any {\n        return {\n            ...this.formatData(),\n            clientStateDataIndicator: true,\n        };\n    }\n\n    public render(): ComponentChild | Error {\n        // render() not implemented in the element\n        throw new Error('Component cannot be rendered.');\n    }\n\n    /**\n     * Mounts an element into the dom\n     * @param domNode - Node (or selector) where we will mount the element\n     * @returns this - the element instance we mounted\n     */\n    public mount(domNode: string): this;\n    public mount(domNode: HTMLElement): this;\n    public mount(domNode: any): any {\n        const node = isString(domNode) ? document.querySelector(domNode) : domNode;\n\n        if (!node) throw new Error('Component could not mount. Root node was not found.');\n\n        // new, if this._node exists then we are \"remounting\" so we first need to unmount if it's not already been done\n        if (this._node) this.unmount();\n\n        this._node = node;\n        this._component = this.render();\n\n        render(this._component, node);\n        return this;\n    }\n\n    /**\n     * Updates props, resets the internal state and remounts the element.\n     * @param props - props to update\n     * @returns this - the element instance\n     */\n    public update(props: P): this {\n        /*\n        // OLD\n        this.props = this.formatProps({ ...this.props, ...props });\n        this.state = {};\n\n        return this.unmount().mount(this._node); // for new mount fny\n        */\n\n        // /*\n        this.props = this.formatProps({ ...this.props, ...props });\n        this._component = this.render();\n\n        if (this._node) render(this._component, this._node);\n        return this;\n\n        // return this.remount(this._component);\n        // */\n    }\n\n    /**\n     * Unmounts an element and mounts it again on the same node i.e. allows mount w/o having to pass a node.\n     * Should be \"private\" & undocumented (although being a public function is useful for testing).\n     * Left in for legacy reasons\n     */\n    public remount(component: BaseElement<any>): this {\n        if (!this._node) throw new Error('Component is not mounted.');\n\n        const newComponent = component || this.render();\n        render(newComponent, this._node);\n        return this;\n    }\n\n    /**\n     * Unmounts an element from the DOM\n     */\n    public unmount(): this {\n        if (this._node) render(null, this._node);\n        return this;\n    }\n\n    /**\n     * Unmounts an element and removes it from the parent instance\n     * For \"destroy\" type cleanup - when you don't intend to use the component again\n     */\n    public remove() {\n        this.unmount();\n        this.props.core.remove(this);\n    }\n}\n\nexport default BaseElement;\n","import { AuthProvider } from '../../../core/Auth';\nimport CoreProvider from '../../../core/Context/CoreProvider';\nimport { JSXInternal } from 'preact/src/jsx';\nimport BaseElement from '../BaseElement';\nimport { BaseElementProps, ExternalComponentType, IUIElement, UIElementProps, UIElementStatus } from '../../types';\nimport './UIElement.scss';\nimport cx from 'classnames';\n\nexport class UIElement<P> extends BaseElement<P & UIElementProps> implements IUIElement {\n    protected componentRef: UIElement<P> | null = null;\n\n    public componentToRender: (() => JSXInternal.Element) | null = null;\n    public elementRef: UIElement<P> | null;\n    public onContactSupport?: () => void;\n    public customClassNames: string | undefined;\n\n    constructor(props: P & UIElementProps & BaseElementProps) {\n        super(props);\n        this.setState = this.setState.bind(this);\n        this.onContactSupport = props.onContactSupport;\n        this.elementRef = this;\n    }\n\n    get isValid() {\n        return !!this.state.isValid;\n    }\n\n    /**\n     * Get the element's displayable name\n     */\n    get displayName(): ExternalComponentType {\n        return this.type;\n    }\n\n    /**\n     * Get the element accessible name, used in the aria-label of the button that controls selected component\n     */\n    get accessibleName(): string {\n        return this.displayName;\n    }\n\n    /**\n     * Return the type of an element\n     */\n    get type(): ExternalComponentType {\n        return (this.constructor as typeof UIElement)?.type;\n    }\n\n    formatProps(props: P) {\n        return props;\n    }\n\n    /**\n     * Formats the component data output\n     */\n    formatData() {\n        return {\n            ...this.state,\n        };\n    }\n\n    public setState(newState: Record<any, any>): void {\n        this.state = { ...this.state, ...newState };\n    }\n\n    private setUIElementStatus: ((status: string) => void) | undefined;\n\n    public setStatus(status: UIElementStatus, props: P & UIElementProps): this {\n        if (this.componentRef?.setStatus) {\n            this.componentRef.setStatus(status, props);\n        } else {\n            this.setUIElementStatus?.(status);\n        }\n        return this;\n    }\n\n    render() {\n        const core = this.props.core;\n        const updateCore = core.update.bind(core);\n\n        const externalErrorHandler = this.props.onError || core.onError || null;\n\n        core.session.errorHandler = externalErrorHandler;\n\n        return (\n            <AuthProvider type={this.type} session={core.session} key={performance.now()}>\n                <CoreProvider\n                    i18n={core.localization.i18n}\n                    loadingContext={core.loadingContext}\n                    updateCore={updateCore}\n                    externalErrorHandler={externalErrorHandler}\n                >\n                    {this.componentToRender && <div className={cx('adyen-pe-component', this.customClassNames)}>{this.componentToRender()}</div>}\n                </CoreProvider>\n            </AuthProvider>\n        );\n    }\n}\n\nexport default UIElement;\n","import { useCallback, useEffect, useReducer, useRef } from 'preact/hooks';\nimport { ErrorLevel } from '../core/Http/types';\nimport { boolOrTrue } from '../utils';\n\nexport interface State<T> {\n    data?: T;\n    error?: Error;\n    isFetching: boolean;\n}\n\n// type Cache<T> = Map<string, T>;\n\ntype Action<T> = { type: 'loading' } | { type: 'fetched'; payload: T } | { type: 'error'; payload: Error };\n\ntype FetchOptions<ReturnType> = {\n    enabled: boolean;\n    errorLevel: ErrorLevel;\n    keepPrevData: boolean;\n    onSuccess?: (data: ReturnType) => void;\n};\n\ntype UseFetchConfig<QueryFn extends (...args: any) => Promise<any>> = {\n    loadingContext?: string;\n    params?: Record<string, string | number | Date>;\n    requestOptions?: RequestInit;\n    fetchOptions?: Partial<FetchOptions<Awaited<ReturnType<QueryFn>>>>;\n    queryFn: QueryFn;\n};\nexport function useFetch<QueryFn extends (...args: any) => Promise<any>, T extends Awaited<ReturnType<QueryFn>>>({\n    fetchOptions: { keepPrevData, onSuccess, enabled } = { keepPrevData: true },\n    queryFn,\n}: // params,\nUseFetchConfig<QueryFn>): State<T> {\n    // TODO cache endpoint calls\n    //const cache = useRef<Cache<T>>(new Map());\n    // Used to prevent state update if the component is unmounted\n    const cancelRequest = useRef<boolean>(false);\n    const initialState: State<T> = {\n        error: undefined,\n        data: undefined,\n        isFetching: boolOrTrue(enabled),\n    };\n    const fetchReducer = (state: State<T>, action: Action<T>): State<T> => {\n        switch (action.type) {\n            case 'loading':\n                return { ...initialState, isFetching: true, data: keepPrevData ? state.data : undefined };\n            case 'fetched':\n                return { ...initialState, data: action.payload, isFetching: false };\n            case 'error':\n                return { ...initialState, error: action.payload, isFetching: false };\n            default:\n                return state;\n        }\n    };\n\n    const [state, dispatch] = useReducer(fetchReducer, initialState);\n\n    const fetchData = useCallback(async () => {\n        // If a cache exists for this url, return it\n        /* if (cache.current.get(url.href)) {\n            dispatch({ type: 'fetched', payload: cache.current.get(url.href)! });\n            return;\n        } */\n        dispatch({ type: 'loading' });\n\n        try {\n            if (cancelRequest.current) return;\n            const data = await queryFn();\n            // cache.current.set(url.href, data);\n            onSuccess?.(data);\n            dispatch({ type: 'fetched', payload: data });\n        } catch (error) {\n            if (cancelRequest.current) return;\n            dispatch({ type: 'error', payload: error as Error });\n        }\n    }, [dispatch, queryFn, onSuccess]);\n\n    useEffect(() => {\n        cancelRequest.current = false;\n\n        if (boolOrTrue(enabled)) void fetchData();\n\n        // Avoid a possible state update after the component was unmounted\n        return () => {\n            cancelRequest.current = true;\n        };\n    }, [enabled, fetchData]);\n\n    return state;\n}\n","import { Ref } from 'preact';\nimport { SVGProps } from 'preact/compat';\nimport { fixedForwardRef } from '../../../utils/preact';\n\n/**\n * @deprecated This component is deprecated. Use <Icon name=\"chevron-down\"/> instead.\n */\nconst ChevronDown = fixedForwardRef(({ title, ...props }: Omit<SVGProps<SVGElement>, 'ref'>, ref: Ref<SVGSVGElement>) => (\n    <svg ref={ref} xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" {...props}>\n        {title && <title>{title}</title>}\n        <path\n            fill=\"currentColor\"\n            fillRule=\"evenodd\"\n            d=\"M2.47 4.97c.3-.3.77-.3 1.06 0L8 9.44l4.47-4.47a.75.75 0 1 1 1.06 1.06l-5 5c-.3.3-.77.3-1.06 0l-5-5a.75.75 0 0 1 0-1.06Z\"\n            clipRule=\"evenodd\"\n        />\n    </svg>\n));\n\nexport default ChevronDown;\n","import { Ref } from 'preact';\nimport { SVGProps } from 'preact/compat';\nimport { fixedForwardRef } from '../../../utils/preact';\n\n/**\n * @deprecated This component is deprecated. Use <Icon name=\"chevron-up\"/> instead.\n */\nconst ChevronUp = fixedForwardRef(({ title, ...props }: Omit<SVGProps<SVGElement>, 'ref'>, ref: Ref<SVGSVGElement>) => (\n    <svg ref={ref} xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" {...props}>\n        {title && <title>{title}</title>}\n        <path\n            fill=\"currentColor\"\n            fillRule=\"evenodd\"\n            d=\"M13.53 11.03c-.3.3-.77.3-1.06 0L8 6.56l-4.47 4.47a.75.75 0 1 1-1.06-1.06l5-5c.3-.3.77-.3 1.06 0l5 5c.3.3.3.77 0 1.06Z\"\n            clipRule=\"evenodd\"\n        />\n    </svg>\n));\n\nexport default ChevronUp;\n","export const ACCORDION_BASE_CLASS = 'adyen-pe-accordion';\nexport const ACCORDION_HEADER_CLASS = ACCORDION_BASE_CLASS + '__header';\nexport const ACCORDION_HEADER_CONTAINER_CLASS = ACCORDION_HEADER_CLASS + '-container';\nexport const ACCORDION_HEADER_CONTROLLER_CLASS = ACCORDION_HEADER_CLASS + '-controller';\nexport const ACCORDION_CONTENT_CLASS = ACCORDION_BASE_CLASS + '__content';\n","import cx from 'classnames';\nimport classnames from 'classnames';\nimport { PropsWithChildren } from 'preact/compat';\nimport { useCallback, useRef, useState } from 'preact/hooks';\nimport ChevronDown from '../SVGIcons/ChevronDown';\nimport ChevronUp from '../SVGIcons/ChevronUp';\nimport {\n    ACCORDION_BASE_CLASS,\n    ACCORDION_CONTENT_CLASS,\n    ACCORDION_HEADER_CLASS,\n    ACCORDION_HEADER_CONTAINER_CLASS,\n    ACCORDION_HEADER_CONTROLLER_CLASS,\n} from './constants';\nimport { AccordionProps } from './types';\nimport './Accordion.scss';\n\nfunction Accordion({ children, classNames, header, headerInformation }: PropsWithChildren<AccordionProps>) {\n    const [isExpanded, setIsExpanded] = useState(false);\n    const accordionContentRef = useRef<HTMLDivElement>(null);\n\n    const toggle = useCallback(() => {\n        setIsExpanded(!isExpanded);\n    }, [isExpanded]);\n\n    return (\n        <div className={classnames(ACCORDION_BASE_CLASS, classNames)}>\n            <h3 className={ACCORDION_HEADER_CLASS}>\n                <button\n                    id={'accordion-controller'}\n                    aria-controls=\"accordion-content\"\n                    className={ACCORDION_HEADER_CONTAINER_CLASS}\n                    onClick={toggle}\n                    aria-expanded={isExpanded}\n                >\n                    <div className={ACCORDION_HEADER_CONTROLLER_CLASS}>\n                        {header}\n                        {isExpanded ? <ChevronUp height={8} width={15} /> : <ChevronDown height={8} width={15} />}\n                    </div>\n                </button>\n                {headerInformation && <div>{headerInformation}</div>}\n            </h3>\n            {\n                <div\n                    role=\"region\"\n                    id={'accordion-content'}\n                    aria-labelledby=\"accordion-controller\"\n                    style={{ maxHeight: isExpanded ? accordionContentRef?.current?.offsetHeight : 0 }}\n                    className={ACCORDION_CONTENT_CLASS}\n                >\n                    <div ref={accordionContentRef}>{children}</div>\n                </div>\n            }\n        </div>\n    );\n}\n\nexport default Accordion;\n","export const CARD_BASE_CLASS = 'adyen-pe-card';\nexport const CARD_BODY = `${CARD_BASE_CLASS}__body`;\nexport const CARD_HEADER = `${CARD_BASE_CLASS}__header`;\nexport const CARD_TITLE = `${CARD_BASE_CLASS}__title`;\nexport const CARD_SUBTITLE = `${CARD_BASE_CLASS}__subtitle`;\nexport const CARD_HEADER_CONTENT = `${CARD_HEADER}-content`;\nexport const CARD_BODY_WITH_TITLE = `${CARD_BODY}--with-title`;\nexport const CARD_NO_OUTLINE = `${CARD_BASE_CLASS}--no-outline`;\nexport const CARD_NO_PADDING = `${CARD_BASE_CLASS}--no-padding`;\nexport const CARD_FILLED = `${CARD_BASE_CLASS}--filled`;\nexport const CARD_FOOTER = `${CARD_BASE_CLASS}__footer`;\n","import {\n    CARD_BASE_CLASS,\n    CARD_BODY,\n    CARD_BODY_WITH_TITLE,\n    CARD_FILLED,\n    CARD_FOOTER,\n    CARD_HEADER,\n    CARD_HEADER_CONTENT,\n    CARD_NO_OUTLINE,\n    CARD_NO_PADDING,\n    CARD_SUBTITLE,\n    CARD_TITLE,\n} from './constants';\nimport { CardProps } from './types';\nimport { PropsWithChildren } from 'preact/compat';\nimport classNames from 'classnames';\nimport './Card.scss';\n\nconst Card = ({\n    title,\n    subTitle,\n    children,\n    footer,\n    el,\n    renderHeader,\n    renderFooter,\n    filled,\n    noOutline,\n    noPadding,\n    classNameModifiers,\n    testId,\n}: PropsWithChildren<CardProps>) => {\n    const Tag = el || 'header';\n    return (\n        <section\n            className={classNames(\n                CARD_BASE_CLASS,\n                { [CARD_FILLED]: filled, [CARD_NO_OUTLINE]: noOutline, [CARD_NO_PADDING]: noPadding },\n                classNameModifiers\n            )}\n            data-testid={testId}\n        >\n            {(title || renderHeader) && (\n                <Tag className={CARD_HEADER}>\n                    {(title || renderHeader) && (\n                        <div className={CARD_HEADER_CONTENT}>\n                            {renderHeader ? renderHeader : <span className={CARD_TITLE}>{title}</span>}\n                            {subTitle && <div className={CARD_SUBTITLE}>{subTitle}</div>}\n                        </div>\n                    )}\n                </Tag>\n            )}\n            <div\n                className={classNames(CARD_BODY, {\n                    [CARD_BODY_WITH_TITLE]: title || renderHeader,\n                })}\n            >\n                {children}\n            </div>\n            {(footer || renderFooter) && <footer className={CARD_FOOTER}>{renderFooter ? renderFooter : footer}</footer>}\n        </section>\n    );\n};\n\nexport default Card;\n","const DIGITS_2 = '2-digit';\nconst LONG = 'long';\nconst NUMERIC = 'numeric';\nconst SHORT = 'short';\nconst SHORT_OFFSET = 'shortOffset';\n\nconst BASE_DATE_FORMAT: Intl.DateTimeFormatOptions = {\n    month: LONG,\n    day: NUMERIC,\n    year: NUMERIC,\n};\n\nconst BASE_TIME_FORMAT: Intl.DateTimeFormatOptions = {\n    hour: DIGITS_2,\n    minute: DIGITS_2,\n};\n\nconst BASE_DATE_TIME_FORMAT: Intl.DateTimeFormatOptions = {\n    ...BASE_DATE_FORMAT,\n    ...BASE_TIME_FORMAT,\n    month: SHORT,\n    hour12: false,\n};\n\nconst BASE_DATE_TIME_MOBILE_FORMAT: Intl.DateTimeFormatOptions = { ...BASE_DATE_TIME_FORMAT, year: undefined };\n\nexport const DATE_FORMAT_CAPITAL_OVERVIEW: Intl.DateTimeFormatOptions = { ...BASE_DATE_FORMAT, month: 'short' };\n\nexport const DATE_FORMAT_PAYOUTS: Intl.DateTimeFormatOptions = BASE_DATE_FORMAT;\nexport const DATE_FORMAT_PAYOUTS_MOBILE: Intl.DateTimeFormatOptions = BASE_DATE_TIME_MOBILE_FORMAT;\nexport const DATE_FORMAT_PAYOUT_DETAILS: Intl.DateTimeFormatOptions = { ...BASE_DATE_FORMAT, weekday: LONG };\n\nexport const DATE_FORMAT_REPORTS: Intl.DateTimeFormatOptions = { ...BASE_DATE_FORMAT, month: SHORT };\n\nexport const DATE_FORMAT_TRANSACTIONS: Intl.DateTimeFormatOptions = BASE_DATE_TIME_FORMAT;\nexport const DATE_FORMAT_TRANSACTIONS_MOBILE: Intl.DateTimeFormatOptions = BASE_DATE_TIME_MOBILE_FORMAT;\n\nexport const DATE_FORMAT_TRANSACTION_DETAILS: Intl.DateTimeFormatOptions = {\n    ...BASE_DATE_FORMAT,\n    ...BASE_TIME_FORMAT,\n    weekday: LONG,\n    timeZoneName: SHORT_OFFSET,\n};\n","export * from './dateFormats';\n\nexport const BREAKPOINTS = {\n    sm: 480,\n    md: 768,\n    lg: 1024,\n} as const;\n","export const SL_BASE_CLASS = 'adyen-pe-structured-list';\nexport const SL_ITEM_CLASS = `${SL_BASE_CLASS}__item`;\nexport const SL_GRID_CLASS = `${SL_BASE_CLASS}__grid`;\nexport const SL_CONTENT_CLASS = `${SL_BASE_CLASS}__content`;\nexport const SL_LABEL_CLASS = `${SL_BASE_CLASS}__label`;\nexport const SL_ITEM_WITH_HIGHLIGHT_CLASS = `${SL_ITEM_CLASS}--has-highlight`;\n","import { useMemo } from 'preact/hooks';\nimport useCoreContext from '../../../core/Context/useCoreContext';\nimport { TranslationKey } from '../../../translations';\nimport { uuid } from '../../../utils';\nimport { ListValue, StructuredListItem } from './types';\n\nexport const useStructuredListItems = (items: StructuredListItem[]) => {\n    const { i18n } = useCoreContext();\n    return useMemo(() => {\n        return items.map(item => {\n            return {\n                key: item.key,\n                value: item.value,\n                id: uuid(),\n                label: i18n.get(item.key),\n            };\n        });\n    }, [i18n, items]);\n};\n","import cx from 'classnames';\nimport { useMemo } from 'preact/hooks';\nimport useCoreContext from '../../../core/Context/useCoreContext';\nimport { TranslationKey } from '../../../translations';\nimport { TypographyVariant } from '../Typography/types';\nimport Typography from '../Typography/Typography';\nimport { SL_BASE_CLASS, SL_CONTENT_CLASS, SL_GRID_CLASS, SL_ITEM_CLASS, SL_ITEM_WITH_HIGHLIGHT_CLASS, SL_LABEL_CLASS } from './constants';\nimport { StructuredListProps } from './types';\nimport './StructuredList.scss';\nimport { useStructuredListItems } from './useStructuredListItem';\n\nexport const StructuredListLayouts = ['3-9', '4-8', '5-7', '6-6', '7-5', '8-4'] as const satisfies ReadonlyArray<`${number}-${number}`>;\n\nconst DEFAULT_LAYOUT = '6-6';\nexport default function StructuredList({\n    items,\n    highlightable,\n    renderValue,\n    renderLabel,\n    layout = DEFAULT_LAYOUT,\n    grid = true,\n    classNames,\n}: StructuredListProps) {\n    const [LABEL_COL_CLASS, VALUE_COL_CLASS] = useMemo(() => {\n        return layout.split('-').map(w => `${SL_GRID_CLASS}--width-${w}-of-12`);\n    }, [layout]);\n    const formattedItems = useStructuredListItems(items);\n    const { i18n } = useCoreContext();\n\n    return (\n        <div aria-label={i18n.get('structuredList')} className={cx(SL_BASE_CLASS, classNames)}>\n            {formattedItems.map((item, index) => (\n                <dl\n                    key={`${index}_${item.id || '0'}`}\n                    className={cx(SL_ITEM_CLASS, {\n                        [SL_ITEM_WITH_HIGHLIGHT_CLASS]: highlightable,\n                        [SL_GRID_CLASS]: grid,\n                    })}\n                >\n                    <dt className={cx(SL_LABEL_CLASS, LABEL_COL_CLASS)}>\n                        {renderLabel ? (\n                            renderLabel(item.label, items[index]!.key)\n                        ) : (\n                            <Typography variant={TypographyVariant.BODY}>{item.label}</Typography>\n                        )}\n                    </dt>\n                    <dd aria-label={`${i18n.get(item.key as TranslationKey)} ${i18n.get('value')}`} className={cx(SL_CONTENT_CLASS, VALUE_COL_CLASS)}>\n                        {renderValue ? renderValue(item.value, item.key) : <Typography variant={TypographyVariant.BODY}>{item.value}</Typography>}\n                    </dd>\n                </dl>\n            ))}\n        </div>\n    );\n}\n","export const BASE_CLASS = 'adyen-pe-overview-details';\nexport const SKELETON_CLASS = `${BASE_CLASS}__skeleton`;\nexport const SKELETON_CONTAINER = `${SKELETON_CLASS}-container`;\nexport const SKELETON_LOADING = `${SKELETON_CLASS}--loading-content`;\nexport const STATUS_SKELETON = `${BASE_CLASS}__status-skeleton`;\n","import cx from 'classnames';\nimport { memo } from 'preact/compat';\nimport { SKELETON_CLASS, SKELETON_CONTAINER, SKELETON_LOADING, STATUS_SKELETON } from './constants';\n\nconst DataOverviewDetailsSkeleton = ({ skeletonRowNumber = 0 }: { skeletonRowNumber?: number }) => {\n    const className = cx(SKELETON_CLASS, SKELETON_LOADING);\n    const skeletonRows = Array.from({ length: skeletonRowNumber });\n    const statusSkeletonRows = Array.from({ length: 2 });\n\n    return (\n        <div className={SKELETON_CONTAINER}>\n            <div className={STATUS_SKELETON}>\n                {statusSkeletonRows.map((_, index) => (\n                    <span className={className} key={`status-skeleton-${index}`} />\n                ))}\n            </div>\n            {skeletonRows.map((_, index) => (\n                <span className={className} key={`skeleton-${index}`} />\n            ))}\n        </div>\n    );\n};\n\nexport default memo(DataOverviewDetailsSkeleton);\n","import { useCallback, useMemo } from 'preact/hooks';\nimport useCoreContext from '../core/Context/useCoreContext';\n\nconst _useAtomicTimezoneOperation = <Args extends any[], ReturnValue>(operation: (...args: Args) => ReturnValue) => {\n    const { i18n } = useCoreContext();\n\n    return useCallback(\n        (...args: Args) => {\n            // capture timezone to restore\n            const timezoneToRestore = i18n.timezone;\n            try {\n                // perform timezone operation\n                return operation(...args);\n            } finally {\n                // restore timezone\n                i18n.timezone = timezoneToRestore;\n            }\n        },\n        [i18n, operation]\n    );\n};\n\nconst _useActiveTimezone = (timezone?: string) => {\n    const { i18n } = useCoreContext();\n\n    const getActiveTimezone = _useAtomicTimezoneOperation(\n        useCallback(() => {\n            // first reset to system timezone,\n            // then attempt to set the specified timezone,\n            // will fail silently if specified timezone is invalid\n            i18n.timezone = undefined;\n            i18n.timezone = timezone;\n            return i18n.timezone!;\n        }, [i18n, timezone])\n    );\n\n    return useMemo(getActiveTimezone, [getActiveTimezone]);\n};\n\nconst useTimezoneAwareDateFormatting = (timezone?: string) => {\n    const { i18n } = useCoreContext();\n    const activeTimezone = _useActiveTimezone(timezone);\n\n    const dateFormat = _useAtomicTimezoneOperation(\n        useCallback<(typeof i18n)['date']>(\n            (...args) => {\n                i18n.timezone = activeTimezone;\n                return i18n.date(...args);\n            },\n            [i18n, activeTimezone]\n        )\n    );\n\n    const fullDateFormat = _useAtomicTimezoneOperation(\n        useCallback<(typeof i18n)['fullDate']>(\n            (...args) => {\n                i18n.timezone = activeTimezone;\n                return i18n.fullDate(...args);\n            },\n            [i18n, activeTimezone]\n        )\n    );\n\n    return { dateFormat, fullDateFormat } as const;\n};\n\nexport default useTimezoneAwareDateFormatting;\n","export const PD_BASE_CLASS = 'adyen-pe-payout-data';\nexport const PD_TITLE_CLASS = `${PD_BASE_CLASS}__title`;\nexport const PD_TITLE_BA_CLASS = `${PD_BASE_CLASS}__title--ba-id`;\nexport const PD_CONTENT_CLASS = `${PD_BASE_CLASS}__content`;\nexport const PD_SECTION_CLASS = `${PD_CONTENT_CLASS}--section`;\nexport const PD_CARD_CLASS = `${PD_CONTENT_CLASS}--card`;\nexport const PD_CARD_TITLE_CLASS = `${PD_CARD_CLASS}-title`;\nexport const PD_SECTION_AMOUNT_CLASS = `${PD_SECTION_CLASS}-amount`;\nexport const PD_SECTION_GROSS_AMOUNT_CLASS = `${PD_SECTION_AMOUNT_CLASS}-gross`;\nexport const PD_SECTION_NET_AMOUNT_CLASS = `${PD_SECTION_AMOUNT_CLASS}-net`;\nexport const PD_UNPAID_AMOUNT = `${PD_BASE_CLASS}--unpaid-amount`;\n","import classnames from 'classnames';\nimport { useMemo } from 'preact/hooks';\nimport useCoreContext from '../../../../core/Context/useCoreContext';\nimport { TranslationKey } from '../../../../translations';\nimport { IPayoutDetails } from '../../../../types';\nimport { components } from '../../../../types/api/resources/PayoutsResource';\nimport { EMPTY_OBJECT } from '../../../../utils';\nimport Accordion from '../../../internal/Accordion/Accordion';\nimport Card from '../../../internal/Card/Card';\nimport { DATE_FORMAT_PAYOUT_DETAILS } from '../../../../constants';\nimport StructuredList from '../../../internal/StructuredList';\nimport { ListValue } from '../../../internal/StructuredList/types';\nimport { TypographyVariant } from '../../../internal/Typography/types';\nimport Typography from '../../../internal/Typography/Typography';\nimport DataOverviewDetailsSkeleton from '../../../internal/DataOverviewDetails/DataOverviewDetailsSkeleton';\nimport useTimezoneAwareDateFormatting from '../../../../hooks/useTimezoneAwareDateFormatting';\nimport './PayoutData.scss';\nimport {\n    PD_BASE_CLASS,\n    PD_CARD_CLASS,\n    PD_CARD_TITLE_CLASS,\n    PD_CONTENT_CLASS,\n    PD_SECTION_AMOUNT_CLASS,\n    PD_SECTION_CLASS,\n    PD_SECTION_GROSS_AMOUNT_CLASS,\n    PD_SECTION_NET_AMOUNT_CLASS,\n    PD_TITLE_BA_CLASS,\n    PD_TITLE_CLASS,\n    PD_UNPAID_AMOUNT,\n} from './constants';\n\ntype Payout = components['schemas']['PayoutDTO'];\n\nexport const PayoutData = ({\n    balanceAccountId,\n    balanceAccountDescription,\n    payout: payoutData,\n    isFetching,\n}: {\n    payout?: IPayoutDetails;\n    isFetching?: boolean;\n    balanceAccountId: string;\n    balanceAccountDescription?: string;\n}) => {\n    const { payout } = payoutData ?? (EMPTY_OBJECT as NonNullable<typeof payoutData>);\n    const { dateFormat } = useTimezoneAwareDateFormatting('UTC');\n    const { i18n } = useCoreContext();\n\n    const adjustments = useMemo(() => {\n        const data = payoutData?.amountBreakdowns?.adjustmentBreakdown?.reduce(\n            (accumulator, currentValue) => {\n                const payoutValue =\n                    currentValue?.amount?.value && currentValue?.amount?.currency\n                        ? i18n.amount(currentValue?.amount?.value, currentValue?.amount?.currency, { hideCurrency: true })\n                        : (currentValue?.amount?.value ?? '').toString();\n                const translationKey = `${currentValue?.category}` as TranslationKey;\n                const categoryTranslation = i18n.get(translationKey);\n                const categoryLabel = currentValue?.category && categoryTranslation !== translationKey ? categoryTranslation : currentValue?.category;\n\n                if (currentValue?.category && payoutValue && categoryLabel) {\n                    const targetObj = accumulator[currentValue?.amount?.value && currentValue?.amount?.value < 0 ? 'subtractions' : 'additions'];\n                    targetObj.push({ key: categoryLabel as TranslationKey, value: payoutValue });\n                }\n                return accumulator;\n            },\n            { subtractions: [] as { key: TranslationKey; value: ListValue }[], additions: [] as { key: TranslationKey; value: ListValue }[] }\n        );\n        data?.subtractions.sort((a, b) => a.key.localeCompare(b.key));\n        data?.additions.sort((a, b) => a.key.localeCompare(b.key));\n        return data;\n    }, [i18n, payoutData]);\n\n    const fundsCaptured = useMemo(() => {\n        const data = payoutData?.amountBreakdowns?.fundsCapturedBreakdown?.reduce((items, breakdown) => {\n            if (breakdown?.amount?.value === 0) return items;\n            if (breakdown?.amount?.value && breakdown.category) {\n                items.push({\n                    key: breakdown.category as TranslationKey,\n                    value: i18n.amount(breakdown?.amount?.value, breakdown?.amount?.currency, { hideCurrency: true }),\n                });\n            }\n            return items;\n        }, [] as { key: TranslationKey; value: ListValue }[]);\n        data?.sort((a, b) => {\n            if (a.key === 'capture') return -1;\n            if (b.key === 'capture') return 1;\n            return a.key.localeCompare(b.key);\n        });\n        return data;\n    }, [payoutData, i18n]);\n\n    const creationDate = useMemo(\n        () => (payout?.createdAt ? dateFormat(new Date(payout?.createdAt), DATE_FORMAT_PAYOUT_DETAILS) : ''),\n        [payout, dateFormat]\n    );\n\n    return (\n        <>\n            {!payout ? (\n                <DataOverviewDetailsSkeleton skeletonRowNumber={6} />\n            ) : (\n                <div className={PD_BASE_CLASS}>\n                    <div className={PD_TITLE_CLASS}>\n                        <Typography variant={TypographyVariant.SUBTITLE} stronger>\n                            {i18n.get('netPayout')}\n                        </Typography>\n                        <Typography variant={TypographyVariant.TITLE} large>\n                            {`${i18n.amount(payout.payoutAmount.value, payout.payoutAmount.currency, {\n                                hideCurrency: true,\n                            })} ${payout.payoutAmount.currency}`}\n                        </Typography>\n                        <Typography variant={TypographyVariant.BODY}>{creationDate}</Typography>\n                        <div className={PD_SECTION_CLASS}>\n                            {balanceAccountDescription && (\n                                <Typography variant={TypographyVariant.CAPTION} stronger wide>\n                                    {`${balanceAccountDescription}`}\n                                </Typography>\n                            )}\n                            <Typography variant={TypographyVariant.CAPTION} className={PD_TITLE_BA_CLASS}>{`${balanceAccountId}`}</Typography>\n                        </div>\n                    </div>\n                    <div className={PD_CONTENT_CLASS}>\n                        <div className={PD_SECTION_CLASS}>\n                            {payout?.fundsCapturedAmount &&\n                                (fundsCaptured && Object.keys(fundsCaptured).length > 0 ? (\n                                    <Accordion\n                                        header={<Typography variant={TypographyVariant.BODY}>{i18n.get('fundsCaptured')}</Typography>}\n                                        headerInformation={\n                                            <Typography variant={TypographyVariant.BODY}>\n                                                {i18n.amount(payout.fundsCapturedAmount.value, payout.fundsCapturedAmount.currency)}\n                                            </Typography>\n                                        }\n                                    >\n                                        <div className={PD_SECTION_CLASS}>\n                                            {\n                                                <div className={PD_CARD_CLASS}>\n                                                    <Card noPadding>\n                                                        <StructuredList items={fundsCaptured} />\n                                                    </Card>\n                                                </div>\n                                            }\n                                        </div>\n                                    </Accordion>\n                                ) : (\n                                    <div className={classnames(PD_SECTION_AMOUNT_CLASS, PD_SECTION_GROSS_AMOUNT_CLASS)}>\n                                        <Typography variant={TypographyVariant.BODY}>{i18n.get('fundsCaptured')}</Typography>\n                                        <Typography variant={TypographyVariant.BODY}>\n                                            {i18n.amount(payout.fundsCapturedAmount.value, payout.fundsCapturedAmount.currency)}\n                                        </Typography>\n                                    </div>\n                                ))}\n                        </div>\n                        <div className={PD_SECTION_CLASS}>\n                            {(adjustments?.subtractions && Object.keys(adjustments?.subtractions).length > 0) ||\n                            (adjustments?.additions && Object.keys(adjustments?.additions).length > 0) ? (\n                                <Accordion\n                                    header={<Typography variant={TypographyVariant.BODY}>{i18n.get('adjustments')}</Typography>}\n                                    headerInformation={\n                                        <Typography variant={TypographyVariant.BODY}>\n                                            {i18n.amount(payout.adjustmentAmount.value, payout.adjustmentAmount.currency)}\n                                        </Typography>\n                                    }\n                                >\n                                    {adjustments?.additions && Object.keys(adjustments?.additions).length > 0 && (\n                                        <div className={PD_CARD_CLASS}>\n                                            <Card\n                                                noPadding\n                                                renderHeader={\n                                                    <Typography className={PD_CARD_TITLE_CLASS} variant={TypographyVariant.CAPTION} stronger>\n                                                        {i18n.get('additions')}\n                                                    </Typography>\n                                                }\n                                            >\n                                                <StructuredList items={adjustments?.additions} />\n                                            </Card>\n                                        </div>\n                                    )}\n                                    {adjustments?.subtractions && Object.keys(adjustments?.subtractions).length > 0 && (\n                                        <div className={PD_CARD_CLASS}>\n                                            <Card\n                                                noPadding\n                                                renderHeader={\n                                                    <Typography className={PD_CARD_TITLE_CLASS} variant={TypographyVariant.CAPTION} stronger>\n                                                        {i18n.get('subtractions')}\n                                                    </Typography>\n                                                }\n                                            >\n                                                <StructuredList items={adjustments?.subtractions} />\n                                            </Card>\n                                        </div>\n                                    )}\n                                </Accordion>\n                            ) : (\n                                <div className={classnames(PD_SECTION_AMOUNT_CLASS, PD_SECTION_GROSS_AMOUNT_CLASS)}>\n                                    <Typography variant={TypographyVariant.BODY}>{i18n.get('adjustments')}</Typography>\n                                    <Typography variant={TypographyVariant.BODY}>\n                                        {i18n.amount(payout.adjustmentAmount.value, payout.adjustmentAmount.currency)}\n                                    </Typography>\n                                </div>\n                            )}\n                        </div>\n                        <div className={classnames(PD_SECTION_CLASS)}>\n                            <div className={classnames(PD_SECTION_AMOUNT_CLASS, PD_SECTION_NET_AMOUNT_CLASS)}>\n                                <Typography variant={TypographyVariant.BODY} stronger>\n                                    {i18n.get('netPayout')}\n                                </Typography>\n                                <Typography variant={TypographyVariant.BODY} stronger>\n                                    {i18n.amount(payout.payoutAmount.value, payout.payoutAmount.currency)}\n                                </Typography>\n                            </div>\n                        </div>\n                    </div>\n                    {payoutData?.payout?.unpaidAmount && (\n                        <div className={PD_UNPAID_AMOUNT}>\n                            <Typography variant={TypographyVariant.BODY}>{i18n.get('remainingAmount')}</Typography>\n                            <Typography variant={TypographyVariant.BODY}>\n                                {i18n.amount(payoutData.payout.unpaidAmount.value, payoutData.payout.unpaidAmount.currency)}\n                            </Typography>\n                        </div>\n                    )}\n                </div>\n            )}\n        </>\n    );\n};\n","import './Icon.scss';\nimport cx from 'classnames';\nimport { JSX } from 'preact';\nimport { useState, useEffect } from 'preact/hooks';\n\nconst icons = {\n    'angle-right': () => import('../../../images/icons/angle-right.svg?component'),\n    'checkmark-circle-fill': () => import('../../../images/icons/checkmark-circle-fill.svg?component'),\n    'checkmark-square-fill': () => import('../../../images/icons/checkmark-square-fill.svg?component'),\n    checkmark: () => import('../../../images/icons/checkmark.svg?component'),\n    'chevron-down': () => import('../../../images/icons/chevron-down.svg?component'),\n    'chevron-left': () => import('../../../images/icons/chevron-left.svg?component'),\n    'chevron-right': () => import('../../../images/icons/chevron-right.svg?component'),\n    'chevron-up': () => import('../../../images/icons/chevron-up.svg?component'),\n    copy: () => import('../../../images/icons/copy.svg?component'),\n    'cross-circle-fill': () => import('../../../images/icons/cross-circle-fill.svg?component'),\n    cross: () => import('../../../images/icons/cross.svg?component'),\n    download: () => import('../../../images/icons/download.svg?component'),\n    filter: () => import('../../../images/icons/filter.svg?component'),\n    'info-filled': () => import('../../../images/icons/info-filled.svg?component'),\n    'minus-circle-outline': () => import('../../../images/icons/minus-circle-outline.svg?component'),\n    'plus-circle-outline': () => import('../../../images/icons/plus-circle-outline.svg?component'),\n    square: () => import('../../../images/icons/square.svg?component'),\n    'warning-filled': () => import('../../../images/icons/warning-filled.svg?component'),\n    warning: () => import('../../../images/icons/warning.svg?component'),\n} as const;\n\nexport type IconName = keyof typeof icons;\n\n/**\n * Props for the Icon component.\n */\ninterface IconProps {\n    /**\n     * The name of the icon to be displayed.\n     */\n    name: IconName;\n\n    /**\n     * Optional class name(s) for styling the icon.\n     */\n    className?: string;\n\n    /**\n     * Any additional attributes or properties that can be passed to the icon element (e.g., role, aria-label, etc.).\n     */\n    [key: string]: any;\n}\n\nexport const Icon = ({ className, name, ...props }: IconProps) => {\n    const [IconComponent, setIconComponent] = useState<JSX.Element | null>(null);\n\n    useEffect(() => {\n        if (icons[name]) {\n            icons[name]().then(({ default: LoadedIcon }) => {\n                setIconComponent(<LoadedIcon />);\n            });\n        } else {\n            setIconComponent(null);\n            console.error(`Icon with name \"${name}\" does not exist.`);\n        }\n    }, [name]);\n\n    return (\n        IconComponent && (\n            <span className={cx('adyen-pe-icon', className)} role=\"img\" aria-hidden {...props}>\n                {IconComponent}\n            </span>\n        )\n    );\n};\n\nexport default Icon;\n","import { ComponentChild, VNode } from 'preact';\nimport { JSXInternal } from 'preact/src/jsx';\n\nexport interface AlertProps {\n    className?: string;\n    type: AlertTypeOption;\n    title?: VNode<Element> | string;\n    description?: VNode<Element> | string;\n    children?: ComponentChild;\n    onClose?: (event: JSXInternal.TargetedMouseEvent<HTMLButtonElement>) => void;\n    variant?: AlertVariantOption;\n}\n\nexport enum AlertTypeOption {\n    WARNING = 'warning',\n    CRITICAL = 'critical',\n    HIGHLIGHT = 'highlight',\n    SUCCESS = 'success',\n}\n\nexport enum AlertVariantOption {\n    DEFAULT = 'default',\n    TIP = 'tip',\n}\n","import Icon from '../Icon';\nimport { AlertTypeOption } from './types';\n\nexport interface AlertIconProps {\n    type: AlertTypeOption;\n    className?: string;\n}\n\nexport const AlertIcon = ({ className, type }: AlertIconProps) => {\n    switch (type) {\n        case AlertTypeOption.WARNING:\n            return <Icon name=\"warning-filled\" className={className} />;\n        case AlertTypeOption.CRITICAL:\n            return <Icon name=\"cross-circle-fill\" className={className} />;\n        case AlertTypeOption.HIGHLIGHT:\n            return <Icon name=\"info-filled\" className={className} />;\n        case AlertTypeOption.SUCCESS:\n        default:\n            return <Icon name=\"checkmark-circle-fill\" className={className} />;\n    }\n};\n","import cx from 'classnames';\nimport Button from '../Button';\nimport { ButtonVariant } from '../Button/types';\nimport Icon from '../Icon';\nimport { TypographyElement, TypographyVariant } from '../Typography/types';\nimport Typography from '../Typography/Typography';\nimport { AlertIcon } from './AlertIcon';\nimport { AlertProps, AlertVariantOption } from './types';\nimport './Alert.scss';\n\nexport const Alert = ({ className, description, title, type, children, onClose, variant = AlertVariantOption.DEFAULT }: AlertProps) => (\n    <div className={cx('adyen-pe-alert', `adyen-pe-alert--${type}`, `adyen-pe-alert--${variant}`, className)} role=\"alert\">\n        <AlertIcon type={type} className=\"adyen-pe-alert__icon\" />\n        <div className={'adyen-pe-alert__content'}>\n            {title && variant !== AlertVariantOption.TIP && (\n                <Typography className={'adyen-pe-alert__title'} el={TypographyElement.DIV} variant={TypographyVariant.BODY} wide strongest>\n                    {title}\n                </Typography>\n            )}\n            {description && (\n                <Typography\n                    className={'adyen-pe-alert__description'}\n                    el={TypographyElement.DIV}\n                    variant={variant !== AlertVariantOption.TIP ? TypographyVariant.CAPTION : TypographyVariant.BODY}\n                    wide\n                >\n                    {description}\n                </Typography>\n            )}\n            {children}\n        </div>\n        {onClose && variant !== AlertVariantOption.TIP && (\n            <div className=\"adyen-pe-alert__close-button\">\n                <Button iconButton variant={ButtonVariant.TERTIARY} onClick={onClose}>\n                    <Icon name=\"cross\" />\n                </Button>\n            </div>\n        )}\n    </div>\n);\n\nexport default Alert;\n","import { ButtonVariant } from '../types';\nimport { ComponentChild } from 'preact';\n\nexport interface ButtonActionObject {\n    title: string;\n    event: (event: Event) => void;\n    icon?: Node;\n    disabled?: boolean;\n    variant?: ButtonVariant;\n    renderTitle?: (title: string) => ComponentChild;\n    state?: 'loading' | 'default';\n}\n\nexport type ButtonActionsList = ButtonActionObject[] | readonly ButtonActionObject[];\n\nexport enum ButtonActionsLayoutBasic {\n    BUTTONS_END = 'buttons-end',\n    FILL_CONTAINER = 'fill-container',\n    SPACE_BETWEEN = 'space-between',\n    VERTICAL_STACK = 'vertical-stack',\n}\n\nexport enum ButtonActionsLayoutExtended {\n    BUTTONS_START = 'buttons-start',\n}\n\nexport const ButtonActionsLayout = { ...ButtonActionsLayoutBasic, ...ButtonActionsLayoutExtended };\nexport type ButtonActionsLayout = ButtonActionsLayoutBasic | ButtonActionsLayoutExtended;\n","import Button from '../../Button';\nimport { ButtonActionsLayout, ButtonActionsList } from './types';\nimport { BUTTON_ACTION_CLASSNAME, BUTTON_ACTION_CONTAINER_CLASSNAME } from '../constants';\nimport { ButtonVariant } from '../types';\nimport './ButtonActions.scss';\nimport { memo } from 'preact/compat';\nimport { useMemo } from 'preact/hooks';\n\ninterface ButtonActionsProps {\n    actions: ButtonActionsList;\n    layout?: ButtonActionsLayout;\n}\nfunction ButtonActions({ actions, layout = ButtonActionsLayout.BUTTONS_END }: ButtonActionsProps) {\n    const conditionalClasses = (): string => {\n        return `${BUTTON_ACTION_CLASSNAME}--${layout}`;\n    };\n\n    const generateButtonVariantByIndex = (actionIndex: number) => {\n        const lastActionIndex = actions.length - 1;\n        return actionIndex === lastActionIndex ? ButtonVariant.PRIMARY : ButtonVariant.SECONDARY;\n    };\n\n    const reversedActions = useMemo(() => [...actions].reverse(), [actions]);\n\n    return (\n        <div className={BUTTON_ACTION_CLASSNAME}>\n            <div className={`${BUTTON_ACTION_CONTAINER_CLASSNAME} ${conditionalClasses()}`} role=\"group\">\n                {reversedActions.map((button, index) => (\n                    <Button\n                        aria-label={button.title}\n                        key={`${index}_${button.title || '0'}`}\n                        disabled={button.disabled}\n                        variant={button.variant || generateButtonVariantByIndex(index)}\n                        onClick={button.event}\n                        state={button.state ?? 'default'}\n                    >\n                        {button.renderTitle ? button.renderTitle(button.title) : button.title}\n                    </Button>\n                ))}\n            </div>\n        </div>\n    );\n}\n\nexport default memo(ButtonActions);\n","import type { PropsWithChildren } from 'preact/compat';\nimport type { ButtonActionObject } from '../../../internal/Button/ButtonActions/types';\nimport { ILineItem, IRefundReason } from '../../../../types';\n\nexport const enum ActiveView {\n    DETAILS,\n    REFUND,\n    REFUND_SUCCESS,\n    REFUND_ERROR,\n}\n\nexport const enum RefundedState {\n    INDETERMINATE,\n    PARTIAL,\n    FULL,\n}\n\nexport const enum RefundMode {\n    NON_REFUNDABLE = 'non_refundable',\n    PARTIAL_AMOUNT = 'partially_refundable_any_amount',\n    PARTIAL_LINE_ITEMS = 'partially_refundable_with_line_items_required',\n    FULL_AMOUNT = 'fully_refundable_only',\n}\n\nexport const enum RefundStatus {\n    IN_PROGRESS = 'in_progress',\n    COMPLETED = 'completed',\n    FAILED = 'failed',\n}\n\nexport const enum RefundType {\n    PARTIAL = 'partial',\n    FULL = 'full',\n}\n\nexport type RefundReason = IRefundReason;\n\ntype _TransactionDataContextBase<T extends TransactionDataContextProviderProps> = Omit<T, _TransactionDataContextExcludedProps> & {\n    primaryAction: () => void;\n    secondaryAction: () => void;\n};\n\nexport type _TransactionDataContextExcludedProps =\n    | 'children'\n    | 'lineItems'\n    | 'refundAmount'\n    | 'refundAvailable'\n    | 'refundDisabled'\n    | 'setActiveView'\n    | 'setPrimaryAction'\n    | 'setSecondaryAction';\n\nexport type TransactionDataContext<T extends TransactionDataContextProviderProps> = _TransactionDataContextBase<T>;\n\nexport interface TransactionDataContextProviderProps extends PropsWithChildren {\n    lineItems: readonly ILineItem[];\n    refundAvailable: boolean;\n    refundDisabled: boolean;\n    setActiveView: (activeView: ActiveView) => void;\n    setPrimaryAction: (action: ButtonActionObject | undefined) => void;\n    setSecondaryAction: (action: ButtonActionObject | undefined) => void;\n}\n","import { memo } from 'preact/compat';\nimport { createContext } from 'preact';\nimport { useCallback, useContext, useEffect, useMemo } from 'preact/hooks';\nimport { EMPTY_ARRAY, EMPTY_OBJECT, noop } from '../../../../../utils';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport Icon from '../../../../internal/Icon';\nimport type { ButtonActionObject } from '../../../../internal/Button/ButtonActions/types';\nimport type { ITransactionDetailsContext, TransactionDetailsProviderProps } from './types';\nimport type { TranslationKey } from '../../../../../translations';\nimport { ButtonVariant } from '../../../../internal/Button/types';\nimport { ActiveView } from '../types';\n\nconst TransactionDetailsContext = createContext<ITransactionDetailsContext>({\n    availableItems: EMPTY_ARRAY,\n    primaryAction: noop,\n    secondaryAction: noop,\n    transaction: EMPTY_OBJECT as ITransactionDetailsContext['transaction'],\n    extraFields: EMPTY_OBJECT,\n});\n\nconst enum TransactionNavigationAction {\n    FORWARD = 1,\n    BACKWARD,\n}\n\nexport const TransactionDetailsProvider = memo(\n    ({\n        children,\n        lineItems,\n        refundAvailable: primaryActionAvailable,\n        refundDisabled,\n        setActiveView,\n        setPrimaryAction,\n        setSecondaryAction,\n        transaction,\n        transactionNavigator,\n        extraFields,\n    }: TransactionDetailsProviderProps) => {\n        const { i18n } = useCoreContext();\n        const { currentTransaction, canNavigateBackward, canNavigateForward, backward, forward } = transactionNavigator;\n\n        const primaryActionLabel = useMemo(() => ({ title: i18n.get('refundAction') }), [i18n]);\n        const primaryActionDisabled = useMemo(() => !primaryActionAvailable || refundDisabled, [primaryActionAvailable, refundDisabled]);\n\n        const primaryAction = useCallback(\n            () => void (!primaryActionDisabled && setActiveView(ActiveView.REFUND)),\n            [primaryActionDisabled, setActiveView]\n        );\n\n        const _secondaryAction = useMemo<TransactionNavigationAction | undefined>(() => {\n            if (currentTransaction !== transaction.id) return;\n            if (canNavigateBackward) return TransactionNavigationAction.BACKWARD;\n            if (canNavigateForward) return TransactionNavigationAction.FORWARD;\n        }, [canNavigateBackward, canNavigateForward, currentTransaction, transaction]);\n\n        const secondaryAction = useCallback(() => {\n            switch (_secondaryAction) {\n                case TransactionNavigationAction.BACKWARD:\n                    return void backward();\n                case TransactionNavigationAction.FORWARD:\n                    return void forward();\n            }\n        }, [_secondaryAction, backward, forward]);\n\n        const secondaryActionLabel = useMemo(() => {\n            switch (_secondaryAction) {\n                case TransactionNavigationAction.BACKWARD:\n                    return {\n                        title: i18n.get('refund.returnToRefund' as TranslationKey),\n                        renderTitle: (title: string) => (\n                            <>\n                                <Icon style={{ transform: 'scaleX(-1)' }} name=\"angle-right\" />\n                                <span>{title}</span>\n                            </>\n                        ),\n                    };\n                case TransactionNavigationAction.FORWARD:\n                    return {\n                        title: i18n.get('refund.goToPayment' as TranslationKey),\n                        renderTitle: (title: string) => (\n                            <>\n                                <Icon name=\"angle-right\" />\n                                <span>{title}</span>\n                            </>\n                        ),\n                    };\n            }\n        }, [_secondaryAction, i18n]);\n\n        useEffect(() => {\n            setPrimaryAction(\n                primaryActionAvailable\n                    ? Object.freeze({\n                          disabled: primaryActionDisabled,\n                          event: primaryAction,\n                          variant: ButtonVariant.PRIMARY,\n                          ...primaryActionLabel,\n                      } as ButtonActionObject)\n                    : undefined\n            );\n        }, [primaryAction, primaryActionAvailable, primaryActionDisabled, primaryActionLabel, setPrimaryAction]);\n\n        useEffect(() => {\n            setSecondaryAction(\n                _secondaryAction && secondaryActionLabel\n                    ? Object.freeze({\n                          disabled: false,\n                          event: secondaryAction,\n                          variant: ButtonVariant.SECONDARY,\n                          ...secondaryActionLabel,\n                      } as ButtonActionObject)\n                    : undefined\n            );\n        }, [_secondaryAction, secondaryAction, secondaryActionLabel, setSecondaryAction]);\n\n        return (\n            <TransactionDetailsContext.Provider value={{ availableItems: lineItems, primaryAction, secondaryAction, transaction, extraFields }}>\n                {children}\n            </TransactionDetailsContext.Provider>\n        );\n    }\n);\n\nexport const useTransactionDetailsContext = () => useContext(TransactionDetailsContext);\nexport default useTransactionDetailsContext;\n","export const REFUND_REASONS = Object.freeze(['requested_by_customer', 'issue_with_item_sold', 'fraudulent', 'duplicate', 'other'] as const);\n\nexport const REFUND_REFERENCE_CHAR_LIMIT = 80;\n","import { useCallback, useMemo } from 'preact/hooks';\nimport useCoreContext from '../../../../../../core/Context/useCoreContext';\nimport AuthSession from '../../../../../../core/Auth/session/AuthSession';\nimport Spinner from '../../../../../internal/Spinner';\nimport { ActiveView } from '../../types';\nimport type { ITransactionRefundContext, TransactionRefundProviderProps } from '../types';\nimport type { ITransaction, ITransactionRefundPayload } from '../../../../../../types';\n\ntype _BaseUseRefundActionProps = Pick<TransactionRefundProviderProps, 'refreshTransaction' | 'transactionId'> &\n    Pick<ITransactionRefundContext, 'refundReason'> & {\n        refundAmount: ITransaction['amount'];\n        refundInProgress: boolean;\n        refundTransaction: AuthSession['context']['endpoints']['initiateRefund'];\n        setActiveView: (activeView: ActiveView) => void;\n    };\n\nexport const useRefundAction = <T extends _BaseUseRefundActionProps>({\n    refundAmount: amount,\n    refundReason,\n    refundInProgress,\n    refundTransaction,\n    setActiveView,\n    transactionId,\n}: T) => {\n    const { i18n } = useCoreContext();\n\n    const refundAmountLabel = useMemo(() => {\n        const formattedAmount = i18n.amount(amount.value, amount.currency);\n        return { title: i18n.get('refundPayment', { values: { amount: formattedAmount } }) };\n    }, [amount, i18n]);\n\n    const refundPaymentLabel = useMemo(() => {\n        return { title: i18n.get('refundAction') };\n    }, [i18n]);\n    const refundingPaymentLabel = useMemo(\n        () => ({\n            title: `${i18n.get('inProgress')}..`,\n            state: 'loading',\n        }),\n        [i18n]\n    );\n\n    const refundParams = useMemo(\n        () => ({\n            path: { transactionId },\n        }),\n        [transactionId]\n    );\n\n    const refundPayload = useMemo<ITransactionRefundPayload>(\n        () => ({\n            amount,\n            refundReason,\n            // ...(refundMode === RefundMode.PARTIAL_LINE_ITEMS && { lineItems: [] }),\n        }),\n        [amount, refundReason]\n    );\n\n    const refundAction = useCallback(\n        // [TODO]: Fix broken/missing type inference for useMutation mutate()\n        () =>\n            refundTransaction?.(\n                {\n                    body: refundPayload,\n                    contentType: 'application/json',\n                },\n                refundParams\n            )\n                .then(() => {\n                    setActiveView(ActiveView.REFUND_SUCCESS);\n                })\n                .catch(() => {\n                    setActiveView(ActiveView.REFUND_ERROR);\n                }),\n        [refundTransaction, refundParams, refundPayload, setActiveView]\n    );\n\n    const refundActionLabel = useMemo(() => {\n        if (refundInProgress) return refundingPaymentLabel;\n        if (amount.value > 0) return refundAmountLabel;\n        return refundPaymentLabel;\n    }, [amount, refundInProgress, refundAmountLabel, refundPaymentLabel, refundingPaymentLabel]);\n\n    return { refundAction, refundActionLabel } as const;\n};\n","import { useRefundAction } from './useRefundAction';\nimport { useCallback, useEffect, useMemo } from 'preact/hooks';\nimport useCoreContext from '../../../../../../core/Context/useCoreContext';\nimport type { ITransactionRefundContext, TransactionRefundProviderProps } from '../types';\nimport { ButtonVariant } from '../../../../../internal/Button/types';\nimport { ActiveView } from '../../types';\n\ntype _BaseUseRefundContextActionsProps = Parameters<typeof useRefundAction>[0] &\n    Pick<TransactionRefundProviderProps, 'setActiveView' | 'setPrimaryAction' | 'setSecondaryAction'> &\n    Pick<ITransactionRefundContext, 'interactionsDisabled'>;\n\nexport const useRefundContextActions = <T extends _BaseUseRefundContextActionsProps>({\n    interactionsDisabled,\n    refundAmount,\n    setActiveView,\n    setPrimaryAction,\n    setSecondaryAction,\n    ...refundActionProps\n}: T) => {\n    const { refundAction, refundActionLabel: primaryActionLabel } = useRefundAction({ ...refundActionProps, refundAmount, setActiveView });\n    const { i18n } = useCoreContext();\n\n    const primaryActionDisabled = useMemo(() => interactionsDisabled || refundAmount.value <= 0, [refundAmount, interactionsDisabled]);\n    const primaryAction = useCallback(() => !primaryActionDisabled && refundAction(), [primaryActionDisabled, refundAction]);\n\n    const secondaryActionDisabled = interactionsDisabled;\n    const secondaryActionLabel = useMemo(() => i18n.get('back'), [i18n]);\n\n    const secondaryAction = useCallback(\n        () => void (!secondaryActionDisabled && setActiveView(ActiveView.DETAILS)),\n        [secondaryActionDisabled, setActiveView]\n    );\n\n    useEffect(() => {\n        setPrimaryAction(\n            Object.freeze({\n                disabled: primaryActionDisabled,\n                event: primaryAction,\n                variant: ButtonVariant.PRIMARY,\n                ...primaryActionLabel,\n            })\n        );\n    }, [primaryAction, primaryActionDisabled, primaryActionLabel, setPrimaryAction]);\n\n    useEffect(() => {\n        setSecondaryAction(\n            Object.freeze({\n                disabled: secondaryActionDisabled,\n                event: secondaryAction,\n                title: secondaryActionLabel,\n                variant: ButtonVariant.SECONDARY,\n            })\n        );\n    }, [secondaryAction, secondaryActionDisabled, secondaryActionLabel, setSecondaryAction]);\n\n    return { primaryAction, secondaryAction } as const;\n};\n","import { RefundMode } from '../../types';\nimport { clamp } from '../../../../../../utils';\nimport { useCallback, useEffect, useMemo, useState } from 'preact/hooks';\nimport type { ITransaction } from '../../../../../../types';\nimport type { ITransactionRefundContext } from '../types';\n\ntype _BaseUseRefundContextAmountProps = Pick<\n    ITransactionRefundContext,\n    'availableAmount' | 'currency' | 'interactionsDisabled' | 'items' | 'refundMode'\n>;\n\nexport const useRefundContextAmount = <T extends _BaseUseRefundContextAmountProps>({\n    availableAmount,\n    currency,\n    interactionsDisabled,\n    items,\n    refundMode,\n}: T) => {\n    const [refundAmount, setRefundAmount] = useState(0);\n\n    const _amount = useMemo(() => {\n        switch (refundMode) {\n            case RefundMode.NON_REFUNDABLE:\n                return 0;\n            case RefundMode.PARTIAL_LINE_ITEMS:\n            case RefundMode.PARTIAL_AMOUNT:\n                return refundAmount;\n            // case RefundMode.PARTIAL_LINE_ITEMS:\n            //     return items.reduce((total, { amount, quantity }) => total + amount * quantity, 0);\n            case RefundMode.FULL_AMOUNT:\n            default:\n                return availableAmount;\n        }\n    }, [availableAmount, items, refundMode, refundAmount]);\n\n    const amount = useMemo<Readonly<ITransaction['amount']>>(() => Object.freeze({ currency, value: _amount }), [_amount, currency]);\n    const canSetRefundAmount = useMemo(() => !interactionsDisabled && refundMode === RefundMode.PARTIAL_AMOUNT, [interactionsDisabled, refundMode]);\n\n    const setAmount = useCallback<ITransactionRefundContext['setAmount']>(\n        amount => void (canSetRefundAmount && setRefundAmount(clamp(0, amount, availableAmount))),\n        [availableAmount, canSetRefundAmount]\n    );\n\n    useEffect(() => {\n        setRefundAmount(availableAmount);\n    }, [availableAmount]);\n\n    return [amount, setAmount] as const;\n};\n","import { clamp, EMPTY_ARRAY, isUndefined } from '../../../../../utils';\nimport type { ITransactionRefundContext, TransactionRefundItem, TransactionRefundItemUpdates } from './types';\n\nconst _updateRefundItemQuantity = (\n    refundableItems: Map<string, TransactionRefundItem>,\n    nextRefundItems: ITransactionRefundContext['items'][number][],\n    refundItem: { id: string; quantity: number },\n    refundQuantity = 0\n) => {\n    const { ...refundableItem } = refundableItems.get(refundItem.id)!;\n    const quantity = clamp(0, Math.trunc(refundQuantity), (refundableItem.quantity += refundItem.quantity));\n\n    refundableItem.quantity -= quantity;\n    refundableItems.set(refundItem.id, Object.freeze(refundableItem));\n\n    if (quantity > 0) nextRefundItems.push(Object.freeze({ ...refundableItem, quantity }));\n};\n\nexport const updateRefundItems = (\n    refundableItems: Map<string, TransactionRefundItem>,\n    currentRefundItems: ITransactionRefundContext['items'],\n    refundItemUpdates = EMPTY_ARRAY as unknown as TransactionRefundItemUpdates\n): ITransactionRefundContext['items'] => {\n    const refundQuantities = new Map(refundItemUpdates?.map(({ id, quantity }) => [id, quantity]) ?? EMPTY_ARRAY);\n    const nextRefundItems = [] as (typeof currentRefundItems)[number][];\n\n    currentRefundItems.forEach(item => {\n        const refundQuantity = refundQuantities.get(item.id);\n\n        if (isUndefined(refundQuantity)) {\n            nextRefundItems.push(item);\n        } else if (refundQuantities.delete(item.id)) {\n            _updateRefundItemQuantity(refundableItems, nextRefundItems, item, refundQuantity);\n        }\n    });\n\n    refundQuantities.forEach((refundQuantity, id) => {\n        _updateRefundItemQuantity(refundableItems, nextRefundItems, { id, quantity: 0 }, refundQuantity);\n    });\n\n    return nextRefundItems.length > 0 ? Object.freeze(nextRefundItems) : EMPTY_ARRAY;\n};\n","import { EMPTY_ARRAY } from '../../../../../../utils';\nimport { updateRefundItems } from '../helpers';\nimport { useCallback, useMemo, useState } from 'preact/hooks';\nimport type { ITransactionRefundContext, TransactionRefundItem, TransactionRefundProviderProps } from '../types';\n\ntype _BaseUseRefundContextLineItemsProps = Pick<TransactionRefundProviderProps, 'currency' | 'lineItems'>;\n\nexport const useRefundContextLineItems = <T extends _BaseUseRefundContextLineItemsProps>({ currency, lineItems }: T) => {\n    const [items, setItems] = useState(EMPTY_ARRAY as ITransactionRefundContext['items']);\n\n    const refundableItems = useMemo(() => {\n        const items = lineItems\n            ?.filter(item => {\n                if (item.amountIncludingTax.currency !== currency) return;\n                const qty = item.availableQuantity;\n                return qty > 0 && Number.isFinite(qty) && Math.trunc(qty) === qty;\n            })\n            .map(\n                ({ id, ...item }) =>\n                    [\n                        id,\n                        Object.freeze({\n                            amount: item.amountIncludingTax.value,\n                            quantity: item.availableQuantity,\n                            id,\n                        }),\n                    ] as const\n            );\n\n        return new Map<string, TransactionRefundItem>(items ?? EMPTY_ARRAY);\n    }, [currency, lineItems]);\n\n    const availableItems = useMemo<ITransactionRefundContext['availableItems']>(\n        () => lineItems?.filter(({ id }) => refundableItems.has(id)) ?? EMPTY_ARRAY,\n        [items, lineItems, refundableItems]\n    );\n\n    const clearItems = useCallback<ITransactionRefundContext['clearItems']>(\n        function (ids) {\n            setItems(items => {\n                // prettier-ignore\n                const _items = arguments.length === 0\n                    ? new Map(items.map(({ id }) => [id, 0]))\n                    : new Map(ids?.map(id => [id, 0]) ?? EMPTY_ARRAY);\n\n                const itemUpdates = [..._items].map(([id, quantity]) => ({ id, quantity } as const));\n                return updateRefundItems(refundableItems, items, itemUpdates);\n            });\n        },\n        [refundableItems]\n    );\n\n    const updateItems = useCallback<ITransactionRefundContext['updateItems']>(\n        itemUpdates => setItems(items => updateRefundItems(refundableItems, items, itemUpdates)),\n        [refundableItems]\n    );\n\n    return { availableItems, clearItems, items, updateItems } as const;\n};\n","import { useCallback, useMemo, useState } from 'preact/hooks';\nimport type { ITransactionRefundContext } from '../types';\nimport { RefundMode, type RefundReason } from '../../types';\nimport { REFUND_REASONS } from '../../constants';\n\ntype _BaseUseRefundContextReasonProps = Pick<ITransactionRefundContext, 'interactionsDisabled' | 'refundMode'>;\n\nexport const useRefundContextReason = <T extends _BaseUseRefundContextReasonProps>({ interactionsDisabled, refundMode }: T) => {\n    const [refundReason, setReason] = useState<RefundReason>(REFUND_REASONS[0]);\n\n    const canSetRefundReason = useMemo(\n        // [TODO]: Remove refund mode check here and use the `refundable` field from `useTransactionRefundMetadata`\n        () => !interactionsDisabled && refundMode !== RefundMode.NON_REFUNDABLE,\n        [interactionsDisabled, refundMode]\n    );\n\n    const setRefundReason = useCallback<ITransactionRefundContext['setRefundReason']>(\n        reason => void (canSetRefundReason && setReason(reason)),\n        [canSetRefundReason]\n    );\n\n    return [refundReason, setRefundReason] as const;\n};\n","import { useState, useCallback, useRef, useMemo, useEffect } from 'preact/hooks';\nimport { ALREADY_RESOLVED_PROMISE, EMPTY_OBJECT, isFunction, isNumber, tryResolve } from '../../utils';\nimport { AdyenErrorResponse } from '../../core/Http/types';\n\ntype MutationOptions<ResponseType> = {\n    onSuccess?: (data: ResponseType) => void | Promise<void>;\n    onError?: (error: Error | AdyenErrorResponse) => void | Promise<void>;\n    onSettled?: (data: ResponseType | undefined, error: Error | AdyenErrorResponse | null) => void | Promise<void>;\n    retry?: number | boolean;\n    retryDelay?: number | ((retryAttempt: number) => number);\n    shouldRetry?: (error: AdyenErrorResponse) => boolean;\n};\ntype MutationStatus = 'idle' | 'loading' | 'success' | 'error';\n\nconst catchCallback = (reason: unknown) => {\n    setTimeout(() => {\n        throw reason;\n    }, 0);\n};\n\nfunction useMutation<queryFn extends (...args: any[]) => any, ResponseType extends Awaited<ReturnType<queryFn>>>({\n    queryFn,\n    options,\n}: {\n    queryFn: queryFn | undefined;\n    options?: MutationOptions<ResponseType>;\n}) {\n    const { retry = false, retryDelay = 1000, onSuccess, onError, onSettled, shouldRetry } = options || (EMPTY_OBJECT as NonNullable<typeof options>);\n\n    const [data, setData] = useState<ResponseType | null>(null);\n    const [error, setError] = useState<Error | AdyenErrorResponse | null>(null);\n    const [status, setStatus] = useState<MutationStatus>('idle');\n\n    // Use refs for mutable values that shouldn't trigger re-renders\n    const mountedRef = useRef(true);\n    const retryCountRef = useRef(0);\n\n    const reset = useCallback(() => {\n        setData(null);\n        setError(null);\n        setStatus('idle');\n        retryCountRef.current = 0;\n    }, []);\n\n    const resetRetries = useCallback(() => {\n        retryCountRef.current = 0;\n    }, []);\n\n    const mutate = useCallback(\n        async (...variables: Parameters<queryFn>): Promise<ResponseType> => {\n            try {\n                setStatus('loading');\n                setError(null);\n\n                const result = await queryFn?.(...variables);\n\n                // Only update state if component is still mounted\n                if (mountedRef.current) {\n                    setData(result);\n                    setStatus('success');\n                }\n\n                ALREADY_RESOLVED_PROMISE.then(() => {\n                    onSuccess && tryResolve(onSuccess, result).catch(catchCallback);\n                    onSettled && tryResolve(onSettled, result, null).catch(catchCallback);\n                    resetRetries();\n                });\n\n                return result;\n            } catch (error: any) {\n                let maxRetries = 0;\n                if (isNumber(retry) && (shouldRetry ? shouldRetry(error) : true)) {\n                    maxRetries = Math.max(0, Math.floor(retry));\n                } else {\n                    maxRetries = 0;\n                }\n\n                // Handle retries\n                if (retryCountRef.current++ < maxRetries) {\n                    const delay = isFunction(retryDelay) ? retryDelay(retryCountRef.current) : retryDelay ?? 1000;\n\n                    await new Promise(resolve => setTimeout(resolve, delay));\n\n                    return mutate(...variables);\n                }\n\n                // Only update state if component is still mounted\n                if (mountedRef.current) {\n                    setError(error);\n                    setStatus('error');\n                }\n\n                // Run error callbacks\n                ALREADY_RESOLVED_PROMISE.then(() => {\n                    onError && tryResolve(onError, error).catch(catchCallback);\n                    onSettled && tryResolve(onSettled, undefined, error).catch(catchCallback);\n                    resetRetries();\n                });\n\n                throw error;\n            }\n        },\n        [queryFn, onSuccess, onSettled, retry, shouldRetry, retryDelay, resetRetries, onError]\n    );\n\n    // Cleanup on unmount\n    useEffect(() => {\n        return () => {\n            mountedRef.current = false;\n        };\n    }, []);\n\n    return useMemo(\n        () => ({\n            data,\n            error,\n            status,\n            isIdle: status === 'idle',\n            isLoading: status === 'loading',\n            isSuccess: status === 'success',\n            isError: status === 'error',\n            mutate,\n            reset,\n        }),\n        [data, error, status, mutate, reset]\n    );\n}\n\nexport default useMutation;\n","import { memo } from 'preact/compat';\nimport { createContext } from 'preact';\nimport { useContext } from 'preact/hooks';\nimport { EMPTY_ARRAY, noop } from '../../../../../utils';\nimport { REFUND_REASONS } from '../constants';\nimport { useAuthContext } from '../../../../../core/Auth';\nimport { useRefundContextActions } from './hooks/useRefundContextActions';\nimport { useRefundContextAmount } from './hooks/useRefundContextAmount';\nimport { useRefundContextLineItems } from './hooks/useRefundContextLineItems';\nimport { useRefundContextReason } from './hooks/useRefundContextReason';\nimport useMutation from '../../../../../hooks/useMutation/useMutation';\nimport type { ITransactionRefundContext, TransactionRefundProviderProps } from './types';\nimport { RefundMode } from '../types';\n\nconst TransactionRefundContext = createContext<ITransactionRefundContext>({\n    amount: 0,\n    availableAmount: 0,\n    availableItems: EMPTY_ARRAY,\n    clearItems: noop,\n    currency: '',\n    interactionsDisabled: false,\n    items: EMPTY_ARRAY,\n    primaryAction: noop,\n    refundMode: RefundMode.FULL_AMOUNT,\n    refundReason: REFUND_REASONS[0],\n    secondaryAction: noop,\n    setAmount: noop,\n    setRefundReason: noop,\n    transactionId: '',\n    updateItems: noop,\n});\n\nexport const TransactionRefundProvider = memo(\n    ({\n        availableAmount,\n        children,\n        currency,\n        lineItems,\n        refreshTransaction,\n        refundMode,\n        setActiveView,\n        setPrimaryAction,\n        setSecondaryAction,\n        transactionId,\n    }: TransactionRefundProviderProps) => {\n        const { isLoading: refundInProgress, mutate: refundTransaction } = useMutation({ queryFn: useAuthContext().endpoints.initiateRefund });\n        const { availableItems, clearItems, items, updateItems } = useRefundContextLineItems({ currency, lineItems });\n        const interactionsDisabled = refundInProgress;\n        const [refundAmount, setAmount] = useRefundContextAmount({ availableAmount, currency, interactionsDisabled, items, refundMode });\n        const [refundReason, setRefundReason] = useRefundContextReason({ interactionsDisabled, refundMode });\n        const { value: amount } = refundAmount;\n\n        const { primaryAction, secondaryAction } = useRefundContextActions({\n            interactionsDisabled,\n            refreshTransaction,\n            refundAmount,\n            refundInProgress,\n            refundReason,\n            refundTransaction,\n            setActiveView,\n            setPrimaryAction,\n            setSecondaryAction,\n            transactionId,\n        });\n\n        return (\n            <TransactionRefundContext.Provider\n                value={{\n                    amount,\n                    availableAmount,\n                    availableItems,\n                    clearItems,\n                    currency,\n                    interactionsDisabled,\n                    items,\n                    primaryAction,\n                    refundMode,\n                    refundReason,\n                    secondaryAction,\n                    setAmount,\n                    setRefundReason,\n                    transactionId,\n                    updateItems,\n                }}\n            >\n                {children}\n            </TransactionRefundContext.Provider>\n        );\n    }\n);\n\nexport const useTransactionRefundContext = () => useContext(TransactionRefundContext);\nexport default useTransactionRefundContext;\n","import { EMPTY_ARRAY, enumerable, getter, isEmptyString, isFunction, isNullish, struct } from '../../../../../../utils';\nimport type { TransactionNavigation, TransactionNavigationCallback, TransactionNavigator } from './types';\nimport type { ITransaction } from '../../../../../../types';\n\nexport const createDuplexTransactionNavigator = () => {\n    let [currentTransactionId, previousTransactionId, fromTransactionId, toTransactionId] = EMPTY_ARRAY as readonly ITransaction['id'][];\n    const canNavigateBackward = () => !!(currentTransactionId && currentTransactionId === toTransactionId && fromTransactionId);\n    const canNavigateForward = () => !!(currentTransactionId && currentTransactionId === fromTransactionId && toTransactionId);\n\n    let onNavigation: TransactionNavigationCallback | null = null;\n\n    const backward: TransactionNavigator['backward'] = () => {\n        if (canNavigateBackward()) {\n            previousTransactionId = currentTransactionId;\n            currentTransactionId = fromTransactionId;\n            triggerNavigationCallback();\n        }\n    };\n\n    const forward: TransactionNavigator['forward'] = () => {\n        if (canNavigateForward()) {\n            previousTransactionId = currentTransactionId;\n            currentTransactionId = toTransactionId;\n            triggerNavigationCallback();\n        }\n    };\n\n    const reset: TransactionNavigator['reset'] = (_fromTransactionId, _toTransactionId) => {\n        const cachedCurrentTransactionId = currentTransactionId;\n        currentTransactionId = previousTransactionId = fromTransactionId = toTransactionId = undefined;\n\n        if (!isEmptyString(_fromTransactionId) && !isEmptyString(_toTransactionId)) {\n            fromTransactionId = _fromTransactionId;\n            toTransactionId = _toTransactionId;\n\n            currentTransactionId =\n                cachedCurrentTransactionId === fromTransactionId || cachedCurrentTransactionId === toTransactionId\n                    ? cachedCurrentTransactionId\n                    : fromTransactionId;\n\n            if (cachedCurrentTransactionId !== currentTransactionId) triggerNavigationCallback();\n        }\n    };\n\n    const setNavigationCallback = (callback: TransactionNavigationCallback | null | undefined) => {\n        if (isNullish(callback)) {\n            onNavigation = null;\n        } else if (isFunction(callback) && onNavigation !== (onNavigation = callback)) {\n            triggerNavigationCallback();\n        }\n    };\n\n    const triggerNavigationCallback = () => {\n        const from = previousTransactionId;\n        const to = currentTransactionId!;\n        previousTransactionId = undefined;\n\n        onNavigation?.(\n            struct<TransactionNavigation>({\n                from: getter(() => from),\n                to: getter(() => to),\n            })\n        );\n    };\n\n    return struct<TransactionNavigator>({\n        backward: enumerable(backward),\n        forward: enumerable(forward),\n        canNavigateBackward: getter(canNavigateBackward),\n        canNavigateForward: getter(canNavigateForward),\n        currentTransaction: getter(() => currentTransactionId),\n        onNavigation: { set: setNavigationCallback },\n        reset: enumerable(reset),\n    });\n};\n\nexport default createDuplexTransactionNavigator;\n","import createDuplexTransactionNavigator from './transactionNavigator/createDuplexTransactionNavigator';\nimport type { TransactionDataContentProps } from '../../components/TransactionData/TransactionDataContent';\nimport { useCallback, useEffect, useMemo, useRef, useState } from 'preact/hooks';\nimport { useAuthContext } from '../../../../../core/Auth';\nimport { useFetch } from '../../../../../hooks/useFetch';\nimport { EMPTY_OBJECT } from '../../../../../utils';\n\nexport const useTransaction = (initialTransaction: TransactionDataContentProps['transaction']) => {\n    const [transaction, setTransaction] = useState(initialTransaction);\n    const [fetchTransactionId, setFetchTransactionId] = useState(initialTransaction.id);\n    const [lastFetchTimestamp, setLastFetchTimestamp] = useState(performance.now());\n    const { getTransaction } = useAuthContext().endpoints;\n\n    const _transactionNavigator = useRef(createDuplexTransactionNavigator());\n    const transactionNavigator = _transactionNavigator.current;\n\n    const navigationAction = useRef(false);\n    const cachedIsFetching = useRef(false);\n    const cachedInitialTransaction = useRef(initialTransaction);\n    const lastFetchTransactionId = useRef(fetchTransactionId);\n\n    const fetchEnabled = useMemo(() => !!getTransaction && !!fetchTransactionId && navigationAction.current, [fetchTransactionId, getTransaction]);\n\n    const queryFn = useCallback(\n        () =>\n            getTransaction!(EMPTY_OBJECT, {\n                path: { transactionId: fetchTransactionId },\n            }),\n        [fetchTransactionId, getTransaction]\n    );\n\n    const {\n        data,\n        error,\n        isFetching: fetchingTransaction,\n    } = useFetch({\n        fetchOptions: { enabled: fetchEnabled },\n        queryFn,\n    });\n\n    const refreshTransaction = useCallback(() => {\n        return setFetchTransactionId(undefined!);\n    }, []);\n\n    useEffect(() => {\n        if (!fetchTransactionId) setFetchTransactionId(transaction.id);\n    }, [fetchTransactionId, transaction]);\n\n    useEffect(() => {\n        const navigator = _transactionNavigator.current;\n        const transaction = cachedInitialTransaction.current;\n\n        if (transaction.category === 'Refund') {\n            navigator.reset(transaction.id, transaction.refundMetadata?.originalPaymentId);\n            navigator.onNavigation = ({ to: id }) => {\n                navigationAction.current = true;\n                setLastFetchTimestamp(performance.now());\n                if (id) setFetchTransactionId(id);\n            };\n        }\n\n        return () => {\n            navigationAction.current = false;\n            navigator.onNavigation = null;\n            navigator.reset();\n        };\n    }, []);\n\n    useEffect(() => {\n        if (cachedIsFetching.current === fetchingTransaction) return;\n        if ((cachedIsFetching.current = fetchingTransaction)) return;\n\n        if (!data || error) {\n            setFetchTransactionId(lastFetchTransactionId.current);\n        } else {\n            const initialTransaction = cachedInitialTransaction.current;\n            setTransaction(() => ({\n                ...(data.id === initialTransaction.id ? initialTransaction : EMPTY_OBJECT),\n                ...data,\n            }));\n            lastFetchTransactionId.current = fetchTransactionId;\n        }\n    }, [data, error, fetchingTransaction, fetchTransactionId, lastFetchTimestamp]);\n\n    return { fetchingTransaction, refreshTransaction, transaction, transactionNavigator } as const;\n};\n\nexport default useTransaction;\n","import type { IRefundStatus } from '../../../../../types';\n\ntype _RefundItem = { status: IRefundStatus };\n\nexport const checkRefundStatusCollection = <T extends _RefundItem>(predicate: (item: T) => unknown, refundStatusCollection?: T[]) => {\n    let every = refundStatusCollection ? refundStatusCollection?.length > 0 : false;\n    let some = false;\n\n    refundStatusCollection?.forEach(item => {\n        const passesCheck = !!predicate(item);\n        every &&= passesCheck;\n        some ||= passesCheck;\n    });\n\n    return { every, some } as const;\n};\n","import { useMemo } from 'preact/hooks';\nimport { useAuthContext } from '../../../../../core/Auth';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport { boolOrFalse, isFunction, isUndefined } from '../../../../../utils';\nimport { AlertTypeOption } from '../../../../internal/Alert/types';\nimport { RefundMode, RefundedState, RefundStatus } from '../../context/types';\nimport { checkRefundStatusCollection } from './helpers';\nimport type { IRefundMode } from '../../../../../types';\nimport type { TransactionDataProps } from '../../types';\n\nconst allStatuses = ['completed', 'in_progress', 'failed'];\n\nexport const useTransactionRefundMetadata = (transaction: TransactionDataProps['transaction']) => {\n    const { i18n } = useCoreContext();\n\n    const details = transaction?.refundDetails;\n    const refundMode: IRefundMode = details?.refundMode ?? RefundMode.FULL_AMOUNT;\n    const refundLocked = boolOrFalse(details?.refundLocked);\n    const refundable = refundMode !== RefundMode.NON_REFUNDABLE;\n    const originalAmount = transaction?.originalAmount?.value;\n\n    const refundableAmount = useMemo(() => (transaction ? Math.max(0, details?.refundableAmount?.value ?? 0) : 0), [details, transaction]);\n\n    const refundAuthorization = isFunction(useAuthContext().endpoints.initiateRefund);\n    const refundAvailable = refundAuthorization && refundable && refundableAmount > 0;\n    const refundCurrency = details?.refundableAmount?.currency ?? transaction?.amount.currency ?? '';\n    const refundDisabled = !refundAvailable || refundLocked;\n\n    const statuses: Record<'in_progress' | 'completed' | 'failed', { amounts: number[]; currency: string }> = useMemo(() => {\n        const statusDetails = transaction?.refundDetails?.refundStatuses ?? [];\n        return (\n            statusDetails\n                ?.filter(currentStatus => currentStatus.amount.value !== 0)\n                .sort((firstStatus, secondStatus) => {\n                    if (allStatuses.includes(firstStatus.status) && allStatuses.includes(secondStatus.status)) {\n                        return allStatuses.indexOf(firstStatus.status) > allStatuses.indexOf(secondStatus.status) ? 0 : -1;\n                    }\n                    return -1;\n                })\n                .reduce((res, currentStatusValue) => {\n                    const currentStatus = currentStatusValue.status;\n                    const amount = ~currentStatusValue.amount.value + 1;\n                    if (res?.[currentStatus]) {\n                        res?.[currentStatus]?.amounts.push(amount);\n                        return res;\n                    } else {\n                        return { ...res, [currentStatus]: { amounts: [amount], currency: currentStatusValue.amount.currency } };\n                    }\n                }, {} as Record<'in_progress' | 'completed' | 'failed', { amounts: number[]; currency: string }>) ?? {}\n        );\n    }, [transaction?.refundDetails?.refundStatuses]);\n\n    const refundedAmount = useMemo(() => {\n        const totalCompleted = statuses.completed?.amounts?.reduce((sum, amount) => sum + amount, 0);\n        return totalCompleted ? Math.max(0, totalCompleted ?? 0) : 0;\n    }, [statuses]);\n\n    const { some: someRefunded, every: allRefunded } = useMemo(\n        () => checkRefundStatusCollection(({ status }) => status === RefundStatus.COMPLETED, details?.refundStatuses),\n        [details?.refundStatuses]\n    );\n\n    const refundStatuses = useMemo(() => {\n        if (refundableAmount === 0 && refundedAmount > 0 && allRefunded && refundedAmount === originalAmount) {\n            return [{ type: AlertTypeOption.HIGHLIGHT, label: i18n.get('refund.fullAmountRefunded') }];\n        } else {\n            const statusAlerts = Object.keys(statuses)?.map(status => {\n                const currentStatus = status as 'in_progress' | 'completed' | 'failed';\n                const formattedAmount = statuses?.[currentStatus]?.amounts.reduce((res, value, currentIndex) => {\n                    const amountsLength = statuses?.[currentStatus]?.amounts.length;\n                    if (amountsLength > 1 && currentIndex === amountsLength - 1)\n                        return `${res ? `${res}` : ''} ${i18n.get('and')} ${i18n.amount(value, statuses?.[currentStatus]?.currency)}`;\n                    return `${res ? `${res},` : ''} ${i18n.amount(value, statuses?.[currentStatus]?.currency)}`;\n                }, '');\n                const totalAmount = statuses?.[currentStatus]?.amounts.reduce((sum, amount) => sum + amount, 0);\n\n                switch (status) {\n                    case RefundStatus.COMPLETED:\n                        return {\n                            type: AlertTypeOption.HIGHLIGHT,\n                            label: i18n.get('refund.amountAlreadyRefunded', { values: { amount: formattedAmount } }),\n                        };\n                    case RefundStatus.IN_PROGRESS:\n                        if (totalAmount === originalAmount) {\n                            return {\n                                type: AlertTypeOption.HIGHLIGHT,\n                                label: i18n.get('refund.theRefundIsBeingProcessed'),\n                            };\n                        } else {\n                            return {\n                                type: AlertTypeOption.HIGHLIGHT,\n                                label: i18n.get('refund.amountInProgress', { values: { amount: formattedAmount } }),\n                            };\n                        }\n                    case RefundStatus.FAILED:\n                        if (totalAmount === originalAmount) {\n                            return {\n                                type: AlertTypeOption.WARNING,\n                                label: i18n.get('refund.fullAmountFailed'),\n                            };\n                        } else {\n                            return {\n                                type: AlertTypeOption.WARNING,\n                                label: i18n.get('refund.amountFailed', { values: { amount: formattedAmount } }),\n                            };\n                        }\n                    default:\n                        return;\n                }\n            });\n            return statusAlerts ?? [];\n        }\n    }, [refundableAmount, originalAmount, i18n, refundedAmount, statuses, allRefunded]);\n\n    const refundableAmountLabel = useMemo(() => {\n        if (refundableAmount > 0) {\n            const formattedAmount = i18n.amount(refundableAmount, refundCurrency);\n            switch (refundMode) {\n                case RefundMode.FULL_AMOUNT:\n                    return {\n                        type: AlertTypeOption.HIGHLIGHT,\n                        description: i18n.get('refund.onlyRefundable', { values: { amount: formattedAmount } }),\n                    };\n                case RefundMode.PARTIAL_AMOUNT:\n                    return {\n                        type: AlertTypeOption.HIGHLIGHT,\n                        description: i18n.get('refund.maximumRefundable', { values: { amount: formattedAmount } }),\n                    };\n                default:\n                    return null;\n            }\n        }\n        return null;\n    }, [i18n, refundableAmount, refundCurrency, refundMode]);\n\n    const refundedState = useMemo(() => {\n        switch (refundMode) {\n            case RefundMode.NON_REFUNDABLE:\n                if (refundableAmount === 0 && refundedAmount > 0 && allRefunded && refundedAmount === originalAmount) {\n                    return RefundedState.FULL;\n                }\n        }\n\n        switch (refundMode) {\n            case RefundMode.PARTIAL_AMOUNT:\n            case RefundMode.PARTIAL_LINE_ITEMS:\n                if (refundableAmount > 0 && someRefunded && refundedAmount > 0 && !isUndefined(originalAmount) && refundedAmount < originalAmount) {\n                    return RefundedState.PARTIAL;\n                }\n        }\n\n        return RefundedState.INDETERMINATE;\n    }, [refundableAmount, refundedAmount, refundMode, originalAmount, someRefunded, allRefunded]);\n\n    return {\n        refundableAmount, // the maximum amount still available for refund\n        refundable, // whether the refund mode of the payment allows for refund\n        refundableAmountLabel,\n        refundAvailable, // whether a refund can be initiated for the payment\n        refundAuthorization, // whether the authenticated user has sufficient permission to initiate refunds\n        refundCurrency, // the payment currency for any initiated refund\n        refundDisabled, // whether refund action for the payment is disabled (refund view should be prevented)\n        refundedAmount, // the total amount already refunded\n        refundedState, // whether the payment is yet to be, partially or fully refunded\n        refundStatuses, //the refund statuses\n        refundLocked, // whether refund action for the payment is temporarily locked\n        refundMode, // the refund mode of the payment\n    } as const;\n};\n\nexport default useTransactionRefundMetadata;\n","import { useEffect, useMemo, useState } from 'preact/hooks';\n\nexport const useMediaQuery = <T extends string>(query: T) => {\n    const list = useMemo(() => window.matchMedia(query), [query]);\n    const [matches, setMatches] = useState(list.matches);\n\n    useEffect(() => {\n        const handleChange = (event: MediaQueryListEvent) => setMatches(event.matches);\n        list.addEventListener('change', handleChange);\n        return () => list.removeEventListener('change', handleChange);\n    }, [list]);\n\n    useEffect(() => {\n        setMatches(list.matches);\n    }, [list]);\n\n    return matches;\n};\n\nexport default useMediaQuery;\n","import { BREAKPOINTS } from '../constants';\nimport { useMediaQuery } from './useMediaQuery';\nimport type { ValueOfRecord } from '../utils/types';\n\nexport const mediaQueries = {\n    up: {\n        sm: `(min-width: ${BREAKPOINTS.sm}px)`,\n        md: `(min-width: ${BREAKPOINTS.md}px)`,\n        lg: `(min-width: ${BREAKPOINTS.lg}px)`,\n    },\n    down: {\n        xs: `(max-width: ${BREAKPOINTS.sm - 1}px)`,\n        sm: `(max-width: ${BREAKPOINTS.md - 1}px)`,\n        md: `(max-width: ${BREAKPOINTS.lg - 1}px)`,\n    },\n    only: {\n        xs: `(max-width: ${BREAKPOINTS.sm - 1}px)`,\n        sm: `(min-width: ${BREAKPOINTS.sm}px) and (max-width: ${BREAKPOINTS.md - 1}px)`,\n        md: `(min-width: ${BREAKPOINTS.md}px) and (max-width: ${BREAKPOINTS.lg - 1}px)`,\n        lg: `(min-width: ${BREAKPOINTS.lg}px)`,\n    },\n} as const;\n\ntype _MediaQueries = typeof mediaQueries;\n\nexport type ResponsiveViewportMediaQuery = ValueOfRecord<\n    | {\n          [K in keyof _MediaQueries]: ValueOfRecord<_MediaQueries[K]>;\n      }\n    | { hello: `(prefers-color-scheme: dark)` }\n>;\n\nexport const useResponsiveViewport = useMediaQuery<ResponsiveViewportMediaQuery>;\n","export const DEFAULT_POPOVER_CLASSNAME = 'adyen-pe-popover';\nexport const DEFAULT_TOOLTIP_CLASSNAME = 'adyen-pe-tooltip';\nexport const POPOVER_CONTAINER_CLASSNAME = `${DEFAULT_POPOVER_CLASSNAME}-container`;\nexport const POPOVER_HEADER_CLASSNAME = `${DEFAULT_POPOVER_CLASSNAME}__header`;\nexport const POPOVER_HEADER_TITLE_CLASSNAME = `${DEFAULT_POPOVER_CLASSNAME}__header-title`;\nexport const POPOVER_CONTENT_CLASSNAME = `${DEFAULT_POPOVER_CLASSNAME}__content`;\nexport const TOOLTIP_CONTENT_CLASSNAME = `${DEFAULT_TOOLTIP_CLASSNAME}__content`;\nexport const POPOVER_FOOTER_CLASSNAME = `${DEFAULT_POPOVER_CLASSNAME}__footer`;\n","import Button from '../../Button';\nimport { ButtonVariant } from '../../Button/types';\nimport './PopoverDismissButton.scss';\nimport useCoreContext from '../../../../core/Context/useCoreContext';\nimport { memo } from 'preact/compat';\n\ninterface PopoverDismissButtonProps {\n    image?: boolean;\n    onClick: () => void;\n}\n\nfunction PopoverDismissButton({ image = true, onClick }: PopoverDismissButtonProps) {\n    const { i18n } = useCoreContext();\n    const getConditionalClasses = (): string => {\n        return image ? 'adyen-pe-popover-dismiss-button--on-image' : '';\n    };\n    return (\n        <>\n            <Button\n                className={getConditionalClasses()}\n                iconButton={true}\n                variant={ButtonVariant.TERTIARY}\n                onClick={onClick}\n                aria-label={i18n.get('closeIconLabel')}\n            >\n                <svg role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"none\">\n                    <title>{'dismiss'}</title>\n                    <path\n                        fill=\"#00112C\"\n                        fillRule=\"evenodd\"\n                        d=\"M11.4697 12.5303C11.7626 12.8232 12.2374 12.8232 12.5303 12.5303C12.8232 12.2374 12.8232 11.7626 12.5303 11.4697L9.06066 8L12.5303 4.53033C12.8232 4.23744 12.8232 3.76256 12.5303 3.46967C12.2374 3.17678 11.7626 3.17678 11.4697 3.46967L8 6.93934L4.53033 3.46967C4.23744 3.17678 3.76256 3.17678 3.46967 3.46967C3.17678 3.76256 3.17678 4.23744 3.46967 4.53033L6.93934 8L3.46967 11.4697C3.17678 11.7626 3.17678 12.2374 3.46967 12.5303C3.76256 12.8232 4.23744 12.8232 4.53033 12.5303L8 9.06066L11.4697 12.5303Z\"\n                        clipRule=\"evenodd\"\n                    />\n                </svg>\n            </Button>\n        </>\n    );\n}\n\nexport default memo(PopoverDismissButton);\n","import Typography from '../../Typography/Typography';\nimport { TypographyVariant } from '../../Typography/types';\nimport { memo } from 'preact/compat';\n\nexport interface PopoverTitleProps {\n    title: string;\n    isImageTitle?: boolean;\n}\nfunction PopoverTitle({ title, isImageTitle = false }: PopoverTitleProps) {\n    const getVariant = (): TypographyVariant => {\n        return isImageTitle ? TypographyVariant.SUBTITLE : TypographyVariant.BODY;\n    };\n\n    return (\n        <Typography strongest={!isImageTitle} variant={getVariant()}>\n            {title}\n        </Typography>\n    );\n}\n\nexport default memo(PopoverTitle);\n","import { ButtonActionsLayout, ButtonActionsList } from '../Button/ButtonActions/types';\nimport { ComponentChildren } from 'preact';\nimport { HTMLAttributes } from 'preact/compat';\nimport { MutableRef } from 'preact/hooks';\n\nexport enum PopoverContainerVariant {\n    TOOLTIP = 'tooltip',\n    POPOVER = 'popover',\n}\n\ninterface PopoverCoreProps {\n    actions?: ButtonActionsList;\n    actionsLayout?: ButtonActionsLayout;\n    variant?: PopoverContainerVariant;\n    divider?: boolean;\n    dismissible?: boolean;\n    fitContent?: boolean;\n    disableFocusTrap?: boolean;\n    open?: boolean;\n    withContentPadding?: boolean;\n    modifiers?: string[];\n    position?: PopoverContainerPosition;\n    containerSize?: PopoverContainerSize;\n    title?: string;\n    targetElement: MutableRef<Element | null>;\n    withoutSpace?: boolean;\n    dismiss?: () => any;\n    setToTargetWidth?: boolean;\n    children: ComponentChildren;\n    classNameModifiers?: string[];\n    showOverlay?: boolean;\n    fitPosition?: boolean;\n}\n\ntype UncontrolledProps = Pick<HTMLAttributes<any>, 'aria-label' | 'aria-labelledby' | 'aria-describedby' | 'role'>;\n\nexport type PopoverProps = PopoverCoreProps & UncontrolledProps;\n\nexport enum PopoverContainerPosition {\n    TOP = 'top',\n    TOP_LEFT = 'top-left',\n    RIGHT = 'right',\n    BOTTOM = 'bottom',\n    BOTTOM_LEFT = 'bottom-left',\n    LEFT = 'left',\n}\n\nexport enum PopoverContainerSize {\n    MEDIUM = 'medium',\n    WIDE = 'wide',\n}\n","import UIElement from './external/UIElement/UIElement';\nimport { Core, onErrorHandler } from '../core';\nimport { TransactionsTableFields } from './external/TransactionsOverview/components/TransactionsTable/types';\nimport type { ITransaction } from '../types';\n\nexport const enum InteractionKeyCode {\n    ARROW_DOWN = 'ArrowDown',\n    ARROW_LEFT = 'ArrowLeft',\n    ARROW_RIGHT = 'ArrowRight',\n    ARROW_UP = 'ArrowUp',\n    BACKSPACE = 'Backspace',\n    END = 'End',\n    ENTER = 'Enter',\n    ESCAPE = 'Escape',\n    HOME = 'Home',\n    PAGE_DOWN = 'PageDown',\n    PAGE_UP = 'PageUp',\n    SPACE = 'Space',\n    TAB = 'Tab',\n}\n\nexport interface BaseElementProps {\n    core: Core<any, any>;\n}\n\nexport interface IUIElement {\n    accessibleName: string;\n    displayName: string;\n    elementRef: any;\n    type: string;\n}\n\nexport interface IFormElement<P> {\n    submit(): void;\n    setStatus(status: UIElementStatus, props?: any): UIElement<P>;\n    showValidation(): void;\n    setState(newState: object): void;\n}\n\nexport type UIElementStatus = 'ready' | 'loading' | 'error' | 'success';\n\nexport type SetTriggerValidation = (callback: (schema?: Record<string, any>) => void) => void;\n\nexport interface UIElementProps {\n    hideTitle?: boolean;\n    onContactSupport?: () => void;\n    onError?: onErrorHandler;\n    ref?: any;\n}\n\nexport interface FormProps<P> {\n    onChange?: (state: any, element: UIElement<P> | null) => void;\n    onValid?: (state: any, element: UIElement<P> | null) => void;\n    beforeSubmit?: (state: any, element: UIElement<P>, actions: any) => Promise<void>;\n    onSubmit?: (state: any, element: UIElement<P> | null) => void;\n    onComplete?: (state: BaseElementProps, element: UIElement<P> | null) => void;\n    onError?: (error: any, element?: UIElement<P> | null) => void;\n    triggerValidation?: SetTriggerValidation;\n}\n\nexport type BaseElementState = {\n    errors?: {\n        [key: string]: any;\n    };\n    valid?: {\n        [key: string]: boolean;\n    };\n    fieldProblems?: {\n        [key: string]: any;\n    };\n    isValid?: boolean;\n};\n\nexport type _UIComponentProps<T> = BaseElementProps & Omit<UIElementProps, 'ref'> & T & {};\n\nexport type ExternalUIComponentProps<T> = UIElementProps & T & {};\n\ntype onRecordSelection<T extends { showModal: () => void }> = (selection: T) => any;\n\ninterface _DataOverviewSelectionProps<T extends { showModal: () => void } = { showModal: () => void }> {\n    onRecordSelection?: onRecordSelection<T>;\n}\n\nexport type DataGridIcon = { url: string; alt?: string } | ((value: unknown) => { url: string; alt?: string });\n\nexport type DataGridCustomColumnConfig<k> = {\n    key: k;\n    flex?: number;\n};\n\nexport type CustomColumn<T extends string> = {\n    [k in T]: DataGridCustomColumnConfig<k>;\n}[T];\n\ninterface _DataOverviewComponentProps {\n    allowLimitSelection?: boolean;\n    balanceAccountId?: string;\n    onFiltersChanged?: (filters: { [P in FilterParam]?: string }) => any;\n    preferredLimit?: 10 | 20;\n    showDetails?: boolean;\n}\n\nexport type ReportsOverviewComponentProps = Omit<_DataOverviewComponentProps, 'showDetails'>;\n\nexport type CustomDataObject = { value: any; icon?: { url: string; alt?: string } };\n\nexport type CustomDataRetrieved = { [k: string]: CustomDataObject | (string | number) };\n\nexport type OnDataRetrievedCallback<DataRetrieved> = (data: DataRetrieved[]) => Promise<CustomDataRetrieved[]>;\n\ninterface _CustomizableDataOverview<Columns extends string, DataRetrieved> {\n    columns?: CustomColumn<Columns>[] | Columns[];\n    onDataRetrieved?: OnDataRetrievedCallback<DataRetrieved>;\n}\n\nexport interface TransactionOverviewComponentProps\n    extends _DataOverviewComponentProps,\n        _CustomizableDataOverview<TransactionsTableFields, ITransaction>,\n        _DataOverviewSelectionProps<{ id: string; showModal: () => void }> {}\n\nexport interface PayoutsOverviewComponentProps\n    extends _DataOverviewComponentProps,\n        _DataOverviewSelectionProps<{ balanceAccountId: string; date: string; showModal: () => void }> {}\n\nexport const enum FilterParam {\n    BALANCE_ACCOUNT = 'balanceAccount',\n    CATEGORIES = 'categories',\n    CURRENCIES = 'currencies',\n    CREATED_SINCE = 'createdSince',\n    CREATED_UNTIL = 'createdUntil',\n    STATUSES = 'statuses',\n    MIN_AMOUNT = 'minAmount',\n    MAX_AMOUNT = 'maxAmount',\n}\n\nexport type ExternalComponentType =\n    | 'transactions'\n    | 'transactionDetails'\n    | 'payouts'\n    | 'payoutDetails'\n    | 'reports'\n    | 'capitalOverview'\n    | 'capitalOffer';\n","export const popoverUtil = (<T extends Element, U extends Function>() => {\n    let popoverRefs: Array<{ element: T; callback?: U | undefined }> = [];\n\n    const closePopoversOutsideOfClick = (eventPath: EventTarget[]) => {\n        const index = eventPath.reduce((index: number, path: EventTarget) => {\n            const pathMatchIndex =\n                path instanceof Node\n                    ? popoverRefs.findIndex(popoverRef => {\n                          const popoverRefId = popoverRef.element.getAttribute('id');\n                          const pathId = path && (path as HTMLElement)?.getAttribute ? (path as HTMLElement)?.getAttribute('id') : null;\n                          return popoverRefId === pathId;\n                      })\n                    : -1;\n            if (index === -1 && pathMatchIndex !== -1) return pathMatchIndex;\n            return index;\n        }, -1);\n        if (index === -1) {\n            closeNestedPopovers(0);\n        } else {\n            index + 1 <= popoverRefs.length - 1 && closeNestedPopovers(index + 1);\n        }\n    };\n\n    const remove = (currentRef: T) => {\n        const index = popoverRefs.findIndex(refs => refs.element.getAttribute('id') === currentRef.getAttribute('id'));\n        if (index >= 0) {\n            popoverRefs.splice(index, 1);\n        }\n    };\n\n    const add = (currentRef: T, callback: U | undefined) => {\n        const index = popoverRefs.findIndex(refs => refs.element.getAttribute('id') === currentRef.getAttribute('id'));\n        if (index >= 0) return;\n        popoverRefs.push({ element: currentRef, callback: callback });\n    };\n\n    const closeNestedPopovers = (fromIndex: number) => {\n        const popoverLength = popoverRefs.length;\n        for (let i = fromIndex; i < popoverLength; i++) {\n            popoverRefs?.[i]?.callback?.();\n        }\n        popoverRefs.splice(fromIndex);\n    };\n\n    const closeAll = () => {\n        popoverRefs.forEach(ref => ref?.callback?.());\n        popoverRefs = [];\n    };\n\n    return { add, remove, closeAll, closePopoversOutsideOfClick };\n})();\n","export const REF: unique symbol = Symbol('_ref');\n","export class ReflexError extends Error {}\nexport class UnknownRefError extends ReflexError {}\nexport class MissingReflexActionError extends ReflexError {}\n","import { REF } from './constants';\nimport { MissingReflexActionError } from './errors';\nimport type { Ref, Reflex, Reflexable, ReflexAction } from './types';\nimport { EMPTY_OBJECT, hasOwnProperty, isFunction, isUndefined, sameValue } from '../../../utils';\nimport { RefObject } from 'preact';\n\nexport function assertReflexAction<T = any>(value?: any): asserts value is ReflexAction<T> {\n    if (!isFunction(value)) throw new MissingReflexActionError();\n}\n\nexport const isReflex = <T = any>(value: any): value is Reflex<T> => {\n    try {\n        if (isFunction(value) && hasOwnProperty(value, 'current') && hasOwnProperty(value, REF) && !sameValue(value, (value as Reflex<T>)[REF])) {\n            const notDefined = (value as Reflex<T>).actions.get(EMPTY_OBJECT as ReflexAction<T>);\n            const size = (value as Reflex<T>).actions.size;\n            return isUndefined(notDefined) && Number.isInteger(size) && size >= 0;\n        }\n    } catch {\n        /* Definitely not a reflex, return false outside this block */\n    }\n\n    return false;\n};\n\nexport const unwrap = <T = any>(reflexable: Reflexable<T>): Ref<T> => (isReflex<T>(reflexable) ? unwrap(reflexable[REF]) : reflexable);\n\nexport function isRefObject(ref: any): ref is RefObject<any> {\n    return !!ref.current;\n}\n","import type { Defined, Nullable } from '../../../utils/types';\nimport type { Ref, RefAsCallback, Reflex, Reflexable, ReflexAction, ReflexRecord, ReflexRegister } from './types';\nimport { enumerable, isFunction, sameValue, struct } from '../../../utils';\nimport { assertReflexAction, unwrap } from './helpers';\nimport { UnknownRefError } from './errors';\nimport { REF } from './constants';\n\nexport const createReflexRegister = (() => {\n    const _getRecordForRef = <T = any>(register: WeakMap<NonNullable<Ref>, ReflexRecord>, ref: NonNullable<Ref<T>>): ReflexRecord<T> => {\n        const record = register.get(ref);\n        if (!record) throw new UnknownRefError();\n        return record;\n    };\n\n    const _bindReflexAction = <T = any>(\n        register: WeakMap<NonNullable<Ref>, ReflexRecord>,\n        reflexable: NonNullable<Reflexable<T>>,\n        action?: ReflexAction<T>\n    ): ReflexRecord<T>[0] => {\n        let record: ReflexRecord<T> | undefined;\n        let actions: Defined<typeof record>[1];\n\n        const _ref = unwrap(reflexable) as NonNullable<Ref>;\n\n        try {\n            record = _getRecordForRef(register, _ref);\n        } catch {\n            /**\n             * Ignore the original exception — since this could be a potential\n             * reflex action binding. If no reflex action was provided, throw\n             * an exception to signal the missing reflex action.\n             */\n            assertReflexAction<T>(action);\n        }\n\n        if (record) [, actions] = record;\n        else {\n            const isCallbackRef = isFunction(_ref);\n\n            const _updateCurrentInstance: RefAsCallback<T | undefined> = isCallbackRef\n                ? instance => {\n                      _ref((_current = instance));\n                  }\n                : instance => {\n                      if (_ref) {\n                          _ref.current = instance;\n                          _current = _ref.current;\n                      }\n                  };\n\n            const reflex = (instance => {\n                if (actions.size === 0) {\n                    // Reflex is dead when there are no more reflex actions.\n                    // It should no longer mutate the _ref current instance.\n                    // Binding a new action registers _ref afresh with a new\n                    // reflex.\n                    return;\n                }\n\n                const previous = _current;\n\n                _updateCurrentInstance(instance);\n\n                if (!sameValue(_current, previous)) {\n                    for (const [action] of actions) {\n                        action(_current, previous);\n                    }\n                }\n            }) as Reflex<T>;\n\n            let _current: Nullable<T> = isCallbackRef ? null : _ref.current;\n\n            register.set(_ref, (record = [reflex, (actions = new Map())]));\n\n            Object.defineProperties(reflex, {\n                [REF]: { value: _ref },\n                actions: {\n                    value: struct({\n                        get: { value: actions.get.bind(actions) },\n                        size: { get: () => actions.size },\n                    }),\n                },\n                current: {\n                    get: () => _current,\n                    set: isCallbackRef ? (void 0 as unknown as typeof reflex) : reflex,\n                },\n            });\n        }\n\n        if (action) {\n            actions.set(action, 1 + (actions.get(action) || 0));\n        }\n\n        return record[0];\n    };\n\n    const _unbindReflexAction = <T = any>(\n        register: WeakMap<NonNullable<Ref>, ReflexRecord>,\n        reflexable: Reflexable<T>,\n        action: ReflexAction<T>\n    ): void => {\n        const _ref = unwrap(reflexable);\n        const [, actions] = _getRecordForRef(register, _ref as NonNullable<Ref>);\n        const bindings = actions.get(action) || 0;\n\n        if (bindings === 1) actions.delete(action);\n        else if (bindings > 1) actions.set(action, bindings - 1);\n        if (actions.size === 0 && _ref) register.delete(_ref);\n    };\n\n    return (): ReflexRegister => {\n        const _register = new WeakMap<NonNullable<Ref>, ReflexRecord>();\n        return struct({\n            bind: enumerable(_bindReflexAction.bind(void 0, _register)),\n            unbind: enumerable(_unbindReflexAction.bind(void 0, _register)),\n        }) as ReflexRegister;\n    };\n})();\n\nexport const $globalReflexRegister = createReflexRegister();\nexport default $globalReflexRegister;\n","import type { Reflex, Reflexable, ReflexAction, ReflexContainer, ReflexRegister } from './types';\nimport type { DefinedNullable, Nullable } from '../../../utils/types';\nimport { isNullish, sameValue, struct } from '../../../utils';\nimport { assertReflexAction, unwrap } from './helpers';\nimport { $globalReflexRegister } from './register';\nimport { REF } from './constants';\n\nexport const createIsolatedFauxReflex = <T = any>(action: ReflexAction<T>): Reflex<T> => {\n    assertReflexAction<T>(action);\n\n    const $actions = new WeakMap<ReflexAction<T>, number>([[action, 1]]);\n\n    const reflex = (instance => {\n        if (sameValue(_current, instance)) return;\n        const previous = _current;\n        action((_current = instance), previous);\n    }) as Reflex<T>;\n\n    let _current: Nullable<T> = null;\n\n    return Object.defineProperties(reflex, {\n        [REF]: { value: reflex },\n        actions: {\n            value: struct({\n                get: { value: $actions.get.bind($actions) },\n                size: { value: 1 },\n            }),\n        },\n        current: {\n            get: () => _current,\n            set: reflex,\n        },\n    });\n};\n\nexport const createReflexContainer = <T = any>(register: ReflexRegister = $globalReflexRegister): ReflexContainer<T> => {\n    let _reflex: Nullable<Reflex<T>>;\n    let _reflexable: DefinedNullable<Reflexable<T>> = null;\n    let _reflexAction: ReflexAction<T>;\n    let _released = false;\n\n    const _refreshContainer = (action: ReflexAction<T>) => {\n        _reflex = undefined;\n        _reflexable = null;\n        _reflexAction = action;\n        _released = false;\n    };\n\n    const _releaseContainer = () => {\n        if (!_released) {\n            _unbindReflexAction();\n            _released = true;\n        }\n    };\n\n    const _unbindReflexAction = () => {\n        try {\n            if (!_reflexable) return;\n            register.unbind(_reflexable, _reflexAction);\n        } catch {\n            /* ignore exception for unknown ref */\n        }\n    };\n\n    const _updateContainer = (action: ReflexAction<T>, reflexable?: Nullable<Reflexable<T>>) => {\n        assertReflexAction<T>(action);\n\n        if (_released) _refreshContainer(action);\n\n        const currentReflexable = isNullish(reflexable) ? null : reflexable;\n\n        if (_reflexAction === action && _reflexable === currentReflexable) {\n            if (_reflex) return; // no further update required\n        } else if (_reflexable) {\n            if (sameValue(unwrap(_reflexable), unwrap(currentReflexable!))) {\n                _reflex = register.bind(_reflexable, action);\n                _unbindReflexAction();\n                _reflexAction = action;\n                return; // no further update required\n            }\n\n            _unbindReflexAction();\n        }\n\n        _reflexAction = action;\n\n        _reflex = (_reflexable = currentReflexable) ? register.bind(_reflexable, _reflexAction) : createIsolatedFauxReflex(_reflexAction);\n    };\n\n    return struct<ReflexContainer<T>>({\n        action: { get: () => _reflexAction },\n        reflex: { get: () => _reflex },\n        release: { value: _releaseContainer },\n        update: { value: _updateContainer },\n    });\n};\n\nexport default createReflexContainer;\n","import { useLayoutEffect, useMemo, useRef } from 'preact/hooks';\nimport { createReflexContainer, Reflex, Reflexable, ReflexAction } from '../primitives/reactive/reflex';\nimport type { Nullable } from '../utils/types';\n\nconst useReflex = <T = any>(action: ReflexAction<T>, reflexable?: Nullable<Reflexable<T>>) => {\n    const container = useRef(createReflexContainer<T>());\n\n    useLayoutEffect(() => container.current.release, []);\n\n    return useMemo(() => {\n        container.current.update(action, reflexable);\n        return container.current.reflex as Reflex<T>;\n    }, [action, reflexable]);\n};\n\nexport default useReflex;\n","import { useCallback, useEffect, useRef } from 'preact/hooks';\nimport { popoverUtil } from '../../components/internal/Popover/utils/popoverUtil';\nimport type { Reflexable } from '../../primitives/reactive/reflex';\nimport type { Nullable } from '../../utils/types';\nimport useReflex from '../useReflex';\n\nexport const CONTROL_ELEMENT_PROPERTY: unique symbol = Symbol('__control.Elem.');\n\nexport const enum ClickOutsideVariant {\n    POPOVER = 'POPOVER',\n    DEFAULT = 'DEFAULT',\n}\nconst onFocusoutCapture = (e: Event) => {\n    e.stopImmediatePropagation();\n};\nexport const useClickOutside = <T extends Element = Element>(\n    rootElementRef?: Nullable<Reflexable<T>>,\n    callback?: (interactionKeyPressed: boolean) => void,\n    disableClickOutside?: boolean,\n    variant?: ClickOutsideVariant\n) => {\n    const ref = useRef<Nullable<T>>(null);\n\n    const handleClickOutside = useCallback(\n        (e: Event) => {\n            const eventPath: EventTarget[] = e.composedPath();\n            if (!(ref && ref.current)) return;\n            if (variant === ClickOutsideVariant.POPOVER) {\n                popoverUtil.closePopoversOutsideOfClick(eventPath);\n            } else {\n                let eventPathIndex = 0;\n                let samePath = false;\n                let currentElement: Element | null = eventPath[eventPathIndex] as Element;\n\n                while (currentElement instanceof Element) {\n                    if ((samePath ||= currentElement?.isSameNode(ref.current))) break;\n                    currentElement = (eventPath[++eventPathIndex] as Element) ?? currentElement.parentElement;\n\n                    if ((currentElement as any)?.[CONTROL_ELEMENT_PROPERTY] instanceof Element) {\n                        currentElement = (currentElement as any)[CONTROL_ELEMENT_PROPERTY];\n                        eventPath.length = 0;\n                    }\n                }\n\n                if (callback && !samePath) callback(true);\n            }\n        },\n        [ref, callback, variant]\n    );\n\n    const clickOutsideHandlerRef = useRef(handleClickOutside);\n\n    useEffect(() => {\n        return () => {\n            if (ref.current) popoverUtil.remove(ref.current);\n            document.removeEventListener('click', clickOutsideHandlerRef.current, true);\n        };\n    }, []);\n\n    useEffect(() => {\n        document.removeEventListener('click', clickOutsideHandlerRef.current, true);\n        clickOutsideHandlerRef.current = handleClickOutside;\n        document.addEventListener('click', clickOutsideHandlerRef.current, true);\n        if (variant === ClickOutsideVariant.POPOVER) {\n            if (ref.current instanceof Element) popoverUtil.add(ref.current, callback);\n        }\n        return () => {\n            if (ref.current) popoverUtil.remove(ref.current);\n            document.removeEventListener('click', clickOutsideHandlerRef.current, true);\n        };\n    }, [handleClickOutside, callback, variant]);\n\n    useEffect(() => {\n        if (disableClickOutside) {\n            document.removeEventListener('click', clickOutsideHandlerRef.current, true);\n        } else {\n            document.addEventListener('click', clickOutsideHandlerRef.current, true);\n        }\n    }, [disableClickOutside]);\n\n    return useReflex<T>(\n        useCallback(\n            (current: Nullable<T>, previous) => {\n                if (previous instanceof Element) {\n                    previous.removeEventListener('focusout', onFocusoutCapture, true);\n                }\n                if (current instanceof Element) {\n                    if (!disableClickOutside) {\n                        current.addEventListener('focusout', onFocusoutCapture, true);\n                        ref.current = current;\n                    }\n                }\n            },\n            [disableClickOutside, variant]\n        ),\n        rootElementRef\n    );\n};\n","import { isNullish, isNumber, isUndefined, mod, some } from '../../../utils';\n\nexport interface TabbableRoot {\n    get current(): Element | null;\n    set current(maybeTabbableOrOffset: Element | number | null);\n    root: Element | null;\n    tabbables: Element[];\n}\n\nexport const SELECTORS = `\n    a[href],\n    audio[controls],\n    video[controls],\n    button,\n    input,\n    select,\n    textarea,\n    [contenteditable],\n    [tabindex]\n`.replace(/\\s+/, '');\n\nconst ATTRIBUTES = ['contenteditable', 'controls', 'disabled', 'hidden', 'href', 'inert', 'tabindex'];\nconst CHECKED_RADIOS = new Map<HTMLFormElement, Map<string, HTMLInputElement | null>>();\n\nconst isInput = (element: Element): element is HTMLInputElement => element.tagName === 'INPUT';\nconst isRadio = (element: Element): element is HTMLInputElement => isInput(element) && element.type === 'radio';\nconst isCheckedRadio = (element: Element): element is HTMLInputElement => {\n    const name = (element as HTMLInputElement).name;\n    const form = (element as HTMLInputElement).form;\n    const checkedRadiosForForm = CHECKED_RADIOS.get(form as HTMLFormElement);\n\n    let checkedRadio = checkedRadiosForForm?.get(name);\n\n    if (isUndefined(checkedRadio) && form) {\n        checkedRadio = (form.querySelector(`input[type=radio][name='${name}']:checked`) as HTMLInputElement) || null;\n        CHECKED_RADIOS.set(form, (checkedRadiosForForm || new Map<string, HTMLInputElement | null>()).set(name, checkedRadio));\n    }\n\n    return checkedRadio === element;\n};\n\nconst shouldRefresh = (tabbables: Element[], records: MutationRecord[]) => {\n    for (const record of records) {\n        if (record.type !== 'attributes') {\n            if (some(record.addedNodes, (node: Node) => node instanceof Element && isTabbable(node as Element))) return true;\n            if (some(record.removedNodes, (node: Node) => tabbables.includes(node as Element))) return true;\n        } else if (isTabbable(record.target as Element)) return true;\n        else if (tabbables.includes(record.target as Element)) return true;\n    }\n    return false;\n};\n\nexport const focusIsWithin = (rootElement: Element = document.body, elementWithFocus?: Element | null): boolean => {\n    if (isUndefined(rootElement)) return false;\n    if (isNullish(elementWithFocus)) return !!document.activeElement && focusIsWithin(rootElement, document.activeElement);\n\n    let parentElement = elementWithFocus?.parentNode as Element | null;\n\n    while (parentElement) {\n        if (parentElement === rootElement) return true;\n        parentElement = parentElement?.parentNode as Element | null;\n    }\n\n    return false;\n};\n\nexport const isFocusable = (element: Element) =>\n    !(\n        // [TODO]: Include all of these checks\n        // (1) matches focusable elements selector\n        // (2) is disabled element\n        // (3) is inert or inert subtree child\n        // (4) is hidden input\n        // (5) with visibility: hidden\n        // (6) is summary of open details element\n        // (7) is details with summary element\n        // (8) is disabled fieldset subtree child\n\n        /* (1) */ (\n            !element.matches(SELECTORS) ||\n            /* (2) */ (element as HTMLInputElement)?.disabled ||\n            /* (3) */ /^(true)?$/.test(element.getAttribute('inert') as string) ||\n            /* (4) */ (isInput(element) && element.hidden)\n        )\n    );\n\nexport const isTabbable = (element: Element) =>\n    !(\n        (\n            (isRadio(element) && !isCheckedRadio(element)) || // (1) is not checked radio button\n            (element as HTMLElement)?.tabIndex < 0 || // (2) has negative tabindex\n            !isFocusable(element)\n        ) // (3) is not focusable\n    );\n\nexport const withTabbableRoot = () => {\n    const observer = new MutationObserver(records => shouldRefresh(tabbables, records) && getTabbables());\n    const tabbables: Element[] = [];\n\n    let currentIndex = -1;\n    let root: Element | null = null;\n\n    const focusAt = (tabbableIndex: number) => {\n        if (tabbableIndex < 0) return;\n        const constrainedIndex = Math.min(tabbableIndex, tabbables.length - 1);\n        if (currentIndex !== constrainedIndex) currentIndex = constrainedIndex;\n        (tabbables[currentIndex] as HTMLElement)?.focus();\n    };\n\n    const getTabbables = () => {\n        tabbables.length = 0;\n        if (!(root instanceof Element)) return;\n        root.querySelectorAll(SELECTORS).forEach(maybeTabbable => isTabbable(maybeTabbable) && tabbables.push(maybeTabbable));\n        if (!focusIsWithin(root)) return;\n        tabbableRoot.current = document.activeElement;\n    };\n\n    const tabbableRoot = Object.create(null, {\n        current: {\n            get: () => tabbables[currentIndex] ?? null,\n            set: (maybeTabbableOrOffset: Element | number | null) => {\n                if (!maybeTabbableOrOffset) return;\n                if (!isNumber(maybeTabbableOrOffset)) return focusAt(tabbables.indexOf(maybeTabbableOrOffset));\n                if (maybeTabbableOrOffset !== ~~maybeTabbableOrOffset) return;\n                return focusAt(mod(currentIndex + maybeTabbableOrOffset, tabbables.length));\n            },\n        },\n        root: {\n            get: () => root,\n            set: (maybeElement?: any) => {\n                if (maybeElement === root) return;\n\n                root && observer.disconnect();\n                root = maybeElement instanceof Element ? maybeElement : null;\n                tabbables.length = 0;\n\n                if (!root) return;\n\n                observer.observe(root, {\n                    attributeFilter: ATTRIBUTES,\n                    attributes: true,\n                    childList: true,\n                    subtree: true,\n                });\n\n                getTabbables();\n            },\n        },\n        tabbables: { value: tabbables },\n    }) as TabbableRoot;\n\n    return tabbableRoot;\n};\n\nexport default withTabbableRoot;\n","import { useCallback, useMemo, useRef } from 'preact/hooks';\nimport { InteractionKeyCode } from '../../components/types';\nimport { isUndefined } from '../../utils';\nimport withTabbableRoot, { focusIsWithin, isFocusable } from '../../primitives/dom/tabbableRoot/tabbable';\nimport type { Reflexable } from '../../primitives/reactive/reflex';\nimport type { Nullable } from '../../utils/types';\nimport useReflex from '../useReflex';\n\nconst useFocusTrap = (rootElementRef: Nullable<Reflexable<Element>>, onEscape: (interactionKeyPressed: boolean) => any) => {\n    const escapedFocus = useRef(false);\n    const focusElement = useRef<Element | null>(null);\n    const interactionKeyPressed = useRef(false);\n    const tabbableRoot = useMemo(withTabbableRoot, []);\n\n    const onClickCapture = useMemo(() => {\n        let lastFocusableElement: Element | null = null;\n        let raf: number | undefined;\n\n        return (evt: Event) => {\n            if (!isUndefined(raf)) cancelAnimationFrame(raf);\n            let element = evt.target as Element | null;\n            while (element && element !== evt.currentTarget) {\n                if (isFocusable(element)) {\n                    lastFocusableElement = element;\n                    raf = requestAnimationFrame(() => {\n                        raf = requestAnimationFrame(() => {\n                            if (focusElement.current !== lastFocusableElement && lastFocusableElement instanceof HTMLElement) {\n                                (focusElement.current = lastFocusableElement)?.focus();\n                            }\n                            lastFocusableElement = null;\n                            raf = undefined;\n                        });\n                    });\n                    return;\n                }\n                element = element.parentNode as Element | null;\n            }\n        };\n    }, []);\n\n    const onFocusInCapture = useCallback((evt: FocusEvent) => {\n        tabbableRoot.current = focusElement.current = evt.target as Element | null;\n    }, []);\n\n    const onFocusOutCapture = useCallback((evt: FocusEvent) => {\n        if (tabbableRoot.tabbables.includes(evt.relatedTarget as Element)) return;\n        if (focusIsWithin(evt.currentTarget as Element, evt.relatedTarget as Element | null)) return;\n        if (interactionKeyPressed.current) return;\n\n        escapedFocus.current = true;\n\n        requestAnimationFrame(() => {\n            if (escapedFocus.current) onEscape((escapedFocus.current = false));\n        });\n    }, []);\n\n    const onKeyDownCapture = useMemo(() => {\n        let raf: number | undefined;\n\n        return (evt: KeyboardEvent) => {\n            switch (evt.code) {\n                case InteractionKeyCode.ARROW_DOWN:\n                case InteractionKeyCode.ARROW_LEFT:\n                case InteractionKeyCode.ARROW_RIGHT:\n                case InteractionKeyCode.ARROW_UP:\n                case InteractionKeyCode.END:\n                case InteractionKeyCode.ESCAPE:\n                case InteractionKeyCode.HOME:\n                case InteractionKeyCode.PAGE_DOWN:\n                case InteractionKeyCode.PAGE_UP:\n                case InteractionKeyCode.TAB:\n                    cancelAnimationFrame(raf as number);\n                    raf = requestAnimationFrame(() => {\n                        raf = requestAnimationFrame(() => {\n                            interactionKeyPressed.current = false;\n                            raf = undefined;\n                        });\n                    });\n                    interactionKeyPressed.current = true;\n                    break;\n            }\n            if (evt.code === InteractionKeyCode.TAB) {\n                evt.preventDefault();\n                tabbableRoot.current = evt.shiftKey ? -1 : 1;\n            } else if (evt.code === InteractionKeyCode.ESCAPE) onEscape(true);\n        };\n    }, []);\n\n    return useReflex<Element>(\n        useCallback((current, previous) => {\n            if (previous instanceof Element) {\n                (previous as HTMLElement).removeEventListener('keydown', onKeyDownCapture, true);\n                (previous as HTMLElement).removeEventListener('focusin', onFocusInCapture, true);\n                (previous as HTMLElement).removeEventListener('focusout', onFocusOutCapture, true);\n                (current as HTMLElement).removeEventListener('click', onClickCapture, true);\n            }\n\n            if (current instanceof Element) {\n                (current as HTMLElement).addEventListener('keydown', onKeyDownCapture, true);\n                (current as HTMLElement).addEventListener('focusin', onFocusInCapture, true);\n                (current as HTMLElement).addEventListener('focusout', onFocusOutCapture, true);\n                (current as HTMLElement).addEventListener('click', onClickCapture, true);\n                escapedFocus.current = false;\n                tabbableRoot.root = current;\n            } else tabbableRoot.root = null;\n        }, []),\n        rootElementRef\n    );\n};\n\nexport default useFocusTrap;\n","import { enumerable, isUndefined, struct, structFrom } from '../../../../utils';\n\ntype ObserverCallback = (entry: IntersectionObserverEntry) => void;\n\ninterface WithIntersectionObserver {\n    remove: (this: { observerCallback: ObserverCallback }) => void;\n}\n\ninterface ObserverInstance {\n    observerCallback: ObserverCallback;\n    observer: IntersectionObserver;\n}\n\nconst getIntersectionObserver = (() => {\n    const observerCallbackMap = new WeakMap<ObserverCallback, ObserverInstance & WithIntersectionObserver>();\n\n    const withIntersectionObserver = struct({\n        remove: enumerable(function () {\n            remove(this.observerCallback);\n        } as WithIntersectionObserver['remove']),\n    }) as WithIntersectionObserver;\n\n    const findObserver = (callbackFn: ObserverCallback) => {\n        let observerInstance = observerCallbackMap.get(callbackFn);\n\n        if (isUndefined(observerInstance)) {\n            const observer = new IntersectionObserver(\n                entries => {\n                    entries.forEach(entry => {\n                        if (callbackFn) callbackFn(entry);\n                    });\n                },\n                { root: null, rootMargin: '', threshold: [1] }\n            );\n\n            observerInstance = structFrom(withIntersectionObserver, {\n                observerCallback: enumerable(callbackFn),\n                observer: enumerable(observer),\n            }) as ObserverInstance & WithIntersectionObserver;\n\n            observerCallbackMap.set(callbackFn, observerInstance);\n        }\n\n        return observerInstance;\n    };\n\n    const remove = (callbackFn: ObserverCallback) => {\n        const currentObserver = observerCallbackMap.get(callbackFn);\n        currentObserver?.observer.disconnect();\n        observerCallbackMap.delete(callbackFn);\n    };\n\n    return findObserver;\n})();\n\nexport default getIntersectionObserver;\n","import { PopoverContainerPosition, PopoverContainerVariant } from '../../components/internal/Popover/types';\nimport getIntersectionObserver from '../../components/internal/Popover/utils/utils';\nimport { MutableRef, useCallback, useEffect, useRef, useState } from 'preact/hooks';\nimport { Ref } from 'preact';\nimport type { Reflexable } from '../../primitives/reactive/reflex';\nimport type { Nullable } from '../../utils/types';\nimport useReflex from '../useReflex';\nimport { isRefObject } from '../../primitives/reactive/reflex/helpers';\n\nconst calculateOffset = ({\n    popover,\n    offset,\n    targetElement,\n    position,\n    variant,\n    fullWidth,\n}: {\n    popover: Element;\n    offset: [number, number, number, number];\n    targetElement: MutableRef<Element | null>;\n    position: PopoverContainerPosition;\n    variant: PopoverContainerVariant;\n    fullWidth: boolean;\n}) => {\n    const currentTarget = targetElement?.current as HTMLElement;\n\n    let dimensionX = 0;\n    let dimensionY = 0;\n    const targetPosition = currentTarget.getBoundingClientRect();\n    const bodyPosition = document.body.getBoundingClientRect();\n\n    const popoverContent = popover?.firstChild as HTMLElement;\n    const toCenterFullWidth = bodyPosition.left + bodyPosition.width / 2 - popoverContent.offsetWidth / 2;\n    const toCenterX = targetPosition.left + targetPosition.width / 2 - popoverContent.offsetWidth / 2;\n    const toCenterY = targetPosition.top + targetPosition.height / 2 - popoverContent.offsetHeight / 2;\n    switch (position) {\n        case PopoverContainerPosition.BOTTOM:\n            dimensionX = fullWidth\n                ? toCenterFullWidth\n                : variant === PopoverContainerVariant.TOOLTIP\n                ? toCenterX + window.scrollX\n                : targetPosition?.left + window.scrollX;\n            dimensionY = targetPosition?.top + targetPosition?.height + window.scrollY + offset[1];\n            break;\n        case PopoverContainerPosition.BOTTOM_LEFT:\n            dimensionX = targetPosition?.right + window.scrollX - popover.clientWidth;\n            dimensionY = targetPosition?.top + targetPosition?.height + window.scrollY + offset[1];\n            break;\n        case PopoverContainerPosition.TOP:\n            dimensionX = variant === PopoverContainerVariant.TOOLTIP ? toCenterX + window.scrollX : targetPosition.left + window.scrollX;\n            dimensionY = targetPosition?.top - popoverContent?.clientHeight + window.scrollY - offset[0];\n            break;\n        case PopoverContainerPosition.RIGHT:\n            dimensionX = targetPosition.left + targetPosition.width + window.scrollX + offset[2];\n            dimensionY =\n                variant === PopoverContainerVariant.TOOLTIP\n                    ? toCenterY + window.scrollY\n                    : targetPosition?.top - targetPosition?.height / 2 + window.scrollY;\n            break;\n        case PopoverContainerPosition.LEFT:\n            dimensionX = targetPosition?.left - popover?.clientWidth + window.scrollX - offset[3];\n            dimensionY =\n                variant === PopoverContainerVariant.TOOLTIP\n                    ? toCenterY + window.scrollY\n                    : targetPosition?.top + window.scrollY - targetPosition?.height / 2;\n            break;\n    }\n\n    const result = [dimensionX, dimensionY, 0];\n\n    const res = result.reduce((acc, currentVal, index) => {\n        if (index === 0) {\n            return acc + `${currentVal}px,`;\n        } else if (index === result.length - 1) {\n            return acc + ` ${currentVal}px)`;\n        } else {\n            return acc + ` ${currentVal}px,`;\n        }\n    }, 'translate3d(');\n\n    return `position:absolute;inset:0 auto auto 0;margin: 0;transform: ${res};visibility:hidden`;\n};\nconst usePopoverPositioner = (\n    offset: [number, number, number, number],\n    targetElement: MutableRef<Element | null>,\n    variant: PopoverContainerVariant,\n    position?: PopoverContainerPosition,\n    arrowRef?: Ref<HTMLSpanElement> | undefined,\n    setToTargetWidth?: boolean,\n    showOverlay?: boolean,\n    fitPosition?: boolean,\n    ref?: Nullable<Reflexable<Element>>\n) => {\n    const [initialPosition, setInitialPosition] = useState(true);\n    const [showPopover, setShowPopover] = useState(fitPosition ? !fitPosition : !!position);\n    const [currentPosition, setCurrentPosition] = useState(position || PopoverContainerPosition.TOP);\n    const [checkedPositions, setCheckedPosition] = useState<Array<[PopoverContainerPosition, number]>>([]);\n\n    const observerCallback = useCallback(\n        (entry: IntersectionObserverEntry) => {\n            if (entry.intersectionRatio === 1) return setShowPopover(true);\n            if (!initialPosition && entry.intersectionRatio !== 1) {\n                if (checkedPositions && checkedPositions.length === (fitPosition ? 5 : 4)) {\n                    const bestPos = checkedPositions.reduce((res, pos) => {\n                        if (pos[1] > res[1]) return pos;\n                        return res;\n                    }, checkedPositions[0]!);\n                    setCurrentPosition(bestPos[0]);\n                    setShowPopover(true);\n                    return;\n                }\n                setShowPopover(false);\n                switch (currentPosition) {\n                    case PopoverContainerPosition.TOP:\n                        setCheckedPosition(value => [...value, [PopoverContainerPosition.TOP, entry.intersectionRatio]]);\n                        setCurrentPosition(PopoverContainerPosition.BOTTOM);\n                        break;\n                    case PopoverContainerPosition.BOTTOM:\n                        setCheckedPosition(value => [...value, [PopoverContainerPosition.BOTTOM, entry.intersectionRatio]]);\n                        setCurrentPosition(fitPosition ? PopoverContainerPosition.BOTTOM_LEFT : PopoverContainerPosition.RIGHT);\n                        break;\n                    case PopoverContainerPosition.BOTTOM_LEFT:\n                        setCheckedPosition(value => [...value, [PopoverContainerPosition.BOTTOM, entry.intersectionRatio]]);\n                        setCurrentPosition(PopoverContainerPosition.RIGHT);\n                        break;\n                    case PopoverContainerPosition.RIGHT:\n                        setCheckedPosition(value => [...value, [PopoverContainerPosition.RIGHT, entry.intersectionRatio]]);\n                        setCurrentPosition(PopoverContainerPosition.LEFT);\n                        break;\n                    case PopoverContainerPosition.LEFT:\n                        setCheckedPosition(value => [...value, [PopoverContainerPosition.LEFT, entry.intersectionRatio]]);\n                        setCurrentPosition(PopoverContainerPosition.TOP);\n                        break;\n                }\n            }\n        },\n        [initialPosition, checkedPositions, currentPosition, fitPosition]\n    );\n    const observerCallbackRef = useRef(observerCallback);\n\n    useEffect(() => {\n        getIntersectionObserver(observerCallbackRef.current).remove();\n        observerCallbackRef.current = observerCallback;\n    }, [observerCallback]);\n\n    return useReflex<Element>(\n        useCallback(\n            (current, previous) => {\n                if (previous && (!position || fitPosition)) {\n                    const observer = getIntersectionObserver(observerCallback).observer;\n                    observer.unobserve(previous);\n                }\n\n                if (current && targetElement.current) {\n                    if (!position || fitPosition) {\n                        const observer = getIntersectionObserver(observerCallback).observer;\n                        observer.observe(current);\n                    }\n                    if (!(current instanceof Element)) return;\n                    const popoverStyle = calculateOffset({\n                        popover: current,\n                        offset,\n                        targetElement,\n                        position: currentPosition,\n                        variant,\n                        fullWidth: showOverlay ?? false,\n                    });\n                    const style = showPopover ? popoverStyle + ';visibility:visible' : popoverStyle;\n\n                    const styleWithWidth = setToTargetWidth\n                        ? style + ';min-width:fit-content;width:' + targetElement.current?.clientWidth + 'px'\n                        : style;\n                    current.setAttribute('style', `${styleWithWidth}`);\n\n                    if (initialPosition) setInitialPosition(false);\n\n                    if (variant && variant === PopoverContainerVariant.TOOLTIP && arrowRef && isRefObject(arrowRef)) {\n                        arrowRef.current?.setAttribute('data-popover-placement', currentPosition);\n                    }\n                }\n            },\n            [\n                offset,\n                targetElement,\n                currentPosition,\n                position,\n                variant,\n                observerCallback,\n                showPopover,\n                initialPosition,\n                setToTargetWidth,\n                arrowRef,\n                showOverlay,\n                fitPosition,\n            ]\n        ),\n        ref\n    );\n};\n\nexport default usePopoverPositioner;\n","import { uniqueId } from '../../utils';\nimport { useCallback, useRef } from 'preact/hooks';\nimport type { Reflexable } from '../../primitives/reactive/reflex';\nimport type { Nullable } from '../../utils/types';\nimport useReflex from '../useReflex';\n\nconst useUniqueIdentifier = (ref?: Nullable<Reflexable<Element>>) => {\n    const id = useRef<string>();\n\n    return useReflex<Element>(\n        useCallback(\n            (current, previous) => {\n                if (previous instanceof Element && previous.id === id.current) previous.id = '';\n                if (!(current instanceof Element)) return;\n                current.id = id.current || (id.current = uniqueId());\n            },\n            [ref]\n        ),\n        ref\n    );\n};\n\nexport default useUniqueIdentifier;\n","import ButtonActions from '../Button/ButtonActions/ButtonActions';\nimport { ButtonActionsLayoutBasic } from '../Button/ButtonActions/types';\nimport {\n    DEFAULT_POPOVER_CLASSNAME,\n    DEFAULT_TOOLTIP_CLASSNAME,\n    POPOVER_CONTAINER_CLASSNAME,\n    POPOVER_CONTENT_CLASSNAME,\n    POPOVER_FOOTER_CLASSNAME,\n    POPOVER_HEADER_CLASSNAME,\n    POPOVER_HEADER_TITLE_CLASSNAME,\n    TOOLTIP_CONTENT_CLASSNAME,\n} from './constants';\nimport PopoverDismissButton from './PopoverDismissButton/PopoverDismissButton';\nimport PopoverTitle from './PopoverTitle/PopoverTitle';\nimport { PopoverContainerSize, PopoverContainerVariant, PopoverProps } from './types';\nimport { InteractionKeyCode } from '../../types';\nimport { ClickOutsideVariant, CONTROL_ELEMENT_PROPERTY, useClickOutside } from '../../../hooks/element/useClickOutside';\nimport useFocusTrap from '../../../hooks/element/useFocusTrap';\nimport usePopoverPositioner from '../../../hooks/element/usePopoverPositioner';\nimport useUniqueIdentifier from '../../../hooks/element/useUniqueIdentifier';\nimport useReflex from '../../../hooks/useReflex';\nimport { getModifierClasses } from '../../../utils/preact';\nimport { boolOrTrue, isFunction } from '../../../utils';\nimport { isFocusable, SELECTORS } from '../../../primitives/dom/tabbableRoot/tabbable';\nimport classNames from 'classnames';\nimport { createPortal, PropsWithChildren } from 'preact/compat';\nimport { useCallback, useEffect, useMemo, useRef } from 'preact/hooks';\nimport { Ref } from 'preact';\nimport './Popover.scss';\n\nconst findFirstFocusableElement = (root: Element) => {\n    let focusable: HTMLElement | undefined;\n    const elements = root.querySelector(`.${TOOLTIP_CONTENT_CLASSNAME}`)?.querySelectorAll(SELECTORS);\n    if (elements) {\n        Array.prototype.some.call(elements, elem => {\n            if (isFocusable(elem)) return (focusable = elem);\n        });\n        return focusable;\n    }\n    return null;\n};\n\nconst getGapByVariant = (variant: PopoverContainerVariant): [number, number, number, number] => {\n    return variant === PopoverContainerVariant.TOOLTIP ? [10, 3, 5, 5] : [15, 15, 15, 15];\n};\n\nfunction Popover({\n    actions,\n    disableFocusTrap = false,\n    actionsLayout = ButtonActionsLayoutBasic.SPACE_BETWEEN,\n    variant = PopoverContainerVariant.TOOLTIP,\n    title,\n    open,\n    dismissible,\n    modifiers,\n    divider,\n    fitContent,\n    withoutSpace,\n    containerSize,\n    position,\n    targetElement,\n    setToTargetWidth,\n    dismiss,\n    children,\n    withContentPadding,\n    classNameModifiers,\n    showOverlay = false,\n    fitPosition,\n    ...uncontrolledProps\n}: PropsWithChildren<PopoverProps>) {\n    const isDismissible = useMemo(() => isFunction(dismiss) && boolOrTrue(dismissible), [dismiss, dismissible]);\n    const arrowRef = useUniqueIdentifier() as Ref<HTMLSpanElement> | undefined;\n    const popoverOpen = useRef<boolean>();\n\n    const onCloseFocusTrap = useCallback(\n        (interactionKeyPressed: boolean) => {\n            dismiss && dismiss();\n            if (interactionKeyPressed) {\n                (targetElement?.current as HTMLElement)?.focus();\n            }\n        },\n        [dismiss, targetElement]\n    );\n\n    const onKeyDown = useCallback(\n        (e: KeyboardEvent) => {\n            if (e.code === InteractionKeyCode.ESCAPE) {\n                dismiss && dismiss();\n                (targetElement?.current as HTMLElement).focus();\n            }\n        },\n        [dismiss, targetElement]\n    );\n\n    const cachedOnKeyDown = useRef(onKeyDown);\n    const autoFocusAnimFrame = useRef<ReturnType<typeof requestAnimationFrame>>();\n\n    const popoverPositionAnchorElement = useClickOutside(\n        usePopoverPositioner(getGapByVariant(variant), targetElement, variant, position, arrowRef, setToTargetWidth, showOverlay, fitPosition),\n        dismiss,\n        variant === PopoverContainerVariant.TOOLTIP && !open,\n        ClickOutsideVariant.POPOVER\n    );\n    const popoverFocusTrapElement = useFocusTrap(disableFocusTrap ? null : popoverPositionAnchorElement, onCloseFocusTrap);\n\n    const popoverElement = useReflex<Element & { [CONTROL_ELEMENT_PROPERTY]?: (typeof targetElement)['current'] }>(\n        useCallback(\n            (current, previous) => {\n                if (previous instanceof Element) {\n                    previous[CONTROL_ELEMENT_PROPERTY] = undefined;\n                    delete previous[CONTROL_ELEMENT_PROPERTY];\n                }\n                if (current instanceof Element) {\n                    current[CONTROL_ELEMENT_PROPERTY] = targetElement.current;\n                    cancelAnimationFrame(autoFocusAnimFrame.current!);\n\n                    autoFocusAnimFrame.current = requestAnimationFrame(() => {\n                        if (popoverOpen.current === open) return;\n                        if (!(popoverOpen.current = open)) return;\n                        const focusable = findFirstFocusableElement(current) as HTMLElement;\n                        focusable?.focus();\n                    });\n                }\n            },\n            [open, targetElement]\n        ),\n        disableFocusTrap ? popoverPositionAnchorElement : popoverFocusTrapElement\n    );\n\n    const popoverElementWithId = useUniqueIdentifier(popoverElement);\n\n    const conditionalClasses = useMemo(\n        () => ({\n            [`${DEFAULT_POPOVER_CLASSNAME}--medium`]: containerSize === PopoverContainerSize.MEDIUM,\n            [`${DEFAULT_POPOVER_CLASSNAME}--with-divider`]: !!divider,\n            [`${DEFAULT_POPOVER_CLASSNAME}--wide`]: containerSize === PopoverContainerSize.WIDE,\n            [`${DEFAULT_POPOVER_CLASSNAME}--fit-content`]: fitContent,\n            [`${DEFAULT_POPOVER_CLASSNAME}--without-space`]: withoutSpace,\n            [`${DEFAULT_POPOVER_CLASSNAME}--auto-width`]: showOverlay,\n        }),\n        [containerSize, divider, withoutSpace, fitContent, showOverlay]\n    );\n\n    useEffect(() => {\n        if (popoverElement.current) popoverElement.current[CONTROL_ELEMENT_PROPERTY] = targetElement.current;\n    }, [targetElement]);\n\n    useEffect(() => {\n        document.removeEventListener('keydown', cachedOnKeyDown.current);\n        document.addEventListener('keydown', (cachedOnKeyDown.current = onKeyDown));\n        return () => document.removeEventListener('keydown', cachedOnKeyDown.current);\n    }, [onKeyDown]);\n\n    const classNamesByVariant =\n        variant === PopoverContainerVariant.TOOLTIP ? DEFAULT_TOOLTIP_CLASSNAME : `${DEFAULT_POPOVER_CLASSNAME} ${POPOVER_CONTAINER_CLASSNAME}`;\n    const classNamesContentByVariant = variant === PopoverContainerVariant.TOOLTIP ? TOOLTIP_CONTENT_CLASSNAME : `${POPOVER_CONTENT_CLASSNAME}`;\n\n    return createPortal(\n        <>\n            {open ? (\n                <>\n                    {showOverlay && <div className=\"adyen-pe-popover__overlay\"></div>}\n                    <div\n                        id=\"popover\"\n                        ref={popoverElementWithId}\n                        {...uncontrolledProps}\n                        className={classNames(classNamesByVariant, conditionalClasses, classNameModifiers)}\n                        style={{ visibility: 'hidden' }}\n                        role={uncontrolledProps.role ?? (variant === PopoverContainerVariant.POPOVER ? 'dialog' : 'tooltip')}\n                    >\n                        {(title || isDismissible) && (\n                            <div className={getModifierClasses(POPOVER_HEADER_CLASSNAME, modifiers, [POPOVER_HEADER_CLASSNAME])}>\n                                {title && (\n                                    <div className={POPOVER_HEADER_TITLE_CLASSNAME}>\n                                        <PopoverTitle title={title} />\n                                    </div>\n                                )}\n                                {isDismissible && <PopoverDismissButton onClick={dismiss!} />}\n                            </div>\n                        )}\n                        {children && (\n                            <>\n                                <div\n                                    className={classNames(classNamesContentByVariant, {\n                                        [`${POPOVER_CONTENT_CLASSNAME}--with-padding`]: withContentPadding,\n                                        [`${POPOVER_CONTENT_CLASSNAME}--overlay`]: showOverlay,\n                                    })}\n                                >\n                                    {children}\n                                </div>\n                                {variant === PopoverContainerVariant.TOOLTIP && (\n                                    <span data-popover-placement=\"hidden\" ref={arrowRef} className=\"adyen-pe-tooltip__arrow\" />\n                                )}\n                            </>\n                        )}\n                        {actions && (\n                            <div className={POPOVER_FOOTER_CLASSNAME}>\n                                <ButtonActions actions={actions} layout={actionsLayout} />\n                            </div>\n                        )}\n                    </div>\n                </>\n            ) : null}\n        </>,\n        document.getElementsByTagName('body')[0]!\n    );\n}\nexport default Popover;\n","import { useCallback } from 'preact/hooks';\nimport { InteractionKeyCode } from '../../types';\nimport useBooleanState from '../../../hooks/useBooleanState';\n\nexport interface TooltipListeners {\n    onfocusoutCapture(): void;\n    onMouseLeave(): void;\n    onKeyDown(evt: Event): void;\n    onFocus(): void;\n    onMouseEnter(): void;\n}\nexport const useTooltipListeners = (): {\n    isVisible: boolean;\n    listeners: TooltipListeners;\n} => {\n    const [isVisible, setIsVisible] = useBooleanState();\n    const showTooltip = useCallback(() => setIsVisible(true), [setIsVisible]);\n    const hideTooltip = useCallback(() => setIsVisible(false), [setIsVisible]);\n\n    const onKeyDown = useCallback(\n        (evt: KeyboardEvent) => {\n            switch (evt.code) {\n                case InteractionKeyCode.ESCAPE:\n                    hideTooltip();\n                    break;\n                default:\n                    break;\n            }\n        },\n        [hideTooltip]\n    );\n\n    return {\n        listeners: {\n            onfocusoutCapture: hideTooltip,\n            onMouseLeave: hideTooltip,\n            onKeyDown,\n            onFocus: showTooltip,\n            onMouseEnter: showTooltip,\n        },\n        isVisible,\n    };\n};\n","import { mediaQueries, useResponsiveViewport } from '../../../hooks/useResponsiveViewport';\nimport Popover from '../Popover/Popover';\nimport { PopoverContainerVariant } from '../Popover/types';\nimport { useTooltipListeners } from './useTooltipListeners';\nimport { TypographyVariant } from '../Typography/types';\nimport Typography from '../Typography/Typography';\nimport useUniqueIdentifier from '../../../hooks/element/useUniqueIdentifier';\nimport classNames from 'classnames';\nimport { cloneElement, VNode } from 'preact';\nimport { PropsWithChildren } from 'preact/compat';\nimport { MutableRef } from 'preact/hooks';\nimport { TooltipProps } from './types';\nimport './Tooltip.scss';\n\nconst isString = (content: string | VNode<any>) => {\n    return typeof content === 'string';\n};\n\nexport const Tooltip = ({ content, children, triggerRef, showTooltip, position, isContainerHovered = false }: PropsWithChildren<TooltipProps>) => {\n    const controllerRef = useUniqueIdentifier();\n    const isMdViewport = useResponsiveViewport(mediaQueries.down.sm);\n    const { isVisible, listeners } = useTooltipListeners();\n\n    if (isMdViewport) return <>{children}</>;\n\n    return (\n        <>\n            {children\n                ? cloneElement(children, {\n                      ...children?.props,\n                      role: 'button',\n                      tabIndex: -1,\n                      ref: controllerRef,\n                      className: children?.props?.className\n                          ? classNames(`${children?.props?.className} adyen-pe__tooltip-target`, {\n                                ' adyen-pe__tooltip-target--hovered': isContainerHovered,\n                            })\n                          : classNames('adyen-pe__tooltip-target', { 'adyen-pe__tooltip-target--hovered': isContainerHovered }),\n                      ...listeners,\n                      'aria-describedby': `tooltip-${controllerRef.current?.id}`,\n                  })\n                : null}\n\n            {(isVisible || showTooltip) && (\n                <Popover\n                    variant={PopoverContainerVariant.TOOLTIP}\n                    targetElement={(triggerRef ?? controllerRef) as MutableRef<Element | null>}\n                    position={position}\n                    open={isVisible || showTooltip}\n                >\n                    <>{content && isString(content) ? <Typography variant={TypographyVariant.CAPTION}>{content}</Typography> : { content }}</>\n                </Popover>\n            )}\n        </>\n    );\n};\n","import useCoreContext from '../../../../../core/Context/useCoreContext';\nimport { Tooltip } from '../../../../internal/Tooltip/Tooltip';\nimport { TypographyVariant } from '../../../../internal/Typography/types';\nimport Typography from '../../../../internal/Typography/Typography';\nimport { CategoryProps } from './types';\n\nfunction Category({ value, isContainerHovered }: CategoryProps) {\n    const { i18n } = useCoreContext();\n\n    const tooltipKey = `tooltip.${value}`;\n\n    return (\n        <>\n            {i18n.has(tooltipKey) && (\n                <Tooltip content={i18n.get(tooltipKey)} isContainerHovered={isContainerHovered}>\n                    <span>\n                        <Typography variant={TypographyVariant.BODY}>\n                            {i18n.has(`txType.${value}`) ? i18n.get(`txType.${value}`) : `${value}`}\n                        </Typography>\n                    </span>\n                </Tooltip>\n            )}\n        </>\n    );\n}\n\nexport default Category;\n","import AdyenPlatformExperienceError from '../../core/Errors/AdyenPlatformExperienceError';\nimport { TranslationKey } from '../../translations';\nimport { JSXInternal } from 'preact/src/jsx';\n\nexport type ErrorMessage = {\n    title: TranslationKey;\n    message?: TranslationKey | TranslationKey[];\n    refreshComponent?: boolean;\n    onContactSupport?: () => void;\n    translationValues?: { [k in TranslationKey]?: JSXInternal.Element | null };\n};\n\nexport const UNDEFINED_ERROR = { title: 'thereWasAnUnexpectedError', message: ['contactSupportForHelp'] } satisfies ErrorMessage;\n\nexport const getCommonErrorMessage = (error: AdyenPlatformExperienceError | undefined, onContactSupport?: () => void): ErrorMessage | null => {\n    if (!error) return null;\n    switch (error.errorCode) {\n        case '29_001':\n            return {\n                title: 'theRequestIsMissingRequiredFieldsOrContainsInvalidData',\n                message: ['contactSupportForHelp'],\n                onContactSupport,\n            };\n        case '30_112':\n            return {\n                title: 'entityWasNotFound',\n                message: ['entityWasNotFoundDetail'],\n                onContactSupport,\n            };\n        case '00_403':\n            return UNDEFINED_ERROR;\n        default:\n            return null;\n    }\n};\n","import cx from 'classnames';\nimport { useCallback, useState } from 'preact/hooks';\nimport useCoreContext from '../../../core/Context/useCoreContext';\nimport Button from '../Button';\nimport { ButtonVariant } from '../Button/types';\nimport Icon from '../Icon';\nimport { Tooltip } from '../Tooltip/Tooltip';\nimport './CopyText.scss';\n\nconst CopyText = ({\n    textToCopy,\n    isHovered,\n    buttonLabel,\n    showCopyTextTooltip = true,\n    type = 'Link',\n}: {\n    textToCopy: string;\n    isHovered?: boolean;\n    buttonLabel?: string;\n    showCopyTextTooltip?: boolean;\n    type?: 'Link' | 'Text' | 'Default';\n}) => {\n    const { i18n } = useCoreContext();\n\n    const [tooltipLabel, setTooltipLabel] = useState(i18n.get('copy'));\n\n    const onClick = useCallback(async () => {\n        if (textToCopy) {\n            try {\n                await navigator.clipboard.writeText(textToCopy);\n                setTooltipLabel(i18n.get('copied'));\n            } catch (e) {\n                console.log(e);\n            }\n        }\n    }, [i18n, textToCopy]);\n\n    const resetTooltipLabel = useCallback(() => {\n        setTooltipLabel(i18n.get('copy'));\n    }, [i18n]);\n\n    return (\n        <span\n            className={cx('adyen-pe-copy-text__container', {\n                ['adyen-pe-copy-text__container--information']: type === 'Link',\n            })}\n        >\n            {showCopyTextTooltip ? (\n                <Tooltip content={textToCopy} isContainerHovered={isHovered}>\n                    <span\n                        className={cx({\n                            ['adyen-pe-copy-text__label']: type !== 'Default',\n                            ['adyen-pe-copy-text__information']: type === 'Link',\n                            ['adyen-pe-copy-text__text']: type === 'Text',\n                        })}\n                    >\n                        {buttonLabel || textToCopy}\n                    </span>\n                </Tooltip>\n            ) : (\n                <span\n                    className={cx({\n                        ['adyen-pe-copy-text__label']: type !== 'Default',\n                        ['adyen-pe-copy-text__information']: type === 'Link',\n                        ['adyen-pe-copy-text__text']: type === 'Text',\n                    })}\n                >\n                    {buttonLabel || textToCopy}\n                </span>\n            )}\n            <Tooltip content={tooltipLabel}>\n                <Button\n                    variant={ButtonVariant.TERTIARY}\n                    className=\"adyen-pe-copy-text\"\n                    onClick={onClick}\n                    onBlur={resetTooltipLabel}\n                    onMouseLeaveCapture={resetTooltipLabel}\n                >\n                    <div\n                        className={cx('adyen-pe-copy-text__icon', {\n                            ['adyen-pe-copy-text__icon--information']: type === 'Link',\n                        })}\n                    >\n                        <Icon name={'copy'} />\n                    </div>\n                </Button>\n            </Tooltip>\n        </span>\n    );\n};\n\nexport default CopyText;\n","import { ErrorMessage, getCommonErrorMessage, UNDEFINED_ERROR } from './getCommonErrorCode';\nimport AdyenPlatformExperienceError from '../../core/Errors/AdyenPlatformExperienceError';\nimport CopyText from '../internal/CopyText/CopyText';\nimport { TranslationKey } from '../../translations';\n\nexport const getErrorMessage = (\n    error: AdyenPlatformExperienceError | undefined,\n    errorMessage: TranslationKey,\n    onContactSupport?: () => void\n): ErrorMessage => {\n    if (!error) return UNDEFINED_ERROR;\n    const commonError = getCommonErrorMessage(error, onContactSupport);\n    if (commonError) return commonError;\n    switch (error.errorCode) {\n        case undefined:\n            return {\n                title: 'somethingWentWrong',\n                message: [errorMessage, 'tryRefreshingThePageOrComeBackLater'],\n                refreshComponent: true,\n            };\n        case '00_500': {\n            const secondaryErrorMessage = onContactSupport ? 'theErrorCodeIs' : 'contactSupportForHelpAndShareErrorCode';\n            return {\n                title: 'somethingWentWrong',\n                message: [errorMessage, secondaryErrorMessage],\n                translationValues: {\n                    [secondaryErrorMessage]: error.requestId ? <CopyText textToCopy={error.requestId} /> : null,\n                },\n                onContactSupport,\n            };\n        }\n        default:\n            return UNDEFINED_ERROR;\n    }\n};\n","import { ErrorMessageDisplay } from '../ErrorMessageDisplay/ErrorMessageDisplay';\nimport { getErrorMessage } from '../../utils/getErrorMessage';\nimport AdyenPlatformExperienceError from '../../../core/Errors/AdyenPlatformExperienceError';\nimport { TranslationKey } from '../../../translations';\n\nconst DataOverviewError = ({\n    error,\n    errorMessage,\n    onContactSupport,\n}: {\n    error: AdyenPlatformExperienceError | undefined;\n    errorMessage: TranslationKey;\n    onContactSupport?: () => void;\n}) => {\n    const {\n        title,\n        message,\n        refreshComponent,\n        translationValues,\n        onContactSupport: ContactSupport,\n    } = getErrorMessage(error, errorMessage, onContactSupport);\n\n    return (\n        <ErrorMessageDisplay\n            title={title}\n            message={message}\n            translationValues={translationValues}\n            withImage\n            centered\n            refreshComponent={refreshComponent}\n            onContactSupport={ContactSupport}\n        />\n    );\n};\n\nexport default DataOverviewError;\n","import { createContext } from 'preact';\nimport { useContext } from 'preact/hooks';\nimport { DataGridContextProps } from '../types';\nimport { EMPTY_OBJECT } from '../../../../utils';\n\nexport const DataGridContext = createContext<DataGridContextProps>(EMPTY_OBJECT as any);\n\nexport const useDataGridContext = () => useContext(DataGridContext);\n","import { ComponentChildren, VNode } from 'preact';\nimport { CustomCell } from './DataGrid';\nimport { TranslationKey } from '../../../translations';\nimport { DataGridIcon } from '../../types';\nimport { StringWithAutocompleteOptions } from '../../../utils/types';\n\nexport enum CellTextPosition {\n    CENTER = 'center',\n    RIGHT = 'right',\n}\n\nexport interface DataGridColumn<Item> {\n    label: string;\n    key: StringWithAutocompleteOptions<Item>;\n    position?: CellTextPosition;\n    visible?: boolean;\n    minWidth?: number;\n    flex?: number;\n}\n\nexport interface DataGridProps<\n    Item extends Array<any>,\n    Columns extends Array<DataGridColumn<Extract<keyof Item[number], string>>>,\n    ClickedField extends keyof Item[number],\n    CustomCells extends CustomCell<Item, Columns, Columns[number]>\n> {\n    children?: ComponentChildren;\n    columns: Columns;\n    condensed: boolean;\n    data: Item | undefined;\n    loading: boolean;\n    outline: boolean;\n    scrollable: boolean;\n    Footer?: any;\n    onRowClick?: {\n        callback: (\n            value: Item[number][ClickedField] extends NonNullable<Item[number][ClickedField]> ? Item[number][ClickedField] : Item[number]\n        ) => void;\n        retrievedField?: ClickedField;\n    };\n    onRowHover?: (index?: number) => void;\n    customCells?: CustomCells;\n    emptyTableMessage?: {\n        title: TranslationKey;\n        message?: TranslationKey | TranslationKey[];\n    };\n    error?: Error | undefined;\n    errorDisplay?: () => VNode<any>;\n}\n\nexport interface InteractiveBodyProps<\n    Items extends any[],\n    Columns extends Array<DataGridColumn<Extract<keyof Items[number], string & {}>>>,\n    ClickedField extends keyof Items[number],\n    CustomCells extends CustomCell<Items, Columns, Columns[number]>\n> {\n    onRowClick?: DataGridProps<Items, Columns, ClickedField, CustomCells>['onRowClick'];\n    data: DataGridProps<Items, Columns, ClickedField, CustomCells>['data'];\n    columns: DataGridProps<Items, Columns, ClickedField, CustomCells>['columns'];\n    customCells: DataGridProps<Items, Columns, ClickedField, CustomCells>['customCells'];\n    onRowHover?: (index?: number) => void;\n}\n\nexport interface DataGridContextProps {\n    registerCells: (props: { column: string; width: number }) => void;\n    getMinWidthByColumn: (column: string) => number | undefined;\n}\n","import { HTMLAttributes, PropsWithChildren } from 'preact/compat';\nimport { useDataGridContext } from './hooks/useDataGridContext';\nimport { useEffect, useRef } from 'preact/hooks';\nimport { cloneElement, isValidElement } from 'preact';\nimport cx from 'classnames';\nimport { CellTextPosition } from './types';\n\nexport default function DataGridCell({\n    children,\n    column,\n    position,\n    ...props\n}: PropsWithChildren<HTMLAttributes<HTMLDivElement>> & { column: string; position?: string }) {\n    const { registerCells } = useDataGridContext();\n    const ref = useRef<HTMLDivElement>(null);\n\n    useEffect(() => {\n        if (ref.current) {\n            registerCells({\n                column,\n                width: ref.current?.getBoundingClientRect().width,\n            });\n        }\n    }, [column, registerCells]);\n\n    return (\n        <div\n            role=\"cell\"\n            className={cx('adyen-pe-data-grid__cell', {\n                'adyen-pe-data-grid__cell--right': position === CellTextPosition.RIGHT,\n                'adyen-pe-data-grid__cell--center': position === CellTextPosition.CENTER,\n            })}\n            {...props}\n        >\n            {children && isValidElement(children)\n                ? cloneElement(children, {\n                      ...children?.props,\n                      ref: ref,\n                      style: { width: 'min-content' },\n                  })\n                : null}\n        </div>\n    );\n}\n","import cx from 'classnames';\n\nconst Icon = ({ className, alt, url }: { className?: string; alt?: string; url: string }) => {\n    return (\n        <div className=\"adyen-pe-data-grid__icon-container\">\n            <img className={cx('adyen-pe-data-grid__icon', className)} alt={alt} src={url} />\n        </div>\n    );\n};\n\nexport default Icon;\n","import DataGridCell from '../DataGridCell';\nimport { DataGridColumn } from '../types';\nimport { CustomCell } from '../DataGrid';\nimport Icon from './Icon';\nimport { CustomDataObject } from '../../../types';\n\nexport const _isCustomDataObject = (item: any): item is CustomDataObject => {\n    return !!item && typeof item === 'object' && 'value' in item;\n};\n\nexport const TableCells = <\n    Items extends Array<any>,\n    Columns extends Array<DataGridColumn<Extract<keyof Items[number], string>>>,\n    CustomCells extends CustomCell<Items, Columns, Columns[number]>\n>({\n    columns,\n    customCells,\n    item,\n    rowIndex,\n}: {\n    columns: Columns;\n    customCells?: CustomCells;\n    item: Items[number];\n    rowIndex: number;\n}) => {\n    return (\n        <>\n            {columns.map(({ key, position }) => {\n                if (customCells?.[key])\n                    return (\n                        <DataGridCell aria-labelledby={String(key)} key={key} column={key} position={position}>\n                            <div style={{ width: 'min-content' }}>\n                                {\n                                    // TODO create safeguard to remove \"as any\" assertion\n                                    customCells[key]!({\n                                        key,\n                                        value: item[key],\n                                        item,\n                                        rowIndex,\n                                    } as any)\n                                }\n                            </div>\n                        </DataGridCell>\n                    );\n\n                // TODO: remove typecast as CustomDataObject\n                const { icon, value } = _isCustomDataObject(item[key]) ? (item[key] as CustomDataObject) : { value: item[key], icon: undefined };\n\n                return (\n                    <DataGridCell aria-labelledby={String(key)} key={key} column={key} position={position}>\n                        <div className=\"adyen-pe-data-grid__cell-value\">\n                            {icon?.url && <Icon {...icon} />}\n                            <div>{value}</div>\n                        </div>\n                    </DataGridCell>\n                );\n            })}\n        </>\n    );\n};\n","import useCoreContext from '../../../../core/Context/useCoreContext';\nimport { noop } from '../../../../utils';\nimport { TableCells } from './TableCells';\nimport { DataGridColumn, InteractiveBodyProps } from '../types';\nimport { CustomCell } from '../DataGrid';\n\nexport const TableBody = <\n    Items extends Array<any>,\n    Columns extends Array<DataGridColumn<Extract<keyof Items[number], string>>>,\n    ClickedField extends keyof Items[number],\n    CustomCells extends CustomCell<Items, Columns, Columns[number]>\n>({\n    data,\n    columns,\n    customCells,\n    onRowHover,\n}: Omit<InteractiveBodyProps<Items, Columns, ClickedField, CustomCells>, 'onRowClick'>) => {\n    const { i18n } = useCoreContext();\n    return (\n        <>\n            {data?.map((item, index) => (\n                <div\n                    role=\"row\"\n                    tabIndex={0}\n                    className=\"adyen-pe-data-grid__row\"\n                    key={item}\n                    onMouseEnter={i18n.has(`tooltip.${item?.category}`) && onRowHover ? () => onRowHover(index) : noop}\n                    onFocus={i18n.has(`tooltip.${item?.category}`) && onRowHover ? () => onRowHover(index) : noop}\n                    onMouseLeave={i18n.has(`tooltip.${item?.category}`) && onRowHover ? () => onRowHover() : noop}\n                    onBlur={i18n.has(`tooltip.${item?.category}`) && onRowHover ? () => onRowHover() : noop}\n                >\n                    <TableCells<Items, Columns, CustomCells> columns={columns} customCells={customCells} item={item} rowIndex={index} />\n                </div>\n            ))}\n        </>\n    );\n};\n","import { useCallback, useReducer } from 'preact/hooks';\nimport useReflex from '../../../../hooks/useReflex';\nimport { InteractionKeyCode } from '../../../types';\nimport { INITIAL_STATE } from '../DataGrid';\n\nexport const useInteractiveDataGrid = ({ totalRows }: { totalRows: number }) => {\n    const [state, dispatch] = useReducer<Readonly<{ activeIndex: number; index: number }>, { type: 'ACTIVE' | 'CURRENT'; index: number }>(\n        (currentState, action) => {\n            const total = totalRows;\n\n            if (total > 1) {\n                const nextIndex = action.index;\n\n                if (nextIndex < total && nextIndex! >= 0) {\n                    if (action.type === 'ACTIVE') {\n                        return Object.freeze({ ...currentState, index: action.index ?? 0, activeIndex: action.index });\n                    } else {\n                        return Object.freeze({ ...currentState, index: action.index ?? 0, activeIndex: -1 });\n                    }\n                }\n            }\n            return currentState;\n        },\n        INITIAL_STATE\n    );\n\n    const ref = useReflex<Element>(\n        useCallback(\n            current => {\n                if (!(current instanceof Element)) return;\n\n                const optionIndex = Number((current as HTMLElement).dataset?.index);\n\n                if ((state.activeIndex === -1 && optionIndex === 0) || optionIndex === state.index) {\n                    current.setAttribute('tabindex', '0');\n                } else {\n                    current.setAttribute('tabindex', '-1');\n                }\n                if (optionIndex === state.activeIndex) {\n                    (current as HTMLElement)?.focus();\n                }\n            },\n            [state.activeIndex, state.index]\n        )\n    );\n\n    const onKeyDownCapture = useCallback(\n        (evt: KeyboardEvent) => {\n            const isRow = (evt.target as HTMLElement)?.getAttribute('role') === 'row';\n            if (!isRow) {\n                if (evt.code === InteractionKeyCode.ARROW_LEFT) {\n                    dispatch({\n                        type: 'ACTIVE',\n                        index: state.index,\n                    });\n                }\n                return;\n            }\n            switch (evt.code) {\n                case InteractionKeyCode.ARROW_DOWN:\n                case InteractionKeyCode.ARROW_UP:\n                    dispatch({\n                        type: 'ACTIVE',\n                        index: evt.code === InteractionKeyCode.ARROW_DOWN ? state.index + 1 : state.index - 1,\n                    });\n                    break;\n                case InteractionKeyCode.HOME:\n                    dispatch({\n                        type: 'ACTIVE',\n                        index: 0,\n                    });\n                    break;\n                case InteractionKeyCode.END:\n                    dispatch({\n                        type: 'ACTIVE',\n                        index: totalRows - 1,\n                    });\n                    break;\n                case InteractionKeyCode.ENTER:\n                    (evt.currentTarget as HTMLElement)?.click();\n                    break;\n                default:\n                    return;\n            }\n            evt.stopPropagation();\n        },\n\n        [totalRows, state.index]\n    );\n\n    const onFocusCapture = useCallback(\n        (index: number) => (evt: Event) => {\n            const isRow = (evt.target as HTMLElement)?.localName === 'tr';\n            if (!isRow || state.index === -1) dispatch({ type: 'CURRENT', index: index });\n        },\n        [state.index]\n    );\n\n    return { listeners: { onKeyDownCapture, onFocusCapture }, ref, activeIndex: state.activeIndex, currentIndex: state.index };\n};\n","import { TableCells } from './TableCells';\nimport useCoreContext from '../../../../core/Context/useCoreContext';\nimport { noop } from '../../../../utils';\nimport { useCallback } from 'preact/hooks';\nimport { useInteractiveDataGrid } from '../hooks/useInteractiveDataGrid';\nimport { DataGridColumn, InteractiveBodyProps } from '../types';\nimport { CustomCell } from '../DataGrid';\n\nexport const InteractiveBody = <\n    Items extends any[],\n    Columns extends Array<DataGridColumn<Extract<keyof Items[number], string>>>,\n    ClickedField extends keyof Items[number],\n    CustomCells extends CustomCell<Items, Columns, Columns[number]>\n>({\n    data,\n    columns,\n    onRowClick,\n    customCells,\n    onRowHover,\n}: InteractiveBodyProps<Items, Columns, ClickedField, CustomCells>) => {\n    const onClickCallBack = useCallback(\n        (item: Items[number]) => () => onRowClick?.callback(onRowClick?.retrievedField ? item[onRowClick.retrievedField] : item),\n        [onRowClick]\n    );\n\n    const { i18n } = useCoreContext();\n\n    const { currentIndex, listeners, ref } = useInteractiveDataGrid({ totalRows: data?.length ?? 0 });\n\n    return (\n        <>\n            {data?.map((item, index) => (\n                <div\n                    role=\"row\"\n                    tabIndex={0}\n                    onMouseEnter={i18n.has(`tooltip.${item?.category}`) && onRowHover ? () => onRowHover(index) : noop}\n                    onFocus={i18n.has(`tooltip.${item?.category}`) && onRowHover ? () => onRowHover(index) : noop}\n                    onMouseLeave={i18n.has(`tooltip.${item?.category}`) && onRowHover ? () => onRowHover() : noop}\n                    onBlur={i18n.has(`tooltip.${item?.category}`) && onRowHover ? () => onRowHover() : noop}\n                    ref={ref}\n                    aria-selected={index === currentIndex}\n                    data-index={index}\n                    className=\"adyen-pe-data-grid__row adyen-pe-data-grid__row--clickable\"\n                    key={item}\n                    onClick={onClickCallBack(item)}\n                    onFocusCapture={listeners.onFocusCapture(index)}\n                    onKeyDownCapture={listeners.onKeyDownCapture}\n                >\n                    <TableCells columns={columns} customCells={customCells} item={item} rowIndex={index} />\n                </div>\n            ))}\n        </>\n    );\n};\n","import cx from 'classnames';\nimport '../DataGrid.scss';\nimport { VNode } from 'preact';\n\nconst SkeletonBody = ({ columnsNumber, loading, emptyMessageDisplay }: { columnsNumber: number; loading: boolean; emptyMessageDisplay?: VNode }) => {\n    const rows = Array.from({ length: 10 }, (_, index) => index);\n    const columns = Array.from({ length: columnsNumber }, (_, index) => index);\n    return (\n        <>\n            {rows.map((_, i) => (\n                <div className=\"adyen-pe-data-grid__row\" key={`adyen-pe-data-grid-skeleton-row-${i}`}>\n                    {columns.map((_, index) => (\n                        <div key={`adyen-pe-data-grid-skeleton-cell-${index}`} className=\"adyen-pe-data-grid__cell adyen-pe-data-grid__skeleton-cell\">\n                            <span\n                                className={cx({\n                                    'adyen-pe-data-grid__skeleton-cell-content adyen-pe-data-grid__skeleton-cell-content--loading': loading,\n                                    'adyen-pe-data-grid__empty-cell': !loading,\n                                })}\n                            />\n                        </div>\n                    ))}\n                </div>\n            ))}\n            {!loading && emptyMessageDisplay && emptyMessageDisplay}\n        </>\n    );\n};\n\nexport default SkeletonBody;\n","export default \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMDAiIGhlaWdodD0iMjAwIiB2aWV3Qm94PSIwIDAgMzAwIDIwMCIgZmlsbD0ibm9uZSI+CiAgICA8ZyBjbGlwLXBhdGg9InVybCgjYSkiPgogICAgICAgIDxwYXRoIGZpbGw9IiNCRjdDNkEiIHN0cm9rZT0iIzAwMTEyQyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGQ9Ik0xODkuMyAxMTMuN2MtMS0uMyAzNi4zIDI4LjYgNDcuNyAyNi40IDkuMy0xLjggMTQuMy01OSAxNC4zLTU5aC05LjlsLTEwLjggMzYuM3MtMzAuNC0yMi4zLTMxLjgtMjIuM2MtMS40IDAtOCAxOS4xLTkuNSAxOC42WiIvPgogICAgICAgIDxwYXRoIHN0cm9rZT0iIzAwMTEyQyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGQ9Im0yMzAuMSAxMTYuNyAyIDMuMiIvPgogICAgICAgIDxwYXRoIGZpbGw9IiNCRjdDNkEiIGQ9Im0yNTkuOCA3NC42IDEwLTMuNi43LTguMWMuMS0uOS0uNi0xLjYtMS40LTEuNy0uOC0uMS0xLjUuNS0xLjcgMS4zbC0xLjMgNi42LTEyLjYgNC44Ii8+CiAgICAgICAgPHBhdGggc3Ryb2tlPSIjMDAxMTJDIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0ibTI1OS44IDc0LjYgMTAtMy42LjctOC4xYy4xLS45LS42LTEuNi0xLjQtMS43LS44LS4xLTEuNS41LTEuNyAxLjNsLTEuMyA2LjYtMTIuNiA0LjgiLz4KICAgICAgICA8cGF0aCBmaWxsPSIjQkY3QzZBIiBkPSJtMjYwLjUgNzUuNSAxMS4xLTMuNSAyLjktNy4xYy4zLS44LS4xLTEuNy0uOS0yLjEtLjgtLjMtMS42IDAtMiAuN2wtMy4yIDUuOS0xMC4yIDMuMiIvPgogICAgICAgIDxwYXRoIHN0cm9rZT0iIzAwMTEyQyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGQ9Im0yNjAuNSA3NS41IDExLjEtMy41IDIuOS03LjFjLjMtLjgtLjEtMS43LS45LTIuMS0uOC0uMy0xLjYgMC0yIC43bC0zLjIgNS45LTEwLjIgMy4yIi8+CiAgICAgICAgPHBhdGggZmlsbD0iI0JGN0M2QSIgZD0ibTI1NCA3Ni41IDcuNC03LjhjLjctLjYuOC0xLjUuMi0yLjItLjUtLjctMS41LS44LTIuMi0uNC0yIDEuMy02LjIgNS0xMC43IDcuMS0zLjEgMS40LTUuMiA1LjgtNS44IDcuMyIvPgogICAgICAgIDxwYXRoIHN0cm9rZT0iIzAwMTEyQyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGQ9Im0yNTQgNzYuNSA3LjQtNy44Yy43LS42LjgtMS41LjItMi4yLS41LS43LTEuNS0uOC0yLjItLjQtMiAxLjMtNi4yIDUtMTAuNyA3LjEtMy4xIDEuNC01LjIgNS44LTUuOCA3LjMiLz4KICAgICAgICA8cGF0aCBmaWxsPSIjQkY3QzZBIiBkPSJNMjUwLjMgODIuMmMxLjItLjMgMjEuNi04LjYgMjYuNy0xMC4zLjktLjMgMS40LTEuMiAxLjEtMi4xLS4yLS45LTEtMS4xLTEuOS0xLTQuNC44LTE3LjkgMy45LTE5LjUgNC4yLTEuNS4yLTUuMy42LTEwLjkgMy4xYTkgOSAwIDAgMC01LjIgOCIvPgogICAgICAgIDxwYXRoIHN0cm9rZT0iIzAwMTEyQyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGQ9Ik0yNTAuMyA4Mi4yYzEuMi0uMyAyMS42LTguNiAyNi43LTEwLjMuOS0uMyAxLjQtMS4yIDEuMS0yLjEtLjItLjktMS0xLjEtMS45LTEtNC40LjgtMTcuOSAzLjktMTkuNSA0LjItMS41LjItNS4zLjYtMTAuOSAzLjFhOSA5IDAgMCAwLTUuMiA4Ii8+CiAgICAgICAgPHBhdGggZmlsbD0iIzAwMTEyQyIgZD0iTTEzMC45IDYzLjFjLjggNy4zIDQuNyAxNC4xIDEwLjMgMThsLTMuMS02LjRjLS41LTEtLjktMi0xLTMuMWwtLjEtLjNjLS4xLS4xLS4xLjIgMCAuMSIvPgogICAgICAgIDxwYXRoIHN0cm9rZT0iIzAwMTEyQyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGQ9Ik0xMzAuOSA2My4xYy44IDcuMyA0LjcgMTQuMSAxMC4zIDE4bC0zLjEtNi40Yy0uNS0xLS45LTItMS0zLjFsLS4xLS4zYy0uMS0uMS0uMS4yIDAgLjEiLz4KICAgICAgICA8cGF0aCBmaWxsPSIjQkY3QzZBIiBzdHJva2U9IiMwMDExMkMiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJtMTU4LjkgNzQuOC0xMy4yLjItMS41IDE4IDguNCAzLjYgNy45LTMuOC0xLjYtMThaIi8+CiAgICAgICAgPHBhdGggZmlsbD0iIzAwMTEyQyIgc3Ryb2tlPSIjMDAxMTJDIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTE1MS45IDgzLjljLTQuNyAwLTYuNC0yLjctNi40LTIuN3YtNC42aDEzLjRsLjMgNmMtLjEuMS0yLjUgMS4zLTcuMyAxLjNaIi8+CiAgICAgICAgPHBhdGggZmlsbD0iIzAwMTEyQyIgc3Ryb2tlPSIjMDAxMTJDIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTEzNC41IDcwLjdjMi40IDMgNi4zIDUuNyA5LjggNy4zIDMuNiAxLjYgMTUuMyAxLjcgMTkuNS0xLjEgOC44LTUuOSAxMC41LTIwLjMgOC4yLTMwLjYtLjctMy40LTEuOC02LjgtMy43LTkuN2EyMiAyMiAwIDAgMC0xOS44LTkuM2MtNy41LjUtMTkuMyA1LjktMjAuOCAxNC4yLTEuNyA5LjYuOCAyMS42IDYuOCAyOS4yWiIvPgogICAgICAgIDxwYXRoIGZpbGw9IiNCRjdDNkEiIGQ9Ik0xMzMuMiA1OC45cy01LjEtNy03LjgtMS42IDQuOCAxMy40IDEwLjggMTEuMiIvPgogICAgICAgIDxwYXRoIHN0cm9rZT0iIzAwMTEyQyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGQ9Ik0xMzMuMiA1OC45cy01LjEtNy03LjgtMS42IDQuOCAxMy40IDEwLjggMTEuMiIvPgogICAgICAgIDxwYXRoIGZpbGw9IiNCRjdDNkEiIGQ9Ik0xNjkuNSA1Mi40czIuMy04LjMgNi43LTQuMmM0LjQgNC4xLjIgMTQuMi02LjIgMTQuMyIvPgogICAgICAgIDxwYXRoIHN0cm9rZT0iIzAwMTEyQyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGQ9Ik0xNjkuNSA1Mi40czIuMy04LjMgNi43LTQuMmM0LjQgNC4xLjIgMTQuMi02LjIgMTQuMyIvPgogICAgICAgIDxwYXRoIGZpbGw9IiNCRjdDNkEiIHN0cm9rZT0iIzAwMTEyQyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGQ9Ik0xNjYuOSA0MS4yYy02LjMtMTItMzMuNC04LjItMzQuOSA2LjNBMzguMiAzOC4yIDAgMCAwIDE0MiA3N2M1LjcgNS4yIDEyIDQuNSAxNC4xIDQuMSAyLjEtLjMgOC4yLTEuOCAxMS43LTguOGEzNy4yIDM3LjIgMCAwIDAtLjktMzEuMVoiLz4KICAgICAgICA8cGF0aCBmaWxsPSIjMDAxMTJDIiBzdHJva2U9IiMwMDExMkMiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMTM0LjEgNTVjNy44LTEuMSAxNS41LTIuNiAyMy4xLTQuNGwtLjQtNC44YzEgMS42IDEuOCAyLjcgMi40IDQuNSAzLTEuMyA2LjMtMS41IDkuNS0xLjYgMy4xLS4xLTQuMi0xNC4zLTYuMS0xNS42YTE2LjIgMTYuMiAwIDAgMC03LjEtMi4xYy01LjctLjYtMTEuNy0uNC0xNi43IDIuMy00IDIuMi03LjMgNi40LTcuNiAxMSAwIDEuNS41IDExIDIuOSAxMC43WiIvPgogICAgICAgIDxwYXRoIGZpbGw9IiNCRjdDNkEiIHN0cm9rZT0iIzAwMTEyQyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGQ9Ik0xMTQuNSAxMTMuN2MxLS4zLTM2LjMgMjguNi00Ny43IDI2LjQtOS4zLTEuOC0xNC4zLTU5LTE0LjMtNTloOS45bDEwLjggMzYuM3MzMC40LTIyLjMgMzEuOC0yMi4zYzEuNS0uMSA4LjEgMTkuMSA5LjUgMTguNloiLz4KICAgICAgICA8cGF0aCBzdHJva2U9IiMwMDExMkMiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJtNzMuOCAxMTYuNy0yLjEgMy4yIi8+CiAgICAgICAgPHBhdGggZmlsbD0iI0JGN0M2QSIgZD0iTTQ0IDc0LjYgMzQgNzFsLS43LTguMWMtLjEtLjkuNi0xLjYgMS40LTEuNy44LS4xIDEuNS41IDEuNyAxLjNsMS4zIDYuNiAxMi42IDQuOCIvPgogICAgICAgIDxwYXRoIHN0cm9rZT0iIzAwMTEyQyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGQ9Ik00NCA3NC42IDM0IDcxbC0uNy04LjFjLS4xLS45LjYtMS42IDEuNC0xLjcuOC0uMSAxLjUuNSAxLjcgMS4zbDEuMyA2LjYgMTIuNiA0LjgiLz4KICAgICAgICA8cGF0aCBmaWxsPSIjQkY3QzZBIiBkPSJNNDMuMyA3NS41IDMyLjIgNzJsLTIuOS03Yy0uMy0uOC4xLTEuNy45LTIuMS44LS4zIDEuNiAwIDIgLjdsMy4yIDUuOSAxMC4yIDMuMiIvPgogICAgICAgIDxwYXRoIHN0cm9rZT0iIzAwMTEyQyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGQ9Ik00My4zIDc1LjUgMzIuMiA3MmwtMi45LTdjLS4zLS44LjEtMS43LjktMi4xLjgtLjMgMS42IDAgMiAuN2wzLjIgNS45IDEwLjIgMy4yIi8+CiAgICAgICAgPHBhdGggZmlsbD0iI0JGN0M2QSIgZD0ibTQ5LjggNzYuNS03LjQtNy44Yy0uNy0uNi0uOC0xLjUtLjItMi4yLjUtLjcgMS41LS44IDIuMi0uNCAyIDEuMyA2LjIgNSAxMC43IDcuMSAzLjEgMS40IDUuMiA1LjggNS44IDcuMyIvPgogICAgICAgIDxwYXRoIHN0cm9rZT0iIzAwMTEyQyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGQ9Im00OS44IDc2LjUtNy40LTcuOGMtLjctLjYtLjgtMS41LS4yLTIuMi41LS43IDEuNS0uOCAyLjItLjQgMiAxLjMgNi4yIDUgMTAuNyA3LjEgMy4xIDEuNCA1LjIgNS44IDUuOCA3LjMiLz4KICAgICAgICA8cGF0aCBmaWxsPSIjQkY3QzZBIiBkPSJNNTMuNSA4Mi4yQzUyLjQgODEuOSAzMiA3My43IDI2LjggNzJhMS42IDEuNiAwIDAgMS0xLjEtMi4xYy4yLS45IDEtMS4xIDEuOS0xIDQuNC44IDE3LjkgMy45IDE5LjUgNC4yIDEuNS4yIDUuMy42IDEwLjkgMy4xYTkgOSAwIDAgMSA1LjIgOCIvPgogICAgICAgIDxwYXRoIHN0cm9rZT0iIzAwMTEyQyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGQ9Ik01My41IDgyLjJDNTIuNCA4MS45IDMyIDczLjcgMjYuOCA3MmExLjYgMS42IDAgMCAxLTEuMS0yLjFjLjItLjkgMS0xLjEgMS45LTEgNC40LjggMTcuOSAzLjkgMTkuNSA0LjIgMS41LjIgNS4zLjYgMTAuOSAzLjFhOSA5IDAgMCAxIDUuMiA4Ii8+CiAgICAgICAgPHBhdGggZmlsbD0iIzAwMTEyQyIgc3Ryb2tlPSIjMDAxMTJDIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTEzOS45IDg3LjZjLTEuNC0zLjQtNi4zLTEyLjUtOS44LTExLjdhOTAuNyA5MC43IDAgMCAwLTQ2LjIgMjkuN2MtNC40IDUuNC0yIDguNy0yIDguN2w3LjEgMTguOHMzLjYgMiAxNS40IDEuN2MxNy40LS41IDM4LjgtMjYuOCAzOS41LTMwLjYuNC0yLjYtMS43LTEwLjgtNC0xNi42WiIvPgogICAgICAgIDxwYXRoIGZpbGw9IiMzMzAwQzIiIGQ9Im0xOTYuNiAyMzIuOC0xOC43LTU4LjFoLTUxbC0yMC4yIDU4LjEiLz4KICAgICAgICA8cGF0aCBzdHJva2U9IiMwQzExMkMiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0ibTE5Ni42IDIzMi44LTE4LjctNTguMWgtNTFsLTIwLjIgNTguMSIvPgogICAgICAgIDxwYXRoIGZpbGw9IiMwMDExMkMiIHN0cm9rZT0iIzAwMTEyQyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGQ9Im0xNTkuMSA5MS44LTE2LjguMXMtMjAuNCAxLTIxLjMgNi44Yy0xLjYgMTAuNiA2LjEgNTIuNiA1LjkgNTYuMmwtNC44IDIwLjQuMi4xYzEwLjcgNSAyMi43IDcuMiAzNC42IDYuMmwyMy4xLTEuOS0zLjItMTguMmMtLjItMi43IDcuMy00NiA2LjktNjEuMy0uMS03LjEtMjQuNi04LjQtMjQuNi04LjRaIi8+CiAgICAgICAgPHBhdGggZmlsbD0iIzAwMTEyQyIgc3Ryb2tlPSIjMDAxMTJDIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0ibTE0MS40IDkyIDEuNi01LjZoMTguN2wxLjEgNC45Yy0uMS4xLTguOSAxMS0yMS40LjdabTIzLjEtNC40YzEuNC0zLjQgNi4zLTEyLjUgOS44LTExLjdhOTAuNyA5MC43IDAgMCAxIDQ2LjIgMjkuN2M0LjQgNS40IDIgOC43IDIgOC43bC03LjEgMTguOHMtMy42IDItMTUuNCAxLjdjLTE3LjQtLjUtMzguOC0yNi44LTM5LjUtMzAuNmE0OC4zIDQ4LjMgMCAwIDEgNC0xNi42Wk0xMTkuOSAxOGMwLTIuNSAxLjEtNC45IDIuNy02LjggMS45LTIuMiA0LjUtMy44IDcuNC00LjIgMi45LS40IDUuOS42IDcuOSAyLjdhNC44IDQuOCAwIDAgMC0zLTQuMXM1LS4yIDcuMS40YTE0LjcgMTQuNyAwIDAgMSAxMSAxNy44Yy0yLjMgOC44LTE0LjIgNy0yMSA1LjYtNS42LTEuMi0xMi00LjktMTIuMS0xMS40WiIvPgogICAgPC9nPgogICAgPGRlZnM+CiAgICAgICAgPGNsaXBQYXRoIGlkPSJhIj4KICAgICAgICAgICAgPHBhdGggZmlsbD0iI2ZmZiIgZD0iTTAgMGgzMDB2MjAwSDB6Ii8+CiAgICAgICAgPC9jbGlwUGF0aD4KICAgIDwvZGVmcz4KPC9zdmc+\"","import { DataGridContext } from '../hooks/useDataGridContext';\nimport { ComponentChildren, toChildArray } from 'preact';\nimport { useCallback, useMemo } from 'preact/hooks';\n\ntype ColumnWidth = { column: string; width: number };\n\nexport const DataGridProvider = ({ children }: { children: ComponentChildren }) => {\n    const minWidthByColumn = useMemo(() => new Map<string, number>(), []);\n    const registerCells: (props: ColumnWidth) => void = useCallback(\n        ({ column, width }) => {\n            if (minWidthByColumn.has(column)) {\n                const existingWidth = minWidthByColumn.get(column)!;\n                if (width > existingWidth) {\n                    minWidthByColumn.set(column, width);\n                }\n            } else {\n                minWidthByColumn.set(column, width);\n            }\n        },\n        [minWidthByColumn]\n    );\n\n    const getMinWidthByColumn = useCallback(\n        (column: string) => {\n            return minWidthByColumn.get(column);\n        },\n        [minWidthByColumn]\n    );\n\n    return <DataGridContext.Provider value={{ registerCells, getMinWidthByColumn }}>{toChildArray(children)}</DataGridContext.Provider>;\n};\n","import classnames from 'classnames';\nimport { CellTextPosition, DataGridColumn } from '../types';\nimport { useDataGridContext } from '../hooks/useDataGridContext';\nimport { useEffect, useRef } from 'preact/hooks';\n\nexport const TableHeaderCell = ({ cellKey, position, label }: DataGridColumn<Extract<string, string>> & { cellKey: string }) => {\n    const { registerCells } = useDataGridContext();\n    const ref = useRef<HTMLDivElement>(null);\n\n    useEffect(() => {\n        if (ref.current) {\n            registerCells({\n                column: cellKey,\n                width: ref.current?.getBoundingClientRect().width,\n            });\n        }\n    }, [cellKey, registerCells]);\n\n    return (\n        <div\n            role=\"columnheader\"\n            id={String(cellKey)}\n            className={classnames('adyen-pe-data-grid__cell adyen-pe-data-grid__cell--heading', {\n                'adyen-pe-data-grid__cell--right': position === CellTextPosition.RIGHT,\n                'adyen-pe-data-grid__cell--center': position === CellTextPosition.CENTER,\n            })}\n        >\n            <div ref={ref} className={'adyen-pe-data-grid__cell--heading-content'}>\n                {label}\n            </div>\n        </div>\n    );\n};\n","import { ComponentChild, toChildArray } from 'preact';\nimport classnames from 'classnames';\nimport './DataGrid.scss';\nimport { TableBody } from './components/TableBody';\nimport { InteractiveBody } from './components/InteractiveBody';\nimport { DataGridColumn, DataGridProps } from './types';\nimport SkeletonBody from './components/SkeletonBody';\nimport { ErrorMessageDisplay } from '../ErrorMessageDisplay/ErrorMessageDisplay';\nimport { useMemo } from 'preact/hooks';\nimport emptyTableIcon from '../../../images/no-data-female.svg';\nimport { DataGridProvider } from './utils/DataGridProvider';\nimport { useDataGridContext } from './hooks/useDataGridContext';\nimport { TableHeaderCell } from './components/TableHeaderCell';\n\nexport const INITIAL_STATE = Object.freeze({\n    activeIndex: -1,\n    index: -1,\n});\n\nexport type CustomCell<\n    Item extends Array<any>,\n    Columns extends Array<DataGridColumn<Extract<keyof Item[number], string>>>,\n    T extends Columns[number]\n> = {\n    [k in T['key']]?: (\n        props: Item[0][k] extends NonNullable<Item[0][k]>\n            ? { key: k; value: Item[number][k]; item: Item[number]; rowIndex: number }\n            : { key: k; item: Item[number]; rowIndex: number }\n    ) => ComponentChild;\n};\n\nfunction DataGrid<\n    Items extends Array<any>,\n    Columns extends Array<DataGridColumn<Extract<keyof Items[number], string>>>,\n    ClickedField extends keyof Items[number],\n    CustomCells extends CustomCell<Items, Columns, Columns[number]>\n>({ errorDisplay, ...props }: DataGridProps<Items, Columns, ClickedField, CustomCells>) {\n    return (\n        <div style={{ width: '100%' }}>\n            <DataGridProvider>\n                <DataGridTable {...props} errorDisplay={errorDisplay} />\n            </DataGridProvider>\n        </div>\n    );\n}\n\nfunction DataGridTable<\n    Items extends Array<any>,\n    Columns extends Array<DataGridColumn<Extract<keyof Items[number], string>>>,\n    ClickedField extends keyof Items[number],\n    CustomCells extends CustomCell<Items, Columns, Columns[number]>\n>({ errorDisplay, ...props }: DataGridProps<Items, Columns, ClickedField, CustomCells>) {\n    const children = useMemo(() => toChildArray(props.children), [props.children]);\n    const footer = useMemo(() => children.find((child: ComponentChild) => (child as any)?.['type'] === DataGridFooter), [children]);\n    const emptyBody = useMemo(() => props.data?.length === 0, [props.data]);\n    const showMessage = useMemo(() => !props.loading && (emptyBody || props.error), [emptyBody, props.error, props.loading]);\n    const { getMinWidthByColumn } = useDataGridContext();\n\n    const visibleCols = props.columns\n        .filter(column => column.visible !== false)\n        .map(column => ({ ...column, minWidth: getMinWidthByColumn(column.key) }));\n\n    const cellWidths = visibleCols.map(col => `minmax(${(col.minWidth || 100) + 40}px, ${col.flex || 1}fr)`).join(' ');\n    return (\n        <div\n            className={classnames('adyen-pe-data-grid', {\n                'adyen-pe-data-grid--condensed': props.condensed,\n                'adyen-pe-data-grid--outline': props.outline,\n                'adyen-pe-data-grid--scrollable': props.scrollable,\n                'adyen-pe-data-grid--loading': props.loading,\n                'adyen-pe-data-grid--empty': emptyBody || props.error,\n            })}\n            style={`--adyen-pe-data-grid-cols: ${visibleCols.length}; --adyen-pe-data-grid-cells: ${cellWidths};`}\n        >\n            <>\n                <div className=\"adyen-pe-data-grid__table-wrapper\">\n                    <div role=\"table\" className=\"adyen-pe-data-grid__table\">\n                        <div className=\"adyen-pe-data-grid__head\" role=\"rowgroup\">\n                            <div role=\"rowheader\" className=\"adyen-pe-data-grid__header\" style={props.loading ? { width: '100%' } : {}}>\n                                {visibleCols.map(item => (\n                                    <TableHeaderCell key={item.key} label={item.label} position={item.position} cellKey={item.key} />\n                                ))}\n                            </div>\n                        </div>\n\n                        <DataGridBody<Items, Columns, ClickedField, CustomCells> {...props} columns={visibleCols as Columns} emptyBody={emptyBody} />\n                    </div>\n                    {showMessage &&\n                        (emptyBody && !props.error ? (\n                            <ErrorMessageDisplay\n                                title={props.emptyTableMessage?.title ?? 'thereAreNoResults'}\n                                message={props.emptyTableMessage?.message}\n                                imageDesktop={emptyTableIcon}\n                                centered\n                            />\n                        ) : props.error && errorDisplay ? (\n                            errorDisplay()\n                        ) : null)}\n                </div>\n                {footer}\n            </>\n        </div>\n    );\n}\n\nfunction DataGridBody<\n    Items extends Array<any>,\n    Columns extends Array<DataGridColumn<Extract<keyof Items[number], string>>>,\n    ClickedField extends keyof Items[number],\n    CustomCells extends CustomCell<Items, Columns, Columns[number]>\n>(props: DataGridProps<Items, Columns, ClickedField, CustomCells> & { emptyBody: boolean }) {\n    const showSkeleton = useMemo(() => props.loading || props.emptyBody || props.error, [props.emptyBody, props.error, props.loading]);\n\n    return (\n        <div\n            role=\"rowgroup\"\n            className={classnames('adyen-pe-data-grid__body')}\n            style={showSkeleton && { display: 'grid', gridTemplateColumns: '1fr' }}\n        >\n            {showSkeleton ? (\n                <SkeletonBody columnsNumber={props.columns.length} loading={props.loading} />\n            ) : props.onRowClick ? (\n                <InteractiveBody<Items, Columns, ClickedField, CustomCells>\n                    onRowHover={props.onRowHover}\n                    data={props.data}\n                    columns={props.columns}\n                    onRowClick={props.onRowClick}\n                    customCells={props.customCells}\n                />\n            ) : (\n                <TableBody<Items, Columns, ClickedField, CustomCells>\n                    onRowHover={props.onRowHover}\n                    data={props.data}\n                    customCells={props.customCells}\n                    columns={props.columns}\n                />\n            )}\n        </div>\n    );\n}\n\nDataGrid.Footer = DataGridFooter;\n\nfunction DataGridFooter({ children }: { children: ComponentChild }) {\n    return <div className=\"adyen-pe-data-grid__footer\">{children}</div>;\n}\n\nDataGrid.defaultProps = {\n    condensed: false,\n    outline: true,\n    scrollable: true,\n};\n\nexport default DataGrid;\n","export const ARIA_ERROR_SUFFIX = '-ariaError';\nexport const ERROR_MSG_INCOMPLETE_FIELD = 'incompleteField';\n","import { ButtonActionObject } from '../../components/internal/Button/ButtonActions/types';\n\nexport enum CommitAction {\n    NONE = 0,\n    APPLY = 1,\n    CLEAR = 2,\n}\n\nexport interface UseCommitActionConfig {\n    applyDisabled?: boolean;\n    applyTitle?: string;\n    resetDisabled?: boolean;\n    resetTitle?: string;\n}\n\nexport interface CommitActionProperties {\n    readonly commitAction: CommitAction;\n    readonly commitActionButtons: readonly [ButtonActionObject, ButtonActionObject];\n    readonly committing: boolean;\n    readonly resetCommitAction: () => void;\n}\n","import { useCallback, useEffect, useMemo, useState } from 'preact/hooks';\nimport { ButtonVariant } from '../../components/internal/Button/types';\nimport { ButtonActionObject } from '../../components/internal/Button/ButtonActions/types';\nimport { CommitAction, CommitActionProperties, UseCommitActionConfig } from './types';\nimport useCoreContext from '../../core/Context/useCoreContext';\nimport { boolOrFalse, EMPTY_OBJECT } from '../../utils';\n\nconst useCommitAction = ({ applyDisabled, applyTitle, resetDisabled, resetTitle }: UseCommitActionConfig = EMPTY_OBJECT): CommitActionProperties => {\n    const { i18n } = useCoreContext();\n    const [commitAction, setCommitAction] = useState(CommitAction.NONE);\n    const [committing, setCommitting] = useState(commitAction !== CommitAction.NONE);\n\n    const applyAction = useCallback(() => setCommitAction(CommitAction.APPLY), [setCommitAction]);\n    const resetAction = useCallback(() => setCommitAction(CommitAction.CLEAR), [setCommitAction]);\n    const resetCommitAction = useCallback(() => setCommitAction(CommitAction.NONE), [setCommitAction]);\n\n    const applyButtonAction = useMemo(\n        () =>\n            ({\n                disabled: boolOrFalse(applyDisabled),\n                event: applyAction,\n                title: applyTitle?.trim() || i18n.get('apply'),\n                variant: ButtonVariant.PRIMARY,\n            } as ButtonActionObject),\n        [i18n, applyAction, applyDisabled, applyTitle]\n    );\n\n    const resetButtonAction = useMemo(\n        () =>\n            ({\n                disabled: boolOrFalse(resetDisabled),\n                event: resetAction,\n                title: resetTitle?.trim() || i18n.get('reset'),\n                variant: ButtonVariant.SECONDARY,\n            } as ButtonActionObject),\n        [i18n, resetAction, resetDisabled, resetTitle]\n    );\n\n    const commitActionButtons = useMemo(() => [applyButtonAction, resetButtonAction] as const, [applyButtonAction, resetButtonAction]);\n\n    useEffect(() => {\n        setCommitting(commitAction !== CommitAction.NONE);\n        switch (commitAction) {\n            case CommitAction.APPLY:\n            case CommitAction.CLEAR:\n                resetCommitAction();\n                break;\n        }\n    }, [commitAction, setCommitting, resetCommitAction]);\n\n    return { commitAction, commitActionButtons, committing, resetCommitAction } as const;\n};\n\nexport default useCommitAction;\n","import { JSX } from 'preact';\nimport { useRef, useState, useEffect } from 'preact/hooks';\nimport cx from 'classnames';\nimport './Img.scss';\nimport { ImgProps } from './types';\n\nexport default function Img(props: ImgProps) {\n    const { backgroundUrl = '', className = '', classNameModifiers = [], src = '', alt = '', showOnError = false } = props;\n    const [loaded, setLoaded] = useState(false);\n    const imageRef = useRef(null);\n\n    const handleLoad = () => {\n        setLoaded(true);\n    };\n\n    const handleError = () => {\n        setLoaded(showOnError);\n    };\n\n    const classNames = cx(\n        [className],\n        'adyen-pe-image',\n        { 'adyen-pe-image--loaded': loaded },\n        ...classNameModifiers.map(modifier => `adyen-pe-image--${modifier}`)\n    );\n\n    useEffect(() => {\n        const image = backgroundUrl ? new Image() : imageRef.current;\n        if (image) {\n            image.src = backgroundUrl || src;\n            image.onload = handleLoad;\n        }\n        setLoaded(!!image?.complete);\n    }, []);\n\n    if (backgroundUrl) {\n        return <div style={{ backgroundUrl } as JSX.CSSProperties} {...props} className={classNames} />;\n    }\n\n    return <img {...props} alt={alt} ref={imageRef} className={classNames} onError={handleError} />;\n}\n","import { DEFAULT_BUTTON_CLASSNAME } from '../../Button/constants';\nimport { ButtonVariant } from '../../Button/types';\nimport { getModifierClasses } from '../../../../utils/preact';\n\nexport const DROPDOWN_BASE_CLASS = 'adyen-pe-dropdown';\nexport const DROPDOWN_BUTTON_CLASSNAME = getModifierClasses(DEFAULT_BUTTON_CLASSNAME, [ButtonVariant.SECONDARY], [DEFAULT_BUTTON_CLASSNAME]);\nexport const DROPDOWN_BUTTON_CLASS = `${DROPDOWN_BASE_CLASS}__button`;\nexport const DROPDOWN_BUTTON_ACTIVE_CLASS = `${DROPDOWN_BUTTON_CLASS}--active`;\nexport const DROPDOWN_BUTTON_COLLAPSE_INDICATOR_CLASS = `${DROPDOWN_BUTTON_CLASS}-collapse-indicator`;\nexport const DROPDOWN_BUTTON_HAS_SELECTION_CLASS = `${DROPDOWN_BUTTON_CLASS}--has-selection`;\nexport const DROPDOWN_BUTTON_ICON_CLASS = `${DROPDOWN_BUTTON_CLASS}-icon`;\nexport const DROPDOWN_BUTTON_MULTI_SELECT_COUNTER_CLASS = `${DROPDOWN_BUTTON_CLASS}-multiselect-counter`;\nexport const DROPDOWN_BUTTON_READONLY_CLASS = `${DROPDOWN_BUTTON_CLASS}--readonly`;\nexport const DROPDOWN_BUTTON_TEXT_CLASS = `${DROPDOWN_BUTTON_CLASS}-text`;\nexport const DROPDOWN_BUTTON_VALID_CLASS = `${DROPDOWN_BUTTON_CLASS}--valid`;\nexport const DROPDOWN_BUTTON_INVALID_CLASS = `${DROPDOWN_BUTTON_CLASS}--invalid`;\nexport const DROPDOWN_ELEMENT_CLASS = `${DROPDOWN_BASE_CLASS}__element`;\nexport const DROPDOWN_ELEMENT_ACTIVE_CLASS = `${DROPDOWN_ELEMENT_CLASS}--active`;\nexport const DROPDOWN_ELEMENT_CHECKBOX_CLASS = `${DROPDOWN_ELEMENT_CLASS}-checkbox`;\nexport const DROPDOWN_ELEMENT_CHECKMARK_CLASS = `${DROPDOWN_ELEMENT_CLASS}-checkmark`;\nexport const DROPDOWN_ELEMENT_CONTENT_CLASS = `${DROPDOWN_ELEMENT_CLASS}-content`;\nexport const DROPDOWN_ELEMENT_DISABLED_CLASS = `${DROPDOWN_ELEMENT_CLASS}--disabled`;\nexport const DROPDOWN_ELEMENT_ICON_CLASS = `${DROPDOWN_ELEMENT_CLASS}-icon`;\nexport const DROPDOWN_ELEMENT_NO_OPTION_CLASS = `${DROPDOWN_ELEMENT_CLASS}--no-option`;\nexport const DROPDOWN_LIST_CLASS = `${DROPDOWN_BASE_CLASS}__list`;\nexport const DROPDOWN_LIST_ACTIVE_CLASS = `${DROPDOWN_LIST_CLASS}--active`;\nexport const DROPDOWN_MULTI_SELECT_CLASS = `${DROPDOWN_BASE_CLASS}--multiselect`;\n","import cx from 'classnames';\nimport { Ref } from 'preact';\nimport { MutableRef, useMemo } from 'preact/hooks';\nimport { HTMLAttributes, PropsWithChildren } from 'preact/compat';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport Img from '../../../Img';\nimport Button from '../../../Button';\nimport { ButtonVariant } from '../../../Button/types';\nimport Typography from '../../../Typography/Typography';\nimport ChevronDown from '../../../SVGIcons/ChevronDown';\nimport { TypographyElement, TypographyVariant } from '../../../Typography/types';\nimport { boolOrFalse } from '../../../../../utils';\nimport {\n    DROPDOWN_BUTTON_ACTIVE_CLASS,\n    DROPDOWN_BUTTON_CLASS,\n    DROPDOWN_BUTTON_CLASSNAME,\n    DROPDOWN_BUTTON_COLLAPSE_INDICATOR_CLASS,\n    DROPDOWN_BUTTON_HAS_SELECTION_CLASS,\n    DROPDOWN_BUTTON_ICON_CLASS,\n    DROPDOWN_BUTTON_INVALID_CLASS,\n    DROPDOWN_BUTTON_MULTI_SELECT_COUNTER_CLASS,\n    DROPDOWN_BUTTON_READONLY_CLASS,\n    DROPDOWN_BUTTON_TEXT_CLASS,\n    DROPDOWN_BUTTON_VALID_CLASS,\n} from '../constants';\nimport type { SelectButtonProps, SelectItem } from '../types';\n\nconst SelectButtonElement = <T extends SelectItem>({\n    active,\n    disabled,\n    className,\n    filterable,\n    toggleButtonRef,\n    ...props\n}: PropsWithChildren<SelectButtonProps<T> & Partial<HTMLAttributes<HTMLAnchorElement | HTMLButtonElement | HTMLDivElement>>>) => {\n    const baseClassName = useMemo(() => (filterable ? cx(DROPDOWN_BUTTON_CLASSNAME, className) : className), [className, filterable]);\n    return filterable ? (\n        <div {...props} className={baseClassName} ref={toggleButtonRef as Ref<HTMLDivElement>} />\n    ) : (\n        <Button\n            {...props}\n            className={baseClassName}\n            disabled={disabled}\n            variant={ButtonVariant.SECONDARY}\n            ref={toggleButtonRef as MutableRef<HTMLButtonElement>}\n        />\n    );\n};\n\nconst SelectButton = <T extends SelectItem>(props: SelectButtonProps<T> & { appliedFilterNumber: number }) => {\n    const { i18n } = useCoreContext();\n    const { active, filterable, multiSelect, placeholder, readonly, showList, withoutCollapseIndicator } = props;\n    const placeholderText = useMemo(() => placeholder?.trim() || i18n.get('select.filter.placeholder'), [i18n, placeholder]);\n    const buttonActiveItem = useMemo(() => (boolOrFalse(multiSelect) ? undefined : active[0]), [active, multiSelect]);\n    const buttonTitleText = useMemo(() => buttonActiveItem?.name?.trim() || placeholderText, [buttonActiveItem, placeholderText]);\n\n    return (\n        <SelectButtonElement\n            active={active}\n            disabled={readonly}\n            aria-disabled={readonly}\n            aria-expanded={showList}\n            aria-haspopup=\"listbox\"\n            className={cx(DROPDOWN_BUTTON_CLASS, {\n                [DROPDOWN_BUTTON_ACTIVE_CLASS]: showList,\n                [DROPDOWN_BUTTON_HAS_SELECTION_CLASS]: !!active.length,\n                [DROPDOWN_BUTTON_READONLY_CLASS]: readonly,\n                [DROPDOWN_BUTTON_INVALID_CLASS]: props.isInvalid,\n                [DROPDOWN_BUTTON_VALID_CLASS]: props.isValid,\n            })}\n            filterable={filterable}\n            onClick={!readonly ? props.toggleList : undefined}\n            onKeyDown={!readonly ? props.onButtonKeyDown : undefined}\n            role={filterable ? 'button' : undefined}\n            tabIndex={0}\n            title={buttonTitleText}\n            toggleButtonRef={props.toggleButtonRef}\n            type={!filterable ? 'button' : ''}\n            aria-describedby={props.ariaDescribedBy}\n            id={props.id ?? ''}\n        >\n            {showList && filterable ? (\n                <input\n                    aria-autocomplete=\"list\"\n                    aria-controls={props.selectListId}\n                    aria-expanded={showList}\n                    aria-owns={props.selectListId}\n                    autoComplete=\"off\"\n                    className=\"adyen-pe-filter-input\"\n                    onInput={props.onInput}\n                    placeholder={placeholderText}\n                    ref={props.filterInputRef}\n                    role=\"combobox\"\n                    type=\"text\"\n                />\n            ) : (\n                <>\n                    {buttonActiveItem?.icon && (\n                        <Img className={DROPDOWN_BUTTON_ICON_CLASS} src={buttonActiveItem.icon} alt={buttonActiveItem.name.trim()} />\n                    )}\n                    <span className={DROPDOWN_BUTTON_TEXT_CLASS}>\n                        {buttonActiveItem?.selectedOptionName?.trim() || buttonActiveItem?.name.trim() || placeholderText}\n                    </span>\n                    {multiSelect && props.appliedFilterNumber > 0 && (\n                        <div className={DROPDOWN_BUTTON_MULTI_SELECT_COUNTER_CLASS}>\n                            <Typography el={TypographyElement.SPAN} variant={TypographyVariant.BODY} stronger={true}>\n                                {props.appliedFilterNumber}\n                            </Typography>\n                        </div>\n                    )}\n                </>\n            )}\n            {!withoutCollapseIndicator && (\n                <span className={DROPDOWN_BUTTON_COLLAPSE_INDICATOR_CLASS}>\n                    <ChevronDown role=\"presentation\" />\n                </span>\n            )}\n        </SelectButtonElement>\n    );\n};\n\nexport default SelectButton;\n","import { Ref } from 'preact';\nimport { SVGProps } from 'preact/compat';\nimport { fixedForwardRef } from '../../../utils/preact';\n\n/**\n * @deprecated This component is deprecated. Use <Icon name=\"checkmark-square-fill\"/> instead.\n */\nconst CheckedBox = fixedForwardRef(({ title, ...props }: Omit<SVGProps<SVGElement>, 'ref'>, ref: Ref<SVGSVGElement>) => (\n    <svg {...props} ref={ref} xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\">\n        {title && <title>{title}</title>}\n        <path\n            fill=\"currentColor\"\n            d=\"M1.25 3.5c0-1.24 1-2.25 2.25-2.25h9c1.24 0 2.25 1 2.25 2.25v9c0 1.24-1 2.25-2.25 2.25h-9c-1.24 0-2.25-1-2.25-2.25v-9ZM12.06 6 11 4.94l-4 4-2-2L3.94 8 7 11.06 12.06 6Z\"\n        />\n    </svg>\n));\n\nexport default CheckedBox;\n","import { Ref } from 'preact';\nimport { SVGProps } from 'preact/compat';\nimport { fixedForwardRef } from '../../../utils/preact';\n\n/**\n * @deprecated This component is deprecated. Use <Icon name=\"square\"/> instead.\n */\nconst UncheckedBox = fixedForwardRef(({ title, ...props }: Omit<SVGProps<SVGElement>, 'ref'>, ref: Ref<SVGSVGElement>) => (\n    <svg {...props} ref={ref} xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\">\n        {title && <title>{title}</title>}\n        <path stroke=\"currentColor\" d=\"M.5 4C.5 2 2.1.5 4 .5h8c2 0 3.5 1.6 3.5 3.5v8c0 2-1.6 3.5-3.5 3.5H4C2 15.5.5 13.9.5 12V4Z\" />\n    </svg>\n));\n\nexport default UncheckedBox;\n","import { Ref } from 'preact';\nimport { SVGProps } from 'preact/compat';\nimport { fixedForwardRef } from '../../../utils/preact';\n\n/**\n * @deprecated This component is deprecated. Use <Icon name=\"checkmark\"/> instead.\n */\nconst Checkmark = fixedForwardRef(({ title, ...props }: Omit<SVGProps<SVGElement>, 'ref'>, ref: Ref<SVGSVGElement>) => (\n    <svg {...props} ref={ref} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" width=\"16\" viewBox=\"0 0 16 16\" height=\"16\">\n        {title && <title>{title}</title>}\n        <path\n            fill=\"currentColor\"\n            fill-rule=\"evenodd\"\n            d=\"M14.5 4.5a.7.7 0 0 0-1-1L6 10.9 2.5 7.5a.8.8 0 0 0-1 1l4 4a.8.8 0 0 0 1 0l8-8Z\"\n            clip-rule=\"evenodd\"\n        />\n    </svg>\n));\n\nexport default Checkmark;\n","import cx from 'classnames';\nimport { memo } from 'preact/compat';\nimport Img from '../../../Img';\nimport type { SelectItem, SelectItemProps } from '../types';\nimport CheckedBox from '../../../SVGIcons/CheckedBox';\nimport UncheckedBox from '../../../SVGIcons/UncheckedBox';\nimport Checkmark from '../../../SVGIcons/Checkmark';\nimport { boolOrFalse } from '../../../../../utils';\nimport {\n    DROPDOWN_ELEMENT_ACTIVE_CLASS,\n    DROPDOWN_ELEMENT_CHECKBOX_CLASS,\n    DROPDOWN_ELEMENT_CHECKMARK_CLASS,\n    DROPDOWN_ELEMENT_CLASS,\n    DROPDOWN_ELEMENT_CONTENT_CLASS,\n    DROPDOWN_ELEMENT_DISABLED_CLASS,\n    DROPDOWN_ELEMENT_ICON_CLASS,\n} from '../constants';\n\ntype _RenderSelectOptionResult<T extends SelectItem> = ReturnType<SelectItemProps<T>['renderListItem']>;\ntype _RenderSelectOptionData<T extends SelectItem> = Parameters<SelectItemProps<T>['renderListItem']>[0];\n\nexport const renderDefaultMultiSelectionCheckedness = <T extends SelectItem>(data: _RenderSelectOptionData<T>): _RenderSelectOptionResult<T> =>\n    data.multiSelect ? (\n        <span className={DROPDOWN_ELEMENT_CHECKBOX_CLASS}>\n            {data.selected ? <CheckedBox role=\"presentation\" /> : <UncheckedBox role=\"presentation\" />}\n        </span>\n    ) : null;\n\nexport const renderDefaultSingleSelectionCheckedness = <T extends SelectItem>(data: _RenderSelectOptionData<T>): _RenderSelectOptionResult<T> =>\n    data.multiSelect ? null : <span className={DROPDOWN_ELEMENT_CHECKMARK_CLASS}>{data.selected && <Checkmark role=\"presentation\" />}</span>;\n\nexport const renderListItemDefault = <T extends SelectItem>(data: _RenderSelectOptionData<T>): _RenderSelectOptionResult<T> => (\n    <>\n        {renderDefaultMultiSelectionCheckedness(data)}\n        <div className={data.contentClassName as string}>\n            {data.item.icon && <Img className={data.iconClassName as string} alt={data.item.name} src={data.item.icon} />}\n            <span>{data.item.name}</span>\n        </div>\n        {renderDefaultSingleSelectionCheckedness(data)}\n    </>\n);\n\nconst SelectListItem = <T extends SelectItem>({ item, multiSelect, onKeyDown, onSelect, renderListItem, selected }: SelectItemProps<T>) => {\n    const disabled = !!item.disabled;\n\n    // A change in Preact v10.11.1 means that all falsy values are assessed and set on data attributes.\n    // In the case of `data-disabled` we only ever want it set if item.disabled is actually true, since the presence\n    // of the `data-disabled` attr, regardless of its value, will disable the select list item.\n    const dataDisabled = boolOrFalse(item.disabled) || null;\n\n    const itemClassName = cx(DROPDOWN_ELEMENT_CLASS, {\n        [DROPDOWN_ELEMENT_ACTIVE_CLASS]: selected,\n        [DROPDOWN_ELEMENT_DISABLED_CLASS]: disabled,\n    });\n\n    return (\n        <li\n            aria-disabled={disabled}\n            aria-selected={selected}\n            className={itemClassName}\n            data-disabled={dataDisabled}\n            data-value={item.id}\n            onClick={onSelect}\n            onKeyDown={onKeyDown}\n            title={item.name}\n            role=\"option\"\n            tabIndex={-1}\n        >\n            {renderListItem({\n                item,\n                multiSelect,\n                selected,\n                contentClassName: DROPDOWN_ELEMENT_CONTENT_CLASS,\n                iconClassName: DROPDOWN_ELEMENT_ICON_CLASS,\n            })}\n        </li>\n    );\n};\n\nexport default memo(SelectListItem);\n","import { mediaQueries, useResponsiveViewport } from '../../../../../hooks/useResponsiveViewport';\nimport Popover from '../../../Popover/Popover';\nimport { PopoverContainerPosition, PopoverContainerSize, PopoverContainerVariant, PopoverProps } from '../../../Popover/types';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport { boolOrFalse, isFunction } from '../../../../../utils';\nimport { fixedForwardRef } from '../../../../../utils/preact';\nimport cx from 'classnames';\nimport { ForwardedRef, memo } from 'preact/compat';\nimport { useMemo } from 'preact/hooks';\nimport { DROPDOWN_ELEMENT_CLASS, DROPDOWN_ELEMENT_NO_OPTION_CLASS, DROPDOWN_LIST_ACTIVE_CLASS, DROPDOWN_LIST_CLASS } from '../constants';\nimport type { SelectItem, SelectListProps } from '../types';\nimport SelectListItem, { renderListItemDefault } from './SelectListItem';\n\nconst SelectList = fixedForwardRef(\n    <T extends SelectItem>(\n        {\n            active,\n            commitActions,\n            items,\n            multiSelect,\n            onKeyDown,\n            onSelect,\n            renderListItem,\n            selectListId,\n            showList,\n            textFilter,\n            toggleButtonRef,\n            dismissPopover,\n            setToTargetWidth,\n            popoverClassNameModifiers,\n            showOverlay,\n            fitPosition,\n        }: SelectListProps<T>,\n        ref: ForwardedRef<HTMLUListElement>\n    ) => {\n        const { i18n } = useCoreContext();\n        const isSmViewport = useResponsiveViewport(mediaQueries.down.xs);\n        const filteredItems = items.filter(item => !textFilter || item.name.toLowerCase().includes(textFilter));\n        const listClassName = cx(DROPDOWN_LIST_CLASS, { [DROPDOWN_LIST_ACTIVE_CLASS]: showList });\n        const noOptionsClassName = cx(DROPDOWN_ELEMENT_CLASS, DROPDOWN_ELEMENT_NO_OPTION_CLASS);\n        const renderSelectOption = useMemo(() => (isFunction(renderListItem) ? renderListItem : renderListItemDefault), [renderListItem]);\n        const multipleSelection = useMemo(() => boolOrFalse(multiSelect), [multiSelect]);\n\n        return showList ? (\n            <Popover\n                classNameModifiers={popoverClassNameModifiers}\n                actions={multipleSelection ? commitActions : undefined}\n                disableFocusTrap={true}\n                divider={true}\n                dismiss={dismissPopover}\n                dismissible={false}\n                open={showList}\n                setToTargetWidth={setToTargetWidth}\n                containerSize={PopoverContainerSize.MEDIUM}\n                variant={PopoverContainerVariant.POPOVER}\n                targetElement={toggleButtonRef as PopoverProps['targetElement']}\n                withContentPadding={false}\n                position={PopoverContainerPosition.BOTTOM}\n                showOverlay={showOverlay && isSmViewport}\n                fitPosition={fitPosition}\n            >\n                <ul className={listClassName} id={selectListId} ref={ref} role=\"listbox\" aria-multiselectable={multipleSelection}>\n                    {filteredItems.length ? (\n                        filteredItems.map(item => {\n                            return (\n                                <SelectListItem\n                                    item={item}\n                                    key={item.id}\n                                    multiSelect={multipleSelection}\n                                    onKeyDown={onKeyDown}\n                                    onSelect={onSelect}\n                                    renderListItem={renderSelectOption}\n                                    selected={active.includes(item)}\n                                />\n                            );\n                        })\n                    ) : (\n                        <div className={noOptionsClassName}>{i18n.get('select.noOptionsFound')}</div>\n                    )}\n                </ul>\n            </Popover>\n        ) : null;\n    }\n);\n\nexport default memo(SelectList);\n","import { useCallback, useEffect, useState } from 'preact/hooks';\nimport { EMPTY_ARRAY } from '../../../../../utils';\nimport { SelectItem, SelectProps } from '../types';\n\nconst useSelect = <T extends SelectItem>({ items, multiSelect, selected }: Pick<SelectProps<T>, 'items' | 'multiSelect' | 'selected'>) => {\n    const getSelectedItems = useCallback(\n        (selectedItems: typeof selected = EMPTY_ARRAY) => {\n            const _selected = (EMPTY_ARRAY as readonly T['id'][]).concat(selectedItems ?? EMPTY_ARRAY).filter(Boolean);\n            const _selectedItems = items.filter(item => _selected.includes(item.id));\n            const selection = multiSelect ? _selectedItems : _selectedItems.slice(0, 1);\n            return selection.length ? Object.freeze(selection) : EMPTY_ARRAY;\n        },\n        [items, multiSelect]\n    );\n\n    const [selection, setSelection] = useState(getSelectedItems(selected));\n\n    const resetSelection = useCallback(\n        (selection: readonly T[] | T[] = EMPTY_ARRAY) => {\n            const nextSelection = selection.filter(item => items.includes(item));\n            setSelection(nextSelection.length ? Object.freeze(nextSelection) : EMPTY_ARRAY);\n        },\n        [items, setSelection]\n    );\n\n    const select = useCallback(\n        (item: T) => {\n            setSelection(currentSelection => {\n                const index = currentSelection.indexOf(item);\n\n                // Item not already selected\n                if (index < 0) return Object.freeze(((multiSelect ? currentSelection : EMPTY_ARRAY) as readonly T[]).concat(item));\n\n                // Item is current selection\n                if (!multiSelect) return currentSelection;\n\n                // Item should be deselected\n                const nextSelection = [...currentSelection];\n                nextSelection.splice(index, 1);\n                return nextSelection.length ? Object.freeze(nextSelection) : EMPTY_ARRAY;\n            });\n        },\n        [multiSelect, setSelection]\n    );\n\n    useEffect(() => setSelection(getSelectedItems(selected)), [getSelectedItems, selected, setSelection]);\n\n    return { resetSelection, select, selection } as const;\n};\n\nexport default useSelect;\n","import cx from 'classnames';\nimport { useCallback, useEffect, useMemo, useRef, useState } from 'preact/hooks';\nimport { InteractionKeyCode } from '../../../types';\nimport { ARIA_ERROR_SUFFIX } from '../../../../core/Errors/constants';\nimport { boolOrFalse, EMPTY_ARRAY, noop, uuid } from '../../../../utils';\nimport useCommitAction, { CommitAction } from '../../../../hooks/useCommitAction';\nimport SelectButton from './components/SelectButton';\nimport SelectList from './components/SelectList';\nimport useSelect from './hooks/useSelect';\nimport { DROPDOWN_BASE_CLASS, DROPDOWN_MULTI_SELECT_CLASS } from './constants';\nimport { SelectItem, SelectProps } from './types';\nimport './Select.scss';\n\n// [TODO]: Revisit this component logic — for handling user interaction\nconst Select = <T extends SelectItem>({\n    className,\n    classNameModifiers = EMPTY_ARRAY as [],\n    popoverClassNameModifiers,\n    items = EMPTY_ARRAY as readonly T[],\n    filterable = false,\n    multiSelect = false,\n    readonly = false,\n    onChange = noop,\n    selected,\n    name,\n    isInvalid,\n    isValid,\n    placeholder,\n    uniqueId,\n    renderListItem,\n    isCollatingErrors,\n    setToTargetWidth,\n    withoutCollapseIndicator = false,\n    showOverlay = false,\n    fitPosition,\n}: SelectProps<T>) => {\n    const { resetSelection, select, selection } = useSelect({ items, multiSelect, selected });\n    const [showList, setShowList] = useState<boolean>(false);\n    const [textFilter, setTextFilter] = useState<string>('');\n    const filterInputRef = useRef<HTMLInputElement>(null);\n    const selectListRef = useRef<HTMLUListElement>(null);\n    const toggleButtonRef = useRef<HTMLButtonElement>(null);\n    const selectListId = useRef(`select-${uuid()}`);\n    const [appliedFilterNumber, setAppliedFilterNumber] = useState(0);\n\n    const autoFocusAnimFrame = useRef<ReturnType<typeof requestAnimationFrame>>();\n    const pendingClickOutsideTriggeredHideList = useRef(true);\n    const clearSelectionInProgress = useRef(false);\n    const cachedSelectedItems = useRef(selection);\n    const selectedItems = useRef(selection);\n\n    const dismissPopover = useCallback(() => {\n        setTextFilter('');\n        setShowList(false);\n        if (showList) {\n            resetSelection(cachedSelectedItems.current);\n            pendingClickOutsideTriggeredHideList.current = true;\n        }\n    }, [resetSelection, setShowList, setTextFilter, showList]);\n\n    //TODO: Clarify and delete this\n    // const selectContainerRef = useClickOutside(\n    //     useRef<HTMLDivElement>(null),\n    //     useCallback(() => {\n    //         setTextFilter('');\n    //         setShowList(false);\n    //         if (showList) {\n    //             resetSelection(cachedSelectedItems.current);\n    //             pendingClickOutsideTriggeredHideList.current = true;\n    //         }\n    //     }, [resetSelection, showList, setShowList, setTextFilter])\n    // );\n\n    const dropdownClassName = useMemo(\n        () =>\n            cx([\n                DROPDOWN_BASE_CLASS,\n                { [DROPDOWN_MULTI_SELECT_CLASS]: boolOrFalse(multiSelect) },\n                ...classNameModifiers.map(mod => `${DROPDOWN_BASE_CLASS}--${mod}`),\n                className,\n            ]),\n        [className, classNameModifiers, multiSelect]\n    );\n\n    const { commitAction, commitActionButtons, committing, resetCommitAction } = useCommitAction({\n        resetDisabled: !selection.length,\n    });\n\n    /**\n     * Closes the select list:\n     *   - empties the text filter\n     *   - restores focus to the select button element (?)\n     */\n    const closeList = useCallback(() => {\n        setTextFilter('');\n        setShowList(false);\n        resetCommitAction();\n\n        if (!pendingClickOutsideTriggeredHideList.current) {\n            toggleButtonRef.current?.focus();\n        } else pendingClickOutsideTriggeredHideList.current = false;\n    }, [resetCommitAction, setShowList, setTextFilter]);\n\n    const commitSelection = useCallback(() => {\n        cachedSelectedItems.current = selection;\n        const value = `${selection.map(({ id }) => id)}`;\n        onChange({ target: { value, name } });\n    }, [name, onChange, selection]);\n\n    useEffect(() => {\n        switch (commitAction) {\n            case CommitAction.APPLY:\n                commitSelection();\n                break;\n            case CommitAction.CLEAR:\n                resetSelection();\n                clearSelectionInProgress.current = true;\n                break;\n        }\n    }, [commitAction, commitSelection, resetSelection]);\n\n    /**\n     * Closes the select list and fires an onChange\n     * @param e - Event\n     */\n    const handleSelect = useCallback(\n        (e: Event) => {\n            e.preventDefault();\n\n            // If the target is not one of the list items, select the first list item\n            const target: HTMLUListElement | undefined | null =\n                e.currentTarget && selectListRef?.current?.contains(e.currentTarget as HTMLUListElement)\n                    ? (e.currentTarget as HTMLUListElement)\n                    : null; // (selectListRef?.current?.firstElementChild as HTMLUListElement);\n\n            if (target && !target.getAttribute('data-disabled')) {\n                const value = target.getAttribute('data-value');\n                const item = items.find(item => item.id === value)!;\n                select(item);\n            }\n        },\n        [items, select]\n    );\n\n    useEffect(() => {\n        if (selectedItems.current !== selection) {\n            selectedItems.current = selection;\n            if (!multiSelect || clearSelectionInProgress.current) {\n                commitSelection();\n                closeList();\n            }\n        }\n        clearSelectionInProgress.current = false;\n    }, [closeList, commitSelection, multiSelect, selection]);\n\n    useEffect(() => {\n        if (committing) {\n            setAppliedFilterNumber(selection.length);\n            closeList();\n        }\n    }, [committing, closeList, setAppliedFilterNumber, selection.length]);\n\n    /**\n     * Handle keyDown events on the selectList button\n     * Opens the selectList and focuses the first element if available\n     * @param evt {KeyboardEvent}\n     */\n    const handleButtonKeyDown = useCallback(\n        (evt: KeyboardEvent) => {\n            switch (evt.code) {\n                case InteractionKeyCode.ESCAPE:\n                case InteractionKeyCode.TAB:\n                    /**\n                     * Implementation notes ({@link https://w3c.github.io/aria-practices/examples/disclosure/disclosure-navigation.html article}):\n                     * - When user has focused select button but not yet moved into select list, close list and keep focus on the select button\n                     * - Shift+Tab out of select should close list\n                     */\n                    showList && closeList();\n                    pendingClickOutsideTriggeredHideList.current = evt.key === InteractionKeyCode.TAB;\n                    return;\n                case InteractionKeyCode.ENTER:\n                case InteractionKeyCode.SPACE:\n                    if (filterable && showList) {\n                        if (evt.key === InteractionKeyCode.ENTER) {\n                            if (textFilter) handleSelect(evt);\n                            else break;\n                        }\n                        return;\n                    }\n                    break;\n                case InteractionKeyCode.ARROW_DOWN:\n                case InteractionKeyCode.ARROW_UP:\n                    break;\n                default:\n                    return;\n            }\n\n            evt.preventDefault();\n            setShowList(true);\n        },\n        [closeList, filterable, handleSelect, showList, setShowList, textFilter]\n    );\n\n    useEffect(() => {\n        if (showList) {\n            cancelAnimationFrame(autoFocusAnimFrame.current!);\n\n            autoFocusAnimFrame.current = requestAnimationFrame(() => {\n                focus: {\n                    let item = selectListRef.current?.firstElementChild as HTMLLIElement;\n                    let firstAvailableItem: typeof item | undefined;\n\n                    while (item) {\n                        if (!(item.dataset.disabled && item.dataset.disabled === 'true')) {\n                            if (item.getAttribute('aria-selected') === 'true') {\n                                item.focus();\n                                break focus;\n                            }\n                            firstAvailableItem = firstAvailableItem || item;\n                        }\n                        item = item.nextElementSibling as HTMLLIElement;\n                    }\n\n                    if (firstAvailableItem) firstAvailableItem.focus();\n                }\n            });\n        }\n    }, [showList]);\n\n    /**\n     * Handle keyDown events on the list elements\n     * Navigates through the list, or select an element, or focus the filter input, or close the menu.\n     * @param e - KeyDownEvent\n     */\n    const handleListKeyDown = useCallback(\n        (evt: KeyboardEvent) => {\n            const target = evt.target as HTMLInputElement;\n\n            switch (evt.code) {\n                case InteractionKeyCode.ESCAPE:\n                    evt.preventDefault();\n                    // When user is actively navigating through list with arrow keys - close list and keep focus on the Select Button re. a11y guidelines (above)\n                    closeList();\n                    break;\n                case InteractionKeyCode.ENTER:\n                case InteractionKeyCode.SPACE:\n                    handleSelect(evt);\n                    break;\n                case InteractionKeyCode.ARROW_DOWN: {\n                    evt.preventDefault();\n                    let item = target.nextElementSibling as HTMLLIElement;\n                    while (item) {\n                        if (!(item.dataset.disabled && item.dataset.disabled === 'true')) {\n                            item.focus();\n                            break;\n                        }\n                        item = item.nextElementSibling as HTMLLIElement;\n                    }\n                    break;\n                }\n                case InteractionKeyCode.ARROW_UP: {\n                    evt.preventDefault();\n                    focus: {\n                        let item = target.previousElementSibling as HTMLLIElement;\n                        while (item) {\n                            if (!(item.dataset.disabled && item.dataset.disabled === 'true')) {\n                                item.focus();\n                                break focus;\n                            }\n                            item = item.previousElementSibling as HTMLLIElement;\n                        }\n                        if (filterable && filterInputRef.current) {\n                            filterInputRef.current.focus();\n                        }\n                    }\n                    break;\n                }\n                case InteractionKeyCode.TAB:\n                    closeList();\n                    break;\n                default:\n            }\n        },\n        [closeList, filterable, handleSelect]\n    );\n\n    /**\n     * Updates the state with the current text filter value\n     * @param e - KeyboardEvent\n     */\n    const handleTextFilter = useCallback(\n        (e: Event) => {\n            const value: string = (e.target as HTMLInputElement).value;\n            setTextFilter(value.toLowerCase());\n        },\n        [setTextFilter]\n    );\n\n    /**\n     * Toggles the selectList and focuses in either the filter input or in the selectList button\n     * @param e - Event\n     */\n    const toggleList = useCallback(\n        (e: Event) => {\n            e.preventDefault();\n            setShowList(showList => !showList);\n            showList && resetSelection(cachedSelectedItems.current);\n        },\n        [setShowList, showList, resetSelection]\n    );\n\n    useEffect(() => {\n        if (showList && filterable) {\n            filterInputRef.current?.focus();\n        }\n    }, [filterable, showList]);\n\n    return (\n        <div className={dropdownClassName}>\n            <SelectButton\n                id={uniqueId ?? undefined}\n                appliedFilterNumber={appliedFilterNumber}\n                active={selection}\n                filterInputRef={filterInputRef}\n                filterable={filterable}\n                isInvalid={isInvalid}\n                isValid={isValid}\n                onButtonKeyDown={handleButtonKeyDown}\n                onInput={handleTextFilter}\n                multiSelect={multiSelect}\n                placeholder={placeholder}\n                readonly={readonly}\n                selectListId={selectListId.current}\n                showList={showList}\n                toggleButtonRef={toggleButtonRef}\n                toggleList={toggleList}\n                withoutCollapseIndicator={withoutCollapseIndicator}\n                ariaDescribedBy={!isCollatingErrors && uniqueId ? `${uniqueId}${ARIA_ERROR_SUFFIX}` : ''}\n            />\n            <SelectList\n                popoverClassNameModifiers={popoverClassNameModifiers}\n                setToTargetWidth={setToTargetWidth}\n                dismissPopover={dismissPopover}\n                active={selection}\n                commitActions={commitActionButtons}\n                items={items}\n                multiSelect={multiSelect}\n                onKeyDown={handleListKeyDown}\n                onSelect={handleSelect}\n                selectListId={selectListId.current}\n                ref={selectListRef}\n                toggleButtonRef={toggleButtonRef}\n                renderListItem={renderListItem}\n                showList={showList}\n                showOverlay={showOverlay}\n                textFilter={textFilter}\n                fitPosition={fitPosition}\n            />\n        </div>\n    );\n};\n\nexport default Select;\n","import { Ref } from 'preact';\nimport { SVGProps } from 'preact/compat';\nimport { fixedForwardRef } from '../../../utils/preact';\n\n/**\n * @deprecated This component is deprecated. Use <Icon name=\"chevron-left\"/> instead.\n */\nconst ChevronLeft = fixedForwardRef(({ title, ...props }: Omit<SVGProps<SVGElement>, 'ref'>, ref: Ref<SVGSVGElement>) => (\n    <svg {...props} ref={ref} width=\"7\" height=\"10\" viewBox=\"0 0 6 10\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        {title && <title>{title}</title>}\n\n        <path\n            d=\"M5.56077 2.00011L2.56077 5.00011L5.56077 8.00011L4.50011 9.06077L0.439453 5.00011L4.50011 0.939453L5.56077 2.00011Z\"\n            fill={props.disabled ? '#8D95A3' : '#00112C'}\n        />\n    </svg>\n));\n\nexport default ChevronLeft;\n","import { Ref } from 'preact';\nimport { SVGProps } from 'preact/compat';\nimport { fixedForwardRef } from '../../../utils/preact';\n\n/**\n * @deprecated This component is deprecated. Use <Icon name=\"chevron-right\"/> instead.\n */\nconst ChevronRight = fixedForwardRef(({ title, ...props }: Omit<SVGProps<SVGElement>, 'ref'>, ref: Ref<SVGSVGElement>) => (\n    <svg {...props} ref={ref} width=\"7\" height=\"10\" viewBox=\"0 0 6 10\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        {title && <title>{title}</title>}\n        <path\n            d=\"M0.439453 7.9999L3.43945 4.9999L0.439454 1.9999L1.50011 0.93924L5.56077 4.9999L1.50011 9.06056L0.439453 7.9999Z\"\n            fill={props.disabled ? '#8D95A3' : '#00112C'}\n        />\n    </svg>\n));\n\nexport default ChevronRight;\n","import { ButtonVariant } from '../Button/types';\nimport useCoreContext from '../../../core/Context/useCoreContext';\nimport { EMPTY_ARRAY, isNullish } from '../../../utils';\nimport classnames from 'classnames';\nimport { useCallback, useMemo } from 'preact/hooks';\nimport Button from '../Button';\nimport './Pagination.scss';\nimport { PaginationProps } from './types';\nimport Select from '../FormFields/Select';\nimport { SelectItem } from '../FormFields/Select/types';\nimport ChevronLeft from '../SVGIcons/ChevronLeft';\nimport ChevronRight from '../SVGIcons/ChevronRight';\n\nexport default function Pagination({ next, hasNext, hasPrev, page, prev, limit, limitOptions, onLimitSelection }: PaginationProps) {\n    const { i18n } = useCoreContext();\n\n    const _limitOptions = useMemo(\n        () => limitOptions && Object.freeze(limitOptions.map(option => ({ id: `${option}`, name: `${option}` } as SelectItem))),\n        [limitOptions]\n    );\n\n    const _onLimitChanged = useCallback(\n        ({ target }: any) => {\n            if (isNullish(target?.value)) return;\n            onLimitSelection?.(+target.value);\n        },\n        [onLimitSelection]\n    );\n\n    return (\n        <div aria-label={i18n.get('paginatedNavigation')} className={`adyen-pe-pagination ${classnames({})}`}>\n            <div className=\"adyen-pe-pagination__context\">\n                {_limitOptions && onLimitSelection && (\n                    <>\n                        <span>{i18n.get('pagination.showing')}</span>\n                        <div className=\"adyen-pe-pagination__limit-selector\">\n                            <Select\n                                setToTargetWidth={true}\n                                filterable={false}\n                                multiSelect={false}\n                                items={_limitOptions}\n                                onChange={_onLimitChanged}\n                                selected={`${limit ?? ''}`}\n                            />\n                        </div>\n                    </>\n                )}\n            </div>\n\n            <div className=\"adyen-pe-pagination__controls\">\n                <Button\n                    aria-label={i18n.get('pagination.previousPage')}\n                    variant={ButtonVariant.TERTIARY}\n                    disabled={!hasPrev}\n                    iconButton={true}\n                    classNameModifiers={['circle'].concat(hasPrev ? EMPTY_ARRAY : 'disabled')}\n                    onClick={prev}\n                >\n                    <ChevronLeft disabled={!hasPrev} />\n                </Button>\n                <Button\n                    aria-label={i18n.get('pagination.nextPage')}\n                    variant={ButtonVariant.TERTIARY}\n                    disabled={!hasNext}\n                    iconButton={true}\n                    classNameModifiers={['circle'].concat(hasNext ? EMPTY_ARRAY : 'disabled')}\n                    onClick={next}\n                >\n                    <ChevronRight disabled={!hasNext} />\n                </Button>\n            </div>\n        </div>\n    );\n}\n","export const BASE_CLASS = 'adyen-pe-transactions-table';\nexport const AMOUNT_CLASS = BASE_CLASS + '__amount';\nexport const PAYMENT_METHOD_CLASS = BASE_CLASS + '__payment-method';\nexport const PAYMENT_METHOD_LOGO_CONTAINER_CLASS = BASE_CLASS + '__payment-method-logo-container';\nexport const PAYMENT_METHOD_LOGO_CLASS = BASE_CLASS + '__payment-method-logo';\nexport const DATE_AND_PAYMENT_METHOD_CLASS = BASE_CLASS + '__date-and-payment-method';\nexport const DATE_METHOD_CLASS = BASE_CLASS + '__date-and-payment-method--date';\n","import useCoreContext from '../core/Context/useCoreContext';\nimport { EMPTY_OBJECT } from '../utils';\nimport { useMemo } from 'preact/hooks';\n\n// TODO - Remove once we define a strategy to handle images\nconst FALLBACK_CDN_CONTEXT = 'https://cdf6519016.cdn.adyen.com/checkoutshopper/';\n\nexport interface ImageOptions {\n    extension?: string;\n    imageFolder?: string;\n    resourceContext?: string;\n    name: string;\n    parentFolder?: string;\n    size?: string;\n    subFolder?: string;\n}\n\nconst returnImage = ({\n    name,\n    resourceContext,\n    imageFolder = 'logos/',\n    parentFolder = '',\n    extension = 'svg',\n    size = '',\n    subFolder = '',\n}: ImageOptions) => {\n    const path = `/images/${imageFolder}/${subFolder}/${parentFolder}/${name}${size}.${extension}`.replace(/\\/+/g, '/');\n    return `${resourceContext}${path}`;\n};\n\nexport const useImageUrl = ({ options = EMPTY_OBJECT, name }: { options: Partial<ImageOptions>; name: string }) => {\n    const { loadingContext } = useCoreContext();\n\n    // TODO - Get rid of FALLBACK_CDN_CONTEXT once we define our assets URL\n    const image = useMemo(\n        () =>\n            returnImage({\n                resourceContext: FALLBACK_CDN_CONTEXT || loadingContext,\n                name,\n                ...options,\n            }),\n        [loadingContext, name, options]\n    );\n\n    return image;\n};\n","import cx from 'classnames';\nimport { useImageUrl } from '../../../hooks/useImageUrl';\nimport { useMemo } from 'preact/hooks';\n\ninterface ImageProps {\n    name: string;\n    alt: string;\n    extension?: string;\n    className?: string;\n    folder?: string;\n}\n\nexport const Image = ({ folder = 'components/', className, alt, name, extension }: ImageProps) => {\n    const imageUrl = useImageUrl({\n        options: useMemo(() => ({ imageFolder: folder, extension }), [extension, folder]),\n        name,\n    });\n\n    return <img className={cx('adyen-pe__image', className)} alt={alt} src={imageUrl} />;\n};\n","export enum TagVariant {\n    DEFAULT = 'default',\n    WARNING = 'warning',\n    ERROR = 'error',\n    SUCCESS = 'success',\n    WHITE = 'white',\n    LIGHT = 'light',\n    LIGHT_WITH_OUTLINE = 'light-with-outline',\n\n    // Adapted from the latest Bento tag variants spec\n    BLUE = 'blue',\n}\n\nexport interface TagProps {\n    variant?: TagVariant;\n    label: string;\n}\n","import cx from 'classnames';\nimport { TagProps, TagVariant } from './types';\nimport './Tag.scss';\nimport { memo } from 'preact/compat';\nexport const Tag = memo(({ variant = TagVariant.DEFAULT, label }: TagProps) => {\n    return (\n        <div\n            className={cx('adyen-pe-tag', {\n                // [TODO]: These Bento tag variants definitions are outdated\n                'adyen-pe-tag--success': variant === TagVariant.SUCCESS,\n                'adyen-pe-tag--default': variant === TagVariant.DEFAULT,\n                'adyen-pe-tag--warning': variant === TagVariant.WARNING,\n                'adyen-pe-tag--error': variant === TagVariant.ERROR,\n                'adyen-pe-tag--primary': variant === TagVariant.WHITE,\n                'adyen-pe-tag--light': variant === TagVariant.LIGHT,\n                'adyen-pe-tag--light-with-outline': variant === TagVariant.LIGHT_WITH_OUTLINE,\n                // Adopted from the latest Bento tag variants spec\n                'adyen-pe-tag--blue': variant === TagVariant.BLUE,\n            })}\n        >\n            {label}\n        </div>\n    );\n});\n","import { ITransaction } from '../../../../types';\n\nconst PAYMENT_METHODS = Object.freeze({\n    klarna: 'Klarna',\n    paypal: 'PayPal',\n});\n\nexport function parsePaymentMethodType(paymentMethod: NonNullable<ITransaction['paymentMethod']>, format?: 'detail' | 'fourDigit') {\n    if (paymentMethod.lastFourDigits) return format === 'detail' ? '•••• •••• •••• ' + paymentMethod.lastFourDigits : paymentMethod.lastFourDigits;\n\n    return PAYMENT_METHODS[paymentMethod.type as keyof typeof PAYMENT_METHODS] || paymentMethod.type;\n}\n","import useCoreContext from '../../../../../core/Context/useCoreContext';\nimport { ITransaction } from '../../../../../types';\nimport { Image } from '../../../../internal/Image/Image';\nimport { Tag } from '../../../../internal/Tag/Tag';\nimport { TagVariant } from '../../../../internal/Tag/types';\nimport { TypographyVariant } from '../../../../internal/Typography/types';\nimport Typography from '../../../../internal/Typography/Typography';\nimport { mediaQueries, useResponsiveViewport } from '../../../../../hooks/useResponsiveViewport';\nimport { parsePaymentMethodType } from '../utils';\nimport { PAYMENT_METHOD_CLASS, PAYMENT_METHOD_LOGO_CLASS, PAYMENT_METHOD_LOGO_CONTAINER_CLASS } from './constants';\n\nconst PaymentMethodCell = ({\n    paymentMethod,\n    bankAccount,\n}: {\n    paymentMethod?: ITransaction['paymentMethod'];\n    bankAccount?: ITransaction['bankAccount'];\n}) => {\n    const { i18n } = useCoreContext();\n    const isSmViewport = useResponsiveViewport(mediaQueries.down.xs);\n\n    return (\n        <div className={PAYMENT_METHOD_CLASS}>\n            {paymentMethod || bankAccount ? (\n                <>\n                    <div className={PAYMENT_METHOD_LOGO_CONTAINER_CLASS}>\n                        <Image\n                            name={paymentMethod ? paymentMethod.type : 'bankTransfer'}\n                            alt={paymentMethod ? paymentMethod.type : 'bankTransfer'}\n                            folder={'logos/'}\n                            className={PAYMENT_METHOD_LOGO_CLASS}\n                        />\n                    </div>\n                    <Typography variant={TypographyVariant.BODY} stronger={isSmViewport}>\n                        {paymentMethod ? parsePaymentMethodType(paymentMethod) : bankAccount?.accountNumberLastFourDigits}\n                    </Typography>\n                </>\n            ) : (\n                <Tag label={i18n.get('noData')} variant={TagVariant.LIGHT_WITH_OUTLINE} />\n            )}\n        </div>\n    );\n};\n\nexport default PaymentMethodCell;\n","const labels = {\n    id: 'paymentId',\n    transactionType: 'transactionType',\n    createdAt: 'date',\n    balanceAccountId: 'balanceAccount',\n    accountHolderId: 'account',\n    amount: 'txAmount',\n    description: 'description',\n    status: 'status',\n    category: 'category',\n    paymentMethod: 'paymentMethod',\n    currency: 'currency',\n    fundsCapturedAmount: 'fundsCaptured',\n    payoutAmount: 'netPayout',\n    adjustmentAmount: 'adjustments',\n    dateAndPaymentMethod: 'date',\n    dateAndReportType: 'date',\n    reportType: 'report',\n    reportFile: 'file',\n} as const;\n\nexport const getLabel = (key: keyof typeof labels) => {\n    return labels[key] || key;\n};\n","import { useMemo } from 'preact/hooks';\nimport { getLabel } from '../components/utils/getLabel';\nimport { CellTextPosition } from '../components/internal/DataGrid/types';\nimport { CustomColumn, DataGridCustomColumnConfig } from '../components/types';\nimport useCoreContext from '../core/Context/useCoreContext';\nimport { EMPTY_OBJECT, isString, isUndefined } from '../utils';\n\ntype Columns<k extends string> = DataGridCustomColumnConfig<k> & { label?: string; position?: CellTextPosition; visible?: boolean };\n\nfunction removeUndefinedProperties<T extends string>(obj: Omit<Columns<T>, 'key'>): Partial<Columns<T>> {\n    let result: Partial<Omit<Columns<T>, 'key'>> = {};\n    for (const key of Object.keys(obj) as Array<keyof Omit<Columns<T>, 'key'>>) {\n        if (!isUndefined(obj[key])) {\n            result = { ...result, [key as keyof T]: obj[key] };\n        }\n    }\n    return result;\n}\n\nfunction _isStringArray(columns: any): columns is string[] {\n    return columns.every(isString);\n}\n\nexport const useTableColumns = <T extends string, C extends string>({\n    fields,\n    customColumns,\n    columnConfig,\n}: {\n    fields: T[] | Readonly<T[]>;\n    customColumns?: CustomColumn<C>[] | C[];\n    columnConfig?: { [k in T]?: Omit<Columns<k>, 'key'> };\n}) => {\n    const { i18n } = useCoreContext();\n\n    const tableColumns: CustomColumn<T>[] = useMemo(() => fields.map(field => ({ key: field })), [fields]);\n\n    const columns = useMemo(() => {\n        const parsedCols = customColumns\n            ? _isStringArray(customColumns)\n                ? customColumns.map<CustomColumn<C>>(col => ({ key: col }))\n                : customColumns\n            : undefined;\n\n        return (parsedCols || tableColumns).map(({ key, flex }) => {\n            const label = i18n.get(getLabel(key as any));\n\n            const config = removeUndefinedProperties<T>(columnConfig?.[key] || EMPTY_OBJECT);\n\n            return { key: key as unknown as T, label, visible: true, flex, ...(config || EMPTY_OBJECT) };\n        });\n    }, [columnConfig, customColumns, i18n, tableColumns]);\n\n    return columns;\n};\n","import { FC } from 'preact/compat';\nimport { useCallback, useMemo, useState } from 'preact/hooks';\nimport { DATE_FORMAT_TRANSACTIONS_MOBILE, DATE_FORMAT_TRANSACTIONS } from '../../../../../constants';\nimport Category from '../Category/Category';\nimport DataOverviewError from '../../../../internal/DataOverviewError/DataOverviewError';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport { getCurrencyCode } from '../../../../../core/Localization/amount/amount-util';\nimport { TranslationKey } from '../../../../../translations';\nimport useTimezoneAwareDateFormatting from '../../../../../hooks/useTimezoneAwareDateFormatting';\nimport DataGrid from '../../../../internal/DataGrid';\nimport { CellTextPosition } from '../../../../internal/DataGrid/types';\nimport Pagination from '../../../../internal/Pagination';\nimport { TypographyVariant } from '../../../../internal/Typography/types';\nimport Typography from '../../../../internal/Typography/Typography';\nimport { mediaQueries, useResponsiveViewport } from '../../../../../hooks/useResponsiveViewport';\nimport { AMOUNT_CLASS, BASE_CLASS, DATE_AND_PAYMENT_METHOD_CLASS, DATE_METHOD_CLASS } from './constants';\nimport './TransactionTable.scss';\nimport PaymentMethodCell from './PaymentMethodCell';\nimport { TransactionTableProps } from './types';\nimport { useTableColumns } from '../../../../../hooks/useTableColumns';\n\n// Remove status column temporarily\n// const FIELDS = ['createdAt', 'status', 'paymentMethod', 'transactionType', 'amount'] as const;\n\nexport const TRANSACTION_FIELDS = ['createdAt', 'paymentMethod', 'transactionType', 'amount'] as const;\nexport type TransactionsTableCols = (typeof TRANSACTION_FIELDS)[number];\n\nexport const TransactionsTable: FC<TransactionTableProps> = ({\n    activeBalanceAccount,\n    availableCurrencies,\n    error,\n    hasMultipleCurrencies,\n    loading,\n    onContactSupport,\n    onRowClick,\n    showDetails,\n    showPagination,\n    transactions,\n    customColumns,\n    ...paginationProps\n}) => {\n    const { i18n } = useCoreContext();\n    const { dateFormat } = useTimezoneAwareDateFormatting(activeBalanceAccount?.timeZone);\n    const [hoveredRow, setHoveredRow] = useState<undefined | number>();\n    const isSmAndUpViewport = useResponsiveViewport(mediaQueries.up.sm);\n    const isMdAndUpViewport = useResponsiveViewport(mediaQueries.up.md);\n    const isXsAndDownViewport = useResponsiveViewport(mediaQueries.down.xs);\n\n    const amountLabel = i18n.get('amount');\n    const columns = useTableColumns({\n        fields: TRANSACTION_FIELDS,\n        customColumns,\n        columnConfig: {\n            amount: {\n                label: hasMultipleCurrencies\n                    ? undefined\n                    : `${amountLabel} ${availableCurrencies && availableCurrencies[0] ? `(${getCurrencyCode(availableCurrencies[0])})` : ''}`,\n                position: CellTextPosition.RIGHT,\n                flex: isSmAndUpViewport ? 1.5 : undefined,\n            },\n            transactionType: { visible: isMdAndUpViewport },\n            paymentMethod: { visible: isSmAndUpViewport },\n        },\n    });\n\n    const EMPTY_TABLE_MESSAGE = {\n        title: 'noTransactionsFound',\n        message: ['tryDifferentSearchOrResetYourFiltersAndWeWillTryAgain'],\n    } satisfies { title: TranslationKey; message: TranslationKey | TranslationKey[] };\n\n    const onHover = useCallback(\n        (index?: number) => {\n            setHoveredRow(index ?? undefined);\n        },\n        [setHoveredRow]\n    );\n\n    const errorDisplay = useMemo(\n        () => () => <DataOverviewError error={error} onContactSupport={onContactSupport} errorMessage={'weCouldNotLoadYourTransactions'} />,\n        [error, onContactSupport]\n    );\n\n    return (\n        <div className={BASE_CLASS}>\n            <DataGrid\n                errorDisplay={errorDisplay}\n                error={error}\n                columns={columns}\n                data={transactions}\n                loading={loading}\n                outline={false}\n                onRowClick={{ callback: onRowClick }}\n                onRowHover={onHover}\n                emptyTableMessage={EMPTY_TABLE_MESSAGE}\n                customCells={{\n                    // Remove status column temporarily\n                    /* status: ({ value }) => {\n                        return (\n                            <Tag\n                                label={i18n.get(value)}\n                                variant={value === 'Booked' ? TagVariant.SUCCESS : value === 'Reversed' ? TagVariant.ERROR : TagVariant.DEFAULT}\n                            />\n                        );\n                    },*/\n\n                    transactionType: ({ item, rowIndex }) => {\n                        const tooltipKey = `tooltip.${item.category}`;\n                        return item.category ? (\n                            i18n.has(tooltipKey) ? (\n                                <Category isContainerHovered={rowIndex === hoveredRow} value={item.category} />\n                            ) : (\n                                <Typography variant={TypographyVariant.BODY}>\n                                    {i18n.has(`txType.${item.category}`) ? i18n.get(`txType.${item.category}`) : `${item.category}`}\n                                </Typography>\n                            )\n                        ) : null;\n                    },\n                    amount: ({ value }) => {\n                        const amount = i18n.amount(value.value, value.currency, { hideCurrency: !hasMultipleCurrencies });\n                        return (\n                            <Typography variant={TypographyVariant.BODY} className={AMOUNT_CLASS}>\n                                {amount}\n                            </Typography>\n                        );\n                    },\n                    createdAt: ({ item, value }) => {\n                        if (isXsAndDownViewport) {\n                            return (\n                                <div className={DATE_AND_PAYMENT_METHOD_CLASS}>\n                                    <PaymentMethodCell paymentMethod={item.paymentMethod} bankAccount={item.bankAccount} />\n                                    <Typography variant={TypographyVariant.BODY} className={DATE_METHOD_CLASS}>\n                                        {dateFormat(item.createdAt, DATE_FORMAT_TRANSACTIONS_MOBILE)}\n                                    </Typography>\n                                </div>\n                            );\n                        }\n                        return <Typography variant={TypographyVariant.BODY}>{dateFormat(value, DATE_FORMAT_TRANSACTIONS)}</Typography>;\n                    },\n\n                    paymentMethod: ({ item }) => <PaymentMethodCell paymentMethod={item.paymentMethod} bankAccount={item.bankAccount} />,\n                }}\n            >\n                {showPagination && (\n                    <DataGrid.Footer>\n                        <Pagination {...paginationProps} />\n                    </DataGrid.Footer>\n                )}\n            </DataGrid>\n        </div>\n    );\n};\n","import { TRANSACTION_FIELDS } from '../../TransactionsOverview/components/TransactionsTable/TransactionsTable';\nimport type { TransactionDetailData } from '../types';\n\nexport const TX_DATA_CLASS = 'adyen-pe-transaction-data';\nexport const TX_DATA_AMOUNT = `${TX_DATA_CLASS}__amount`;\nexport const TX_DATA_ACTION_BAR = `${TX_DATA_CLASS}__action-bar`;\nexport const TX_DATA_CONTAINER = `${TX_DATA_CLASS}__container`;\nexport const TX_DATA_HEAD_CONTAINER = `${TX_DATA_CLASS}__head-container`;\nexport const TX_DATA_INPUT = `${TX_DATA_CLASS}__input`;\nexport const TX_DATA_INPUT_CHARS = `${TX_DATA_INPUT}-chars-counter`;\nexport const TX_DATA_INPUT_CONTAINER = `${TX_DATA_INPUT}-container`;\nexport const TX_DATA_INPUT_CONTAINER_SHORT = `${TX_DATA_INPUT_CONTAINER}--short`;\nexport const TX_DATA_INPUT_CONTAINER_TEXT = `${TX_DATA_INPUT_CONTAINER}--text-input`;\nexport const TX_DATA_INPUT_CONTAINER_WITH_ERROR = `${TX_DATA_INPUT_CONTAINER}--with-error`;\nexport const TX_DATA_INPUT_HEAD = `${TX_DATA_INPUT}-head`;\nexport const TX_DATA_INPUT_TEXTAREA = `${TX_DATA_INPUT}--textarea`;\nexport const TX_DATA_LABEL = `${TX_DATA_CLASS}__label`;\nexport const TX_DATA_LIST = `${TX_DATA_CLASS}__list`;\nexport const TX_DATA_PAY_METHOD = `${TX_DATA_CLASS}__payment-method`;\nexport const TX_DATA_PAY_METHOD_DETAIL = `${TX_DATA_PAY_METHOD}-detail`;\nexport const TX_DATA_PAY_METHOD_LOGO = `${TX_DATA_PAY_METHOD}-logo`;\nexport const TX_DATA_PAY_METHOD_LOGO_CONTAINER = `${TX_DATA_PAY_METHOD_LOGO}-container`;\nexport const TX_DATA_TAGS = `${TX_DATA_CLASS}__tags`;\nexport const TX_STATUS_BOX = `${TX_DATA_CLASS}__status-box`;\nexport const TX_REFUND_RESPONSE = `${TX_DATA_CLASS}__refund-response`;\nexport const TX_REFUND_RESPONSE_ICON = `${TX_DATA_CLASS}__refund-response-icon`;\nexport const TX_REFUND_RESPONSE_SUCCESS_ICON = `${TX_REFUND_RESPONSE_ICON}--success`;\nexport const TX_REFUND_RESPONSE_ERROR_ICON = `${TX_REFUND_RESPONSE_ICON}--error`;\nexport const TX_REFUND_STATUSES_CONTAINER = `${TX_DATA_CLASS}__refund-statuses-container`;\n\nexport const TX_DETAILS_RESERVED_FIELDS_SET = new Set([\n    ...(['status', 'category', 'paymentMethod', 'bankAccount', 'balanceAccount', 'id', 'balanceAccountId'] satisfies (keyof TransactionDetailData)[]),\n    ...TRANSACTION_FIELDS,\n    'deductedAmount',\n    'lineItems',\n    'originalAmount',\n    'paymentPspReference',\n    'refundDetails',\n    'refundMetadata',\n]);\n","import { useMemo } from 'preact/hooks';\nimport CopyText from '../../../../internal/CopyText/CopyText';\nimport { TX_DATA_LABEL, TX_DATA_LIST, TX_DETAILS_RESERVED_FIELDS_SET } from '../constants';\nimport { _isCustomDataObject } from '../../../../internal/DataGrid/components/TableCells';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport useTransactionDetailsContext from '../../context/details';\nimport StructuredList from '../../../../internal/StructuredList';\nimport { StructuredListProps } from '../../../../internal/StructuredList/types';\nimport { TranslationKey } from '../../../../../translations';\nimport { isNullish } from '../../../../../utils';\n\nconst TransactionDataProperties = () => {\n    const { i18n } = useCoreContext();\n    const { transaction, extraFields } = useTransactionDetailsContext();\n\n    return useMemo(() => {\n        const { balanceAccount, category, id, paymentPspReference, refundMetadata } = transaction;\n        const isRefundTransaction = category === 'Refund';\n        const SKIP_ITEM: StructuredListProps['items'][number] = null!;\n\n        const getFormattedAmount = (amount?: (typeof transaction)['amount']) => {\n            if (isNullish(amount)) return null;\n            const { value, currency } = amount;\n            return i18n.amount(value, currency);\n        };\n\n        const deductedAmount = getFormattedAmount(transaction.deductedAmount);\n        const originalAmount = getFormattedAmount(transaction.originalAmount);\n\n        const deductedAmountKey = isRefundTransaction ? 'refund.refundFee' : 'refund.fee';\n        const originalAmountKey = isRefundTransaction ? 'refund.originalPayment' : 'refund.originalAmount';\n        const paymentReferenceKey = isRefundTransaction ? 'refund.paymentPspReference' : 'refund.pspReference';\n\n        const listItems: StructuredListProps['items'] = [\n            // amounts\n            originalAmount ? { key: originalAmountKey as TranslationKey, value: originalAmount } : SKIP_ITEM,\n            deductedAmount ? { key: deductedAmountKey as TranslationKey, value: deductedAmount } : SKIP_ITEM,\n\n            // balance account\n            balanceAccount?.description ? { key: 'account' as const, value: balanceAccount.description } : SKIP_ITEM,\n\n            // custom data\n            ...(Object.entries(extraFields || {})\n                .filter(([key]) => !TX_DETAILS_RESERVED_FIELDS_SET.has(key as any))\n                .map(([key, value]) => ({\n                    key: key as TranslationKey,\n                    value: _isCustomDataObject(value) ? value.value : value,\n                })) || {}),\n\n            // refund reason\n            isRefundTransaction && refundMetadata?.refundReason\n                ? {\n                      key: 'refundReason' as const,\n                      value: i18n.has(`refundReason.${refundMetadata.refundReason}` as TranslationKey)\n                          ? i18n.get(`refundReason.${refundMetadata.refundReason}` as TranslationKey)\n                          : refundMetadata.refundReason,\n                  }\n                : SKIP_ITEM,\n\n            // reference id\n            { key: 'referenceID' as const, value: <CopyText type={'Default'} textToCopy={id} showCopyTextTooltip={false} /> },\n\n            isRefundTransaction && refundMetadata?.refundPspReference\n                ? { key: 'refund.refundPspReference' as TranslationKey, value: refundMetadata.refundPspReference }\n                : SKIP_ITEM,\n\n            // psp reference\n            paymentPspReference ? { key: paymentReferenceKey as TranslationKey, value: paymentPspReference } : SKIP_ITEM,\n        ].filter(Boolean);\n\n        return (\n            <StructuredList\n                classNames={TX_DATA_LIST}\n                items={listItems}\n                layout=\"5-7\"\n                renderLabel={label => <div className={TX_DATA_LABEL}>{label}</div>}\n            />\n        );\n    }, [i18n, transaction]);\n};\n\nexport default TransactionDataProperties;\n","import { PropsWithChildren } from 'preact/compat';\nimport { TX_DATA_CONTAINER } from '../constants';\nimport cx from 'classnames';\n\nconst TransactionDetailsDataContainer = ({ children, className }: PropsWithChildren<{ className?: string }>) => (\n    <div className={cx(TX_DATA_CONTAINER, className)}>{children}</div>\n);\n\nexport default TransactionDetailsDataContainer;\n","import { EMPTY_OBJECT } from '../../../../utils';\nimport { RefundType } from '../context/types';\nimport { TagVariant } from '../../../internal/Tag/types';\nimport { parsePaymentMethodType } from '../../TransactionsOverview/components/utils';\nimport type { TransactionDetailData } from '../types';\n\nexport const getAmountStyleForTransaction = (transaction: TransactionDetailData) => {\n    switch (transaction?.status) {\n        case 'Booked':\n            return 'default';\n        case 'Reversed':\n            return 'error';\n        default:\n            return 'pending';\n    }\n};\n\nexport const getTagVariantForTransaction = (transaction: TransactionDetailData) => {\n    switch (transaction?.status) {\n        case 'Booked':\n            return TagVariant.SUCCESS;\n        case 'Reversed':\n            return TagVariant.ERROR;\n        default:\n            return TagVariant.DEFAULT;\n    }\n};\n\nexport const getPaymentMethodTypeForTransaction = (transaction: TransactionDetailData) => {\n    return transaction?.paymentMethod ? transaction.paymentMethod.type : transaction?.bankAccount ? 'bankTransfer' : null;\n};\n\nexport const getDisplayablePaymentMethodForTransaction = (transaction: TransactionDetailData) => {\n    return transaction?.paymentMethod\n        ? parsePaymentMethodType(transaction.paymentMethod, 'detail')\n        : transaction?.bankAccount?.accountNumberLastFourDigits;\n};\n\nexport const getRefundTypeForTransaction = (transaction: TransactionDetailData) => {\n    if (transaction.category === 'Refund') {\n        const { refundType } = transaction.refundMetadata ?? (EMPTY_OBJECT as NonNullable<TransactionDetailData['refundMetadata']>);\n        switch (refundType) {\n            case RefundType.FULL:\n                return RefundType.FULL;\n            case RefundType.PARTIAL:\n                return RefundType.PARTIAL;\n        }\n    }\n};\n","import {\n    TX_DATA_AMOUNT,\n    TX_DATA_LABEL,\n    TX_DATA_PAY_METHOD,\n    TX_DATA_PAY_METHOD_DETAIL,\n    TX_DATA_PAY_METHOD_LOGO,\n    TX_DATA_PAY_METHOD_LOGO_CONTAINER,\n    TX_DATA_TAGS,\n} from '../constants';\nimport {\n    getAmountStyleForTransaction,\n    getDisplayablePaymentMethodForTransaction,\n    getPaymentMethodTypeForTransaction,\n    getRefundTypeForTransaction,\n} from '../utils';\nimport cx from 'classnames';\nimport { memo } from 'preact/compat';\nimport { useMemo } from 'preact/hooks';\nimport { DATE_FORMAT_TRANSACTION_DETAILS } from '../../../../../constants';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport useTimezoneAwareDateFormatting from '../../../../../hooks/useTimezoneAwareDateFormatting';\nimport type { TransactionDataContentProps } from '../TransactionData/TransactionDataContent';\nimport type { TranslationKey } from '../../../../../translations';\nimport { RefundedState, RefundType } from '../../context/types';\nimport { Image } from '../../../../internal/Image/Image';\nimport { TagVariant } from '../../../../internal/Tag/types';\nimport { Tag } from '../../../../internal/Tag/Tag';\n\ntype TransactionStatusBoxProps = Pick<TransactionDataContentProps, 'transaction'> & { refundedState: RefundedState };\n\nconst TransactionStatusBox = ({ refundedState, transaction }: TransactionStatusBoxProps) => {\n    const { i18n } = useCoreContext();\n    const { dateFormat } = useTimezoneAwareDateFormatting(transaction?.balanceAccount?.timeZone);\n    const { amount, category, createdAt /*, status*/ } = transaction;\n\n    const formattedAmount = useMemo(() => {\n        const { currency, value } = amount;\n        return `${i18n.amount(value, currency, { hideCurrency: true })} ${currency}`;\n    }, [amount, i18n]);\n\n    const [paymentMethodType, paymentMethod, refundType] = useMemo(\n        () =>\n            [\n                getPaymentMethodTypeForTransaction(transaction),\n                getDisplayablePaymentMethodForTransaction(transaction),\n                getRefundTypeForTransaction(transaction),\n            ] as const,\n        [transaction]\n    );\n\n    return (\n        <>\n            <div className={TX_DATA_TAGS}>\n                {/*{status && <Tag label={i18n.get(status)} variant={getTagVariantForTransaction(transaction)} />}*/}\n                {category && <Tag label={i18n.get(`txType.${category}`)} variant={TagVariant.DEFAULT} />}\n\n                {/* refund type: only available for transaction.category == Refund */}\n                {refundType && (\n                    <>\n                        {refundType === RefundType.FULL && <Tag label={i18n.get('full')} variant={TagVariant.SUCCESS} />}\n                        {refundType === RefundType.PARTIAL && <Tag label={i18n.get('partial')} variant={TagVariant.BLUE} />}\n                    </>\n                )}\n\n                {refundedState === RefundedState.FULL && <Tag label={i18n.get('refunded.full')} variant={TagVariant.SUCCESS} />}\n                {refundedState === RefundedState.PARTIAL && <Tag label={i18n.get('refunded.partial')} variant={TagVariant.BLUE} />}\n            </div>\n\n            {formattedAmount && (\n                <div className={cx(TX_DATA_AMOUNT, `${TX_DATA_AMOUNT}--${getAmountStyleForTransaction(transaction)}`)}>{formattedAmount}</div>\n            )}\n\n            {paymentMethodType && (\n                <div className={TX_DATA_PAY_METHOD}>\n                    <div className={TX_DATA_PAY_METHOD_LOGO_CONTAINER}>\n                        <Image className={TX_DATA_PAY_METHOD_LOGO} name={paymentMethodType} alt={paymentMethodType} folder={'logos/'} />\n                    </div>\n\n                    <div className={TX_DATA_PAY_METHOD_DETAIL}>{paymentMethod}</div>\n                </div>\n            )}\n\n            {createdAt && <div className={TX_DATA_LABEL}>{dateFormat(new Date(createdAt), DATE_FORMAT_TRANSACTION_DETAILS)}</div>}\n        </>\n    );\n};\n\nexport default memo(TransactionStatusBox);\n","import { Ref } from 'preact';\nimport { SVGProps } from 'preact/compat';\nimport { fixedForwardRef } from '../../../utils/preact';\n\nconst CloseCircle = fixedForwardRef(({ title, ...props }: Omit<SVGProps<SVGElement>, 'ref'>, ref: Ref<SVGSVGElement>) => (\n    <svg ref={ref} xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" {...props}>\n        {title && <title>{title}</title>}\n        <g clip-path=\"url(#a)\">\n            <path\n                d=\"M.25 8a7.75 7.75 0 1 1 15.5 0A7.75 7.75 0 0 1 .25 8ZM6 4.94 4.94 6l2 2-2 2L6 11.06l2-2 2 2L11.06 10l-2-2 2-2L10 4.94l-2 2-2-2Z\"\n                fill=\"currentColor\"\n            />\n        </g>\n        <defs>\n            <clipPath id=\"a\">\n                <path fill=\"#fff\" d=\"M0 0h16v16H0z\" />\n            </clipPath>\n        </defs>\n    </svg>\n));\n\nexport default CloseCircle;\n","import { ARIA_ERROR_SUFFIX } from '../../../core/Errors/constants';\nimport { hasOwnProperty } from '../../../utils';\nimport classNames from 'classnames';\nimport { h } from 'preact';\nimport { ForwardedRef, forwardRef, TargetedEvent } from 'preact/compat';\nimport { useCallback } from 'preact/hooks';\nimport { InputBaseProps } from './types';\nimport './FormFields.scss';\n\nfunction InputBase(\n    { onInput, onKeyUp, trimOnBlur, onBlurHandler, onBlur, onFocusHandler, errorMessage, ...props }: InputBaseProps,\n    ref: ForwardedRef<HTMLInputElement | null>\n) {\n    const { autoCorrect, classNameModifiers, isInvalid, isValid, readonly = false, spellCheck, type, uniqueId, isCollatingErrors, disabled } = props;\n\n    /**\n     * To avoid confusion with misplaced/misdirected onChange handlers - InputBase only accepts onInput, onBlur & onFocus handlers.\n     * The first 2 being the means by which we expect useForm--handleChangeFor validation functionality to be applied.\n     */\n    if (hasOwnProperty(props, 'onChange')) {\n        console.error('Error: Form fields that rely on InputBase may not have an onChange property');\n    }\n\n    const handleInput = useCallback(\n        (event: TargetedEvent<HTMLInputElement, Event>) => {\n            onInput?.(event);\n        },\n        [onInput]\n    );\n\n    const handleKeyUp = useCallback(\n        (event: h.JSX.TargetedKeyboardEvent<HTMLInputElement>) => {\n            if (onKeyUp) onKeyUp(event);\n        },\n        [onKeyUp]\n    );\n\n    const handleBlur = useCallback(\n        (event: h.JSX.TargetedEvent<HTMLInputElement>) => {\n            onBlurHandler?.(event); // From Field component\n\n            if (trimOnBlur) {\n                (event.target as HTMLInputElement).value = (event.target as HTMLInputElement).value.trim(); // needed to trim trailing spaces in field (leading spaces can be done via formatting)\n            }\n\n            onBlur?.(event);\n        },\n        [onBlur, onBlurHandler, trimOnBlur]\n    );\n\n    const handleFocus = useCallback(\n        (event: h.JSX.TargetedEvent<HTMLInputElement>) => {\n            onFocusHandler?.(event); // From Field component\n        },\n        [onFocusHandler]\n    );\n\n    const inputClassNames = classNames(\n        'adyen-pe-input',\n        [`adyen-pe-input--${type}`],\n        props.className,\n        {\n            'adyen-pe-input--invalid': isInvalid,\n            'adyen-pe-input--valid': isValid,\n        },\n        classNameModifiers?.map(m => `adyen-pe-input--${m}`)\n    );\n\n    // Don't spread classNameModifiers etc to input element (it ends up as an attribute on the element itself)\n    const { classNameModifiers: cnm, uniqueId: uid, isInvalid: iiv, isValid: iv, isCollatingErrors: ce, ...newProps } = props;\n\n    return (\n        <>\n            <input\n                id={uniqueId}\n                {...newProps}\n                type={type}\n                className={inputClassNames}\n                readOnly={readonly}\n                aria-describedby={isCollatingErrors ? undefined : `${uniqueId}${ARIA_ERROR_SUFFIX}`}\n                aria-invalid={isInvalid}\n                onInput={handleInput}\n                onBlurCapture={handleBlur}\n                onFocus={handleFocus}\n                onKeyUp={handleKeyUp}\n                disabled={disabled}\n                ref={ref}\n            />\n            {isInvalid && errorMessage && (\n                <span className=\"adyen-pe-input__invalid-value\" id={`${uniqueId}${ARIA_ERROR_SUFFIX}`}>\n                    {errorMessage}\n                </span>\n            )}\n        </>\n    );\n}\n\nInputBase.defaultProps = {\n    type: 'text',\n    classNameModifiers: [],\n    onInput: () => {},\n};\n\nexport default forwardRef(InputBase);\n","import {\n    TX_DATA_CONTAINER,\n    TX_DATA_INPUT,\n    TX_DATA_INPUT_CONTAINER,\n    TX_DATA_INPUT_CONTAINER_SHORT,\n    TX_DATA_INPUT_CONTAINER_TEXT,\n    TX_DATA_INPUT_CONTAINER_WITH_ERROR,\n    TX_DATA_INPUT_HEAD,\n} from '../constants';\nimport cx from 'classnames';\nimport { h } from 'preact';\nimport { useMemo, useRef, useState } from 'preact/hooks';\nimport { boolOrFalse, uniqueId } from '../../../../../utils';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport useTransactionRefundContext from '../../context/refund';\nimport CloseCircle from '../../../../internal/SVGIcons/CloseCircle';\nimport InputBase from '../../../../internal/FormFields/InputBase';\nimport Typography from '../../../../internal/Typography/Typography';\nimport { TypographyElement, TypographyVariant } from '../../../../internal/Typography/types';\nimport { getDecimalAmount, getDivider } from '../../../../../core/Localization/amount/amount-util';\nimport { TranslationKey } from '../../../../../translations';\nimport { ARIA_ERROR_SUFFIX } from '../../../../../core/Errors/constants';\nimport { TagVariant } from '../../../../internal/Tag/types';\nimport { Tag } from '../../../../internal/Tag/Tag';\n\n// [TODO]: These utils are reusable and should be located in a shared module\nconst formatAmount = (amount: number, currency: string) => getDecimalAmount(amount, currency).toFixed(getCurrencyExponent(currency));\nconst getCurrencyExponent = (currency: string) => Math.log10(getDivider(currency));\n\nconst _BaseRefundAmountInput = ({\n    currency,\n    disabled,\n    errorMessage,\n    errorMessageArg,\n    onInput,\n    value,\n}: {\n    currency: string;\n    disabled?: boolean;\n    errorMessage: TranslationKey | null;\n    errorMessageArg?: string;\n    onBlur?: (evt: h.JSX.TargetedEvent<HTMLInputElement>) => unknown;\n    onInput?: (evt: h.JSX.TargetedEvent<HTMLInputElement>) => unknown;\n    value: string | number;\n}) => {\n    const { i18n } = useCoreContext();\n    const inputIdentifier = useRef(uniqueId());\n    const labelIdentifier = useRef(uniqueId());\n\n    const error = errorMessage ? (errorMessageArg ? i18n.get(errorMessage, { values: { amount: errorMessageArg } }) : i18n.get(errorMessage)) : '';\n\n    return (\n        <div className={TX_DATA_CONTAINER}>\n            <div className={TX_DATA_INPUT_HEAD}>\n                <div id={labelIdentifier.current}>\n                    <Typography el={TypographyElement.SPAN} variant={TypographyVariant.BODY} stronger>\n                        {i18n.get('refundAmount')}\n                    </Typography>\n                </div>\n            </div>\n\n            <div\n                className={cx({\n                    [TX_DATA_INPUT_CONTAINER]: true,\n                    [TX_DATA_INPUT_CONTAINER_SHORT]: true,\n                    [TX_DATA_INPUT_CONTAINER_TEXT]: true,\n                    [TX_DATA_INPUT_CONTAINER_WITH_ERROR]: !!errorMessage,\n                })}\n            >\n                <label htmlFor={inputIdentifier.current} aria-labelledby={labelIdentifier.current}>\n                    {currency && <Tag label={currency} variant={TagVariant.DEFAULT} />}\n                    <InputBase\n                        min={0}\n                        type=\"number\"\n                        className={TX_DATA_INPUT}\n                        disabled={boolOrFalse(disabled)}\n                        lang={i18n.locale}\n                        onInput={onInput}\n                        value={value}\n                        uniqueId={inputIdentifier.current}\n                    />\n                </label>\n                {errorMessage && (\n                    <div className=\"adyen-pe-input__refund-invalid-value\" id={`${inputIdentifier.current}${ARIA_ERROR_SUFFIX}`}>\n                        <CloseCircle />\n                        <Typography el={TypographyElement.SPAN} variant={TypographyVariant.BODY}>\n                            {error}\n                        </Typography>\n                    </div>\n                )}\n            </div>\n        </div>\n    );\n};\n\nexport const TransactionRefundFullAmountInput = () => {\n    const { availableAmount, currency } = useTransactionRefundContext();\n    return <_BaseRefundAmountInput currency={currency} errorMessage={null} value={formatAmount(availableAmount, currency)} disabled />;\n};\n\nexport const TransactionRefundPartialAmountInput = ({ locale }: { locale: string }) => {\n    const { availableAmount, currency, interactionsDisabled, setAmount } = useTransactionRefundContext();\n    const [errorMessage, setErrorMessage] = useState<TranslationKey | null>(null);\n    const [refundAmount, setRefundAmount] = useState(`${formatAmount(availableAmount, currency)}`);\n    const { i18n } = useCoreContext();\n    const computeRefundAmount = useMemo(() => {\n        const exponent = getCurrencyExponent(currency);\n        return (value: string) => Math.trunc(+`${parseFloat(value)}e${exponent}`) || 0;\n    }, [currency]);\n\n    const onInput = (evt: h.JSX.TargetedEvent<HTMLInputElement>) => {\n        let value = evt.currentTarget.value.trim();\n        const amount = computeRefundAmount(value);\n        let message: typeof errorMessage = null;\n\n        if (amount || value) {\n            if (amount < 0) message = 'noNegativeNumbersAllowed';\n            if (amount > availableAmount) message = 'refundAmount.excess';\n        } else message = 'refundAmount.required';\n\n        // Get the decimal separator based on the user's locale\n        const decimalSeparator = 1.1.toLocaleString(locale).match(/\\d(.*?)\\d/)?.[1] || '.';\n        // Split the input value at the decimal separator\n        const parts = value.split(decimalSeparator);\n\n        if (parts.length === 2) {\n            const exponent = getCurrencyExponent(currency);\n\n            const integerPart = parts[0]!;\n            let decimalPart = parts[1]!;\n\n            if (decimalPart.length >= exponent) {\n                decimalPart = decimalPart.substring(0, exponent);\n                value = integerPart + decimalSeparator + decimalPart;\n                evt.currentTarget.value = value;\n            }\n        }\n\n        setRefundAmount(value);\n        setErrorMessage(message);\n        setAmount(message ? 0 : amount);\n    };\n\n    return (\n        <_BaseRefundAmountInput\n            currency={currency}\n            errorMessage={errorMessage}\n            errorMessageArg={i18n.amount(availableAmount, currency)}\n            onInput={onInput}\n            value={refundAmount}\n            disabled={interactionsDisabled}\n        />\n    );\n};\n","import { useMemo } from 'preact/hooks';\nimport { TX_DATA_CONTAINER, TX_DATA_HEAD_CONTAINER } from '../constants';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport Typography from '../../../../internal/Typography/Typography';\nimport { TypographyElement, TypographyVariant } from '../../../../internal/Typography/types';\n\nconst TransactionRefundNotice = () => {\n    const { i18n } = useCoreContext();\n\n    return useMemo(\n        () => (\n            <div className={`${TX_DATA_CONTAINER} ${TX_DATA_HEAD_CONTAINER}`}>\n                <Typography el={TypographyElement.DIV} variant={TypographyVariant.SUBTITLE} stronger>\n                    {i18n.get('refundAction')}\n                </Typography>\n                <Typography variant={TypographyVariant.BODY}>{i18n.get('refundNotice')}</Typography>\n            </div>\n        ),\n        [i18n]\n    );\n};\n\nexport default TransactionRefundNotice;\n","import { useCallback, useMemo } from 'preact/hooks';\nimport { TX_DATA_CONTAINER, TX_DATA_INPUT_CONTAINER, TX_DATA_INPUT_CONTAINER_SHORT, TX_DATA_INPUT_HEAD } from '../constants';\nimport { REFUND_REASONS } from '../../context/constants';\nimport type { RefundReason } from '../../context/types';\nimport useTransactionRefundContext from '../../context/refund';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport Select from '../../../../internal/FormFields/Select';\nimport Typography from '../../../../internal/Typography/Typography';\nimport { TypographyElement, TypographyVariant } from '../../../../internal/Typography/types';\nimport { SelectProps } from '../../../../internal/FormFields/Select/types';\n\nconst TransactionRefundReason = () => {\n    const { i18n } = useCoreContext();\n    const { interactionsDisabled, refundReason, setRefundReason } = useTransactionRefundContext();\n    const refundReasons = useMemo(\n        () =>\n            Object.freeze(\n                REFUND_REASONS.map(reason => ({ id: reason, name: i18n.has(`refundReason.${reason}`) ? i18n.get(`refundReason.${reason}`) : reason }))\n            ),\n        [i18n]\n    );\n\n    const onReasonChanged = useCallback<SelectProps<{ id: RefundReason; name: string }>['onChange']>(\n        evt => {\n            const reason = evt.target?.value;\n            reason && setRefundReason(reason);\n        },\n        [setRefundReason]\n    );\n\n    return (\n        <div className={TX_DATA_CONTAINER}>\n            <div className={TX_DATA_INPUT_HEAD}>\n                <Typography el={TypographyElement.SPAN} variant={TypographyVariant.BODY} stronger>\n                    {i18n.get('refundReason')}\n                </Typography>\n            </div>\n\n            <div className={`${TX_DATA_INPUT_CONTAINER} ${TX_DATA_INPUT_CONTAINER_SHORT}`}>\n                <Select\n                    items={refundReasons}\n                    readonly={interactionsDisabled}\n                    filterable={false}\n                    multiSelect={false}\n                    onChange={onReasonChanged}\n                    selected={refundReason}\n                />\n            </div>\n        </div>\n    );\n};\n\nexport default TransactionRefundReason;\n","import cx from 'classnames';\nimport type { ComponentChild } from 'preact';\nimport type { PropsWithChildren } from 'preact/compat';\nimport { useCallback, useLayoutEffect, useMemo, useState } from 'preact/hooks';\nimport { useAuthContext } from '../../../../../core/Auth';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport { useFetch } from '../../../../../hooks/useFetch';\nimport type { IBalanceAccountBase, ILineItem } from '../../../../../types';\nimport { EMPTY_ARRAY, EMPTY_OBJECT } from '../../../../../utils';\nimport Alert from '../../../../internal/Alert/Alert';\nimport { AlertTypeOption, AlertVariantOption } from '../../../../internal/Alert/types';\nimport Button from '../../../../internal/Button';\nimport ButtonActions from '../../../../internal/Button/ButtonActions/ButtonActions';\nimport { ButtonActionObject, ButtonActionsLayoutBasic } from '../../../../internal/Button/ButtonActions/types';\nimport { ButtonVariant } from '../../../../internal/Button/types';\nimport DataOverviewDetailsSkeleton from '../../../../internal/DataOverviewDetails/DataOverviewDetailsSkeleton';\nimport Icon from '../../../../internal/Icon';\nimport { TypographyModifier, TypographyVariant } from '../../../../internal/Typography/types';\nimport Typography from '../../../../internal/Typography/Typography';\nimport { TransactionDetailsProvider } from '../../context/details';\nimport { TransactionRefundProvider } from '../../context/refund';\nimport { ActiveView, RefundMode } from '../../context/types';\nimport useTransaction from '../../hooks/useTransaction';\nimport useTransactionRefundMetadata from '../../hooks/useTransactionRefundMetadata';\nimport type { TransactionDataProps } from '../../types';\nimport {\n    TX_DATA_ACTION_BAR,\n    TX_DATA_CLASS,\n    TX_REFUND_RESPONSE,\n    TX_REFUND_RESPONSE_ERROR_ICON,\n    TX_REFUND_RESPONSE_ICON,\n    TX_REFUND_RESPONSE_SUCCESS_ICON,\n    TX_REFUND_STATUSES_CONTAINER,\n    TX_STATUS_BOX,\n} from '../constants';\nimport TransactionDataProperties from '../details/TransactionDataProperties';\nimport TransactionDetailsDataContainer from '../details/TransactionDetailsDataContainer';\nimport TransactionStatusBox from '../details/TransactionStatusBox';\nimport { TransactionRefundFullAmountInput, TransactionRefundPartialAmountInput } from '../refund/TransactionRefundAmount';\nimport TransactionRefundNotice from '../refund/TransactionRefundNotice';\nimport TransactionRefundReason from '../refund/TransactionRefundReason';\nimport './TransactionData.scss';\n\nexport interface TransactionDataContentProps {\n    transaction: NonNullable<TransactionDataProps['transaction']>;\n    extraFields: Record<string, any> | undefined;\n    balanceAccount?: IBalanceAccountBase;\n}\n\nconst _TransactionDataContentViewWrapper = ({\n    children,\n    renderViewActionButtons,\n    renderViewMessageBox,\n}: PropsWithChildren<{ renderViewActionButtons: () => ComponentChild; renderViewMessageBox?: () => ComponentChild }>) => (\n    <div className={TX_DATA_CLASS}>\n        {children}\n        {renderViewMessageBox && renderViewMessageBox()}\n        {renderViewActionButtons()}\n    </div>\n);\n\nconst _RefundResponseViewWrapper = ({\n    action,\n    title,\n    renderIcon,\n    subtitle,\n}: {\n    title: string;\n    subtitle: string;\n    renderIcon?: () => ComponentChild;\n    action: () => ComponentChild;\n}) => (\n    <div className={TX_REFUND_RESPONSE}>\n        {renderIcon && renderIcon()}\n        <Typography className={TypographyModifier.MEDIUM} variant={TypographyVariant.TITLE}>\n            {title}\n        </Typography>\n        <Typography variant={TypographyVariant.BODY}>{subtitle}</Typography>\n        {action && action()}\n    </div>\n);\n\nexport const TransactionDataContent = ({ transaction: initialTransaction, extraFields }: TransactionDataContentProps) => {\n    const [activeView, _setActiveView] = useState(ActiveView.DETAILS);\n    const [primaryAction, _setPrimaryAction] = useState<ButtonActionObject>();\n    const [secondaryAction, _setSecondaryAction] = useState<ButtonActionObject>();\n    //TODO: Remove this when locked status returns from backend\n    const [locked, setLocked] = useState(false);\n\n    const { fetchingTransaction, refreshTransaction, transaction, transactionNavigator } = useTransaction(initialTransaction);\n    const {\n        refundable,\n        refundableAmount,\n        refundableAmountLabel,\n        refundAvailable,\n        refundCurrency,\n        refundDisabled: refundDisabledMetaData,\n        refundedState,\n        refundStatuses,\n        refundMode,\n        refundLocked,\n    } = useTransactionRefundMetadata(transaction);\n\n    //TODO: Remove this and do not rename refundDetails from the hook when locked status returns from backend\n    const refundDisabled = useMemo(() => refundDisabledMetaData || locked, [refundDisabledMetaData, locked]);\n\n    const { i18n } = useCoreContext();\n    const lineItems: readonly ILineItem[] = Object.freeze(transaction?.lineItems ?? EMPTY_ARRAY);\n\n    const setPrimaryAction = useCallback((action: ButtonActionObject | undefined) => _setPrimaryAction(action), []);\n    const setSecondaryAction = useCallback((action: ButtonActionObject | undefined) => _setSecondaryAction(action), []);\n\n    const shouldPreventActiveViewIfRefund = useCallback(\n        (activeView: ActiveView) => activeView === ActiveView.REFUND && refundDisabled,\n        [refundDisabled]\n    );\n\n    const { getBalanceAccounts: balanceAccountEndpointCall } = useAuthContext().endpoints;\n\n    const { data: balanceAccounts } = useFetch(\n        useMemo(\n            () => ({\n                fetchOptions: {\n                    enabled: !!balanceAccountEndpointCall && !transaction.balanceAccount && !!transaction.balanceAccountId,\n                    keepPrevData: true,\n                },\n                queryFn: async () => balanceAccountEndpointCall?.(EMPTY_OBJECT),\n            }),\n            [transaction.balanceAccountId, transaction.balanceAccount, balanceAccountEndpointCall]\n        )\n    );\n\n    const setActiveView = useCallback(\n        (activeView: ActiveView) => void (shouldPreventActiveViewIfRefund(activeView) || _setActiveView(activeView)),\n        [shouldPreventActiveViewIfRefund]\n    );\n\n    const renderViewActionButtons = useCallback(() => {\n        const actions = [primaryAction!, secondaryAction!].filter(Boolean);\n        return actions.length ? (\n            <TransactionDetailsDataContainer className={TX_DATA_ACTION_BAR}>\n                <ButtonActions actions={actions} layout={ButtonActionsLayoutBasic.BUTTONS_END} />\n            </TransactionDetailsDataContainer>\n        ) : null;\n    }, [primaryAction, secondaryAction]);\n\n    const onRefundSuccess = useCallback(() => {\n        refreshTransaction();\n        setLocked(true);\n    }, [setLocked, refreshTransaction]);\n\n    const renderMessages = useCallback(() => {\n        return refundStatuses?.length || refundLocked || locked ? (\n            <div className={TX_REFUND_STATUSES_CONTAINER}>\n                {(refundLocked || locked) && (\n                    <Alert\n                        type={AlertTypeOption.HIGHLIGHT}\n                        variant={AlertVariantOption.TIP}\n                        description={`${i18n.get('refund.theRefundIsBeingProcessed')} ${i18n.get('pleaseComeBackLater')}`}\n                    />\n                )}\n                {refundStatuses.map((status, index) => (\n                    <Alert\n                        key={`${Math.random()}-${index}`}\n                        variant={AlertVariantOption.TIP}\n                        type={status?.type ?? AlertTypeOption.HIGHLIGHT}\n                        description={status?.label}\n                    />\n                ))}\n            </div>\n        ) : null;\n    }, [i18n, refundStatuses, refundLocked, locked]);\n\n    const balanceAccountData = transaction.balanceAccount ?? balanceAccounts?.data?.find(account => account.id === transaction.balanceAccountId);\n\n    useLayoutEffect(() => {\n        _setActiveView(ActiveView.DETAILS);\n    }, [transaction]);\n\n    useLayoutEffect(() => {\n        if (refundDisabled) _setActiveView(ActiveView.DETAILS);\n    }, [refundDisabled]);\n\n    if (fetchingTransaction) {\n        return <DataOverviewDetailsSkeleton skeletonRowNumber={5} />;\n    }\n\n    if (shouldPreventActiveViewIfRefund(activeView)) return null;\n\n    const commonContextProviderProps = {\n        lineItems,\n        refundAvailable,\n        refundDisabled,\n        setActiveView,\n        setPrimaryAction,\n        setSecondaryAction,\n    } as const;\n\n    switch (activeView) {\n        case ActiveView.DETAILS:\n            return (\n                <_TransactionDataContentViewWrapper renderViewActionButtons={renderViewActionButtons} renderViewMessageBox={renderMessages}>\n                    <TransactionDetailsProvider\n                        {...commonContextProviderProps}\n                        transaction={\n                            !transaction.balanceAccount && !!balanceAccountData\n                                ? { ...transaction, balanceAccount: balanceAccountData as IBalanceAccountBase }\n                                : { ...transaction }\n                        }\n                        transactionNavigator={transactionNavigator}\n                        extraFields={extraFields}\n                    >\n                        <TransactionDetailsDataContainer className={TX_STATUS_BOX}>\n                            <TransactionStatusBox transaction={transaction} refundedState={refundedState} />\n                        </TransactionDetailsDataContainer>\n\n                        <TransactionDataProperties />\n                    </TransactionDetailsProvider>\n                </_TransactionDataContentViewWrapper>\n            );\n\n        case ActiveView.REFUND:\n            return (\n                <_TransactionDataContentViewWrapper renderViewActionButtons={renderViewActionButtons}>\n                    <TransactionRefundProvider\n                        {...commonContextProviderProps}\n                        availableAmount={refundableAmount}\n                        currency={refundCurrency}\n                        refundMode={refundMode}\n                        refreshTransaction={refreshTransaction}\n                        transactionId={transaction.id}\n                    >\n                        <TransactionRefundNotice />\n\n                        {/* refund reason selector */}\n                        {refundable && <TransactionRefundReason />}\n\n                        {/* refund amount input */}\n                        {refundMode === RefundMode.FULL_AMOUNT && <TransactionRefundFullAmountInput />}\n                        {(refundMode === RefundMode.PARTIAL_AMOUNT || refundMode === RefundMode.PARTIAL_LINE_ITEMS) && (\n                            <TransactionRefundPartialAmountInput locale={i18n.locale} />\n                        )}\n\n                        {refundableAmountLabel && (\n                            <Alert\n                                variant={AlertVariantOption.TIP}\n                                type={refundableAmountLabel.type}\n                                description={refundableAmountLabel.description}\n                            />\n                        )}\n                    </TransactionRefundProvider>\n                </_TransactionDataContentViewWrapper>\n            );\n\n        case ActiveView.REFUND_SUCCESS:\n            return (\n                <_RefundResponseViewWrapper\n                    renderIcon={() => <Icon name=\"checkmark-circle-fill\" className={cx(TX_REFUND_RESPONSE_ICON, TX_REFUND_RESPONSE_SUCCESS_ICON)} />}\n                    title={i18n.get('refundActionSuccessTitle')}\n                    subtitle={i18n.get('refundActionSuccessSubtitle')}\n                    action={() => (\n                        <Button variant={ButtonVariant.SECONDARY} onClick={onRefundSuccess}>\n                            {i18n.get('goBack')}\n                        </Button>\n                    )}\n                />\n            );\n\n        case ActiveView.REFUND_ERROR:\n            return (\n                <_RefundResponseViewWrapper\n                    renderIcon={() => <Icon name=\"cross-circle-fill\" className={cx(TX_REFUND_RESPONSE_ICON, TX_REFUND_RESPONSE_ERROR_ICON)} />}\n                    title={i18n.get('refundActionErrorTitle')}\n                    subtitle={i18n.get('refundActionErrorSubtitle')}\n                    action={() => (\n                        <Button variant={ButtonVariant.SECONDARY} onClick={refreshTransaction}>\n                            {i18n.get('goBack')}\n                        </Button>\n                    )}\n                />\n            );\n\n        default:\n            return null;\n    }\n};\n\nexport default TransactionDataContent;\n","import { boolOrFalse } from '../../../../../utils';\nimport DataOverviewDetailsSkeleton from '../../../../internal/DataOverviewDetails/DataOverviewDetailsSkeleton';\nimport TransactionDataContent from './TransactionDataContent';\nimport type { TransactionDataProps } from '../../types';\n\nexport const TransactionData = ({ error, isFetching, transaction, extraFields }: TransactionDataProps) => {\n    const isLoading = boolOrFalse(isFetching);\n    const isWithoutContent = !(transaction || error);\n    const showLoadingIndicator = isLoading || isWithoutContent;\n\n    if (showLoadingIndicator) {\n        return <DataOverviewDetailsSkeleton skeletonRowNumber={5} />;\n    }\n\n    if (transaction) {\n        return <TransactionDataContent transaction={transaction} extraFields={extraFields} />;\n    }\n\n    return null;\n};\n","import { useAuthContext } from '../core/Auth';\nimport { useFetch } from './useFetch';\nimport { EMPTY_OBJECT } from '../utils';\nimport { useMemo } from 'preact/hooks';\n\nconst useBalanceAccounts = (balanceAccountId?: string, enabled?: boolean) => {\n    const { getBalanceAccounts: balanceAccountEndpointCall } = useAuthContext().endpoints;\n\n    const { data, isFetching, error } = useFetch(\n        useMemo(\n            () => ({\n                fetchOptions: { enabled: !!balanceAccountEndpointCall && (enabled ?? true), keepPrevData: true },\n                queryFn: async () => balanceAccountEndpointCall?.(EMPTY_OBJECT),\n            }),\n            [balanceAccountEndpointCall]\n        )\n    );\n\n    const balanceAccounts = useMemo(\n        () => data?.data.filter(account => (balanceAccountId ? account.id === balanceAccountId : true)),\n        [data?.data, balanceAccountId]\n    );\n\n    const isBalanceAccountIdWrong = useMemo(\n        () => !!balanceAccountId && !!data?.data.length && balanceAccounts?.length === 0,\n        [balanceAccounts?.length, data?.data.length, balanceAccountId]\n    );\n\n    // TODO: Consider unifying error with isBalanceAccountIdWrong\n    return { balanceAccounts, isBalanceAccountIdWrong, isFetching, error } as const;\n};\n\nexport default useBalanceAccounts;\n","import { useClickOutside } from '../../../hooks/element/useClickOutside';\nimport { mediaQueries, useResponsiveViewport } from '../../../hooks/useResponsiveViewport';\nimport Button from '../Button';\nimport Icon from '../Icon';\nimport { ButtonVariant } from '../Button/types';\nimport useCoreContext from '../../../core/Context/useCoreContext';\nimport { useCallback, useContext, useEffect } from 'preact/hooks';\nimport { createContext, Ref } from 'preact';\nimport cx from 'classnames';\nimport './Modal.scss';\nimport { ModalProps } from './types';\n\nconst ModalContext = createContext({ withinModal: false });\n\nexport const useModalContext = () => useContext(ModalContext);\n\nexport default function Modal({\n    title,\n    children,\n    classNameModifiers = [],\n    isOpen,\n    onClose,\n    isDismissible = true,\n    headerWithBorder = true,\n    size = 'fluid',\n    ...props\n}: ModalProps) {\n    const isSmViewport = useResponsiveViewport(mediaQueries.down.xs);\n    const { i18n } = useCoreContext();\n    const targetElement = useClickOutside(null, onClose) as Ref<HTMLDivElement>;\n\n    const handleEscKey = useCallback(\n        (e: KeyboardEvent) => {\n            if (e.key === 'Escape' && isOpen && isDismissible) {\n                onClose();\n            }\n        },\n        [isOpen, isDismissible, onClose]\n    );\n\n    useEffect(() => {\n        if (isOpen) {\n            window.addEventListener('keydown', handleEscKey);\n        } else {\n            window.removeEventListener('keydown', handleEscKey);\n        }\n        return () => window.removeEventListener('keydown', handleEscKey);\n    }, [isOpen, handleEscKey]);\n\n    return (\n        <>\n            {isOpen && (\n                <div\n                    className={cx(\n                        'adyen-pe-modal-wrapper',\n                        classNameModifiers.map(m => `adyen-pe-modal-wrapper--${m}`),\n                        { 'adyen-pe-modal-wrapper--open': isOpen, 'adyen-pe-modal-wrapper--dismissible': isDismissible }\n                    )}\n                    role=\"dialog\"\n                    aria-modal=\"true\"\n                    aria-hidden={!open}\n                    {...props}\n                >\n                    <ModalContext.Provider value={{ withinModal: true }}>\n                        <div\n                            className={cx('adyen-pe-modal', {\n                                'adyen-pe-modal--fluid': size === 'fluid',\n                                'adyen-pe-modal--small': size === 'small',\n                                'adyen-pe-modal--large': size === 'large',\n                                'adyen-pe-modal--extra-large': size === 'extra-large',\n                                'adyen-pe-modal--full-screen': size === 'full-screen' || isSmViewport,\n                            })}\n                            ref={targetElement}\n                        >\n                            <div\n                                className={cx('adyen-pe-modal__header', {\n                                    'adyen-pe-modal__header--with-title': title,\n                                    'adyen-pe-modal__header--with-border-bottom': headerWithBorder,\n                                })}\n                            >\n                                {title && <div className={`adyen-pe-modal__header__title`}>{title}</div>}\n\n                                {isDismissible && (\n                                    <Button\n                                        onClick={onClose}\n                                        variant={ButtonVariant.TERTIARY}\n                                        iconButton\n                                        classNameModifiers={['circle']}\n                                        className={`adyen-pe-modal__header-icon`}\n                                        aria-label={i18n.get('dismiss')}\n                                    >\n                                        <Icon name=\"cross\" />\n                                    </Button>\n                                )}\n                            </div>\n                            <div className={'adyen-pe-modal__content'}>{children}</div>\n                        </div>\n                    </ModalContext.Provider>\n                </div>\n            )}\n        </>\n    );\n}\n","import { boolOrFalse } from '../../../utils';\nimport { useModalContext } from '../Modal/Modal';\nimport { useEffect, useMemo, useState } from 'preact/hooks';\nimport useCoreContext from '../../../core/Context/useCoreContext';\nimport type { TranslationKey } from '../../../translations';\nimport type { ExternalUIComponentProps } from '../../types';\nimport type { DetailsComponentProps } from './types';\n\ntype _BaseUseDataOverviewDetailsTitleProps = Pick<ExternalUIComponentProps<DetailsComponentProps>, 'hideTitle' | 'type'>;\n\nexport const TITLES_BY_TYPE = {\n    transaction: 'transactionDetails',\n    payout: 'payoutDetails',\n} as const satisfies Record<_BaseUseDataOverviewDetailsTitleProps['type'], TranslationKey>;\n\nexport const useDataOverviewDetailsTitle = <T extends _BaseUseDataOverviewDetailsTitleProps>({ hideTitle: _hideTitle, type }: T) => {\n    const { i18n } = useCoreContext();\n    const { withinModal } = useModalContext();\n    const [forcedHideTitle, setForcedHideTitle] = useState(false);\n\n    const hideTitle = useMemo(() => forcedHideTitle || boolOrFalse(_hideTitle), [forcedHideTitle, _hideTitle]);\n    const title = useMemo(() => i18n.get(TITLES_BY_TYPE[type]), [i18n, type]);\n\n    useEffect(() => {\n        // ensure title is always hidden within overview details modal\n        setForcedHideTitle(withinModal);\n    }, [withinModal]);\n\n    return { hideTitle, title } as const;\n};\n\nexport default useDataOverviewDetailsTitle;\n","import './DataOverviewDetails.scss';\nimport { useMemo } from 'preact/hooks';\nimport { useAuthContext } from '../../../core/Auth';\nimport AdyenPlatformExperienceError from '../../../core/Errors/AdyenPlatformExperienceError';\nimport { useFetch } from '../../../hooks/useFetch';\nimport { IBalanceAccountBase, IPayoutDetails } from '../../../types';\nimport { EMPTY_OBJECT } from '../../../utils';\nimport { PayoutData } from '../../external/PayoutDetails/components/PayoutData';\nimport TransactionData from '../../external/TransactionDetails/components/TransactionData';\nimport useBalanceAccounts from '../../../hooks/useBalanceAccounts';\nimport { ExternalUIComponentProps } from '../../types';\nimport { getErrorMessage } from '../../utils/getErrorMessage';\nimport { ErrorMessageDisplay } from '../ErrorMessageDisplay/ErrorMessageDisplay';\nimport { DetailsComponentProps, DetailsWithId, TransactionDetailData } from './types';\nimport Typography from '../Typography/Typography';\nimport { TypographyVariant } from '../Typography/types';\nimport useDataOverviewDetailsTitle from './useDataOverviewDetailsTitle';\n\nconst ENDPOINTS_BY_TYPE = {\n    transaction: 'getTransaction',\n    payout: 'getPayout',\n} as const;\n\nconst isDetailsWithId = (props: DetailsComponentProps): props is DetailsWithId => !('data' in props);\n\nexport default function DataOverviewDetails(props: ExternalUIComponentProps<DetailsComponentProps> & { balanceAccount?: IBalanceAccountBase }) {\n    const details = useMemo(() => (isDetailsWithId(props) ? null : props.data), [props]);\n    const dataId = useMemo(() => (isDetailsWithId(props) ? props.id : null), [props]);\n    const getDetail = useAuthContext().endpoints[ENDPOINTS_BY_TYPE[props.type]] as any; // [TODO]: Fix type and remove 'as any'\n\n    const { hideTitle, title } = useDataOverviewDetailsTitle(props);\n\n    const { data, error, isFetching } = useFetch(\n        useMemo(\n            () => ({\n                fetchOptions: { enabled: !!dataId && !!getDetail },\n                queryFn: async () => {\n                    const queryParam =\n                        props.type === 'transaction'\n                            ? {\n                                  path: { transactionId: dataId },\n                              }\n                            : {\n                                  query: { balanceAccountId: dataId, createdAt: props.date },\n                              };\n\n                    return getDetail!(EMPTY_OBJECT, { ...queryParam });\n                },\n            }),\n            [dataId, getDetail, props]\n        )\n    );\n\n    const balanceAccountId = props.type === 'payout' ? props.id : data?.balanceAccountId;\n    const hasBalanceAccountDetail = props.type === 'payout' ? props?.balanceAccountDescription : props?.balanceAccount;\n    const { balanceAccounts } = useBalanceAccounts(balanceAccountId, !hasBalanceAccountDetail);\n\n    const errorProps = useMemo(() => {\n        if (error) {\n            return getErrorMessage(error as AdyenPlatformExperienceError, 'weCouldNotLoadYourTransactions', props.onContactSupport);\n        }\n    }, [error, props.onContactSupport]);\n\n    const extraDetails = isDetailsWithId(props) && props.type === 'transaction' ? props.extraDetails : EMPTY_OBJECT;\n\n    const detailsData = details ?? data;\n\n    return (\n        <div className=\"adyen-pe-overview-details\">\n            {!hideTitle && (\n                <div className=\"adyen-pe-overview-details--title\">\n                    <Typography variant={TypographyVariant.TITLE} medium>\n                        {title}\n                    </Typography>\n                </div>\n            )}\n\n            {error && errorProps && (\n                <div className=\"adyen-pe-overview-details--error-container\">\n                    <ErrorMessageDisplay withImage {...errorProps} />\n                </div>\n            )}\n\n            {props.type === 'transaction' && (\n                <TransactionData\n                    transaction={\n                        detailsData\n                            ? ({\n                                  ...(detailsData || EMPTY_OBJECT),\n                                  balanceAccount: props?.balanceAccount || balanceAccounts?.[0],\n                              } as TransactionDetailData)\n                            : undefined\n                    }\n                    error={!!(error && errorProps)}\n                    isFetching={isFetching}\n                    extraFields={extraDetails}\n                />\n            )}\n            {props.type === 'payout' && detailsData && (\n                <PayoutData\n                    balanceAccountId={dataId!}\n                    payout={detailsData as IPayoutDetails}\n                    balanceAccountDescription={props?.balanceAccountDescription || balanceAccounts?.[0]?.description}\n                    isFetching={isFetching}\n                />\n            )}\n        </div>\n    );\n}\n","import { PayoutDetailsWithIdProps } from '../../internal/DataOverviewDetails/types';\nimport { _UIComponentProps, ExternalComponentType } from '../../types';\nimport UIElement from '../UIElement/UIElement';\nimport DataOverviewDetails from '../../internal/DataOverviewDetails/DataOverviewDetails';\n\nexport class PayoutElement extends UIElement<PayoutDetailsWithIdProps> {\n    public static type: ExternalComponentType = 'payoutDetails';\n\n    constructor(props: _UIComponentProps<PayoutDetailsWithIdProps>) {\n        super(props);\n        this.componentToRender = this.componentToRender.bind(this);\n    }\n\n    public componentToRender = () => {\n        return (\n            <DataOverviewDetails {...this.props} type={'payout'} ref={(ref: UIElement<PayoutDetailsWithIdProps>) => void (this.componentRef = ref)} />\n        );\n    };\n}\n\nexport default PayoutElement;\n","export const WITH_ERROR_CLASS = 'adyen-pe-data-overview-container--with-error';\n","import { WITH_ERROR_CLASS } from './constants';\nimport { ErrorMessageDisplay } from '../ErrorMessageDisplay/ErrorMessageDisplay';\nimport { useAuthContext } from '../../../core/Auth';\nimport { TranslationKey } from '../../../translations';\nimport cx from 'classnames';\nimport { PropsWithChildren } from 'preact/compat';\nimport { getErrorMessage } from '../../utils/getErrorMessage';\nimport AdyenPlatformExperienceError from '../../../core/Errors/AdyenPlatformExperienceError';\n\ntype DataOverviewContainerProps = PropsWithChildren<{\n    balanceAccountsError?: Error;\n    className: string;\n    errorMessage: TranslationKey;\n    isBalanceAccountIdWrong: boolean;\n    onContactSupport?: () => void;\n}>;\n\nfunction DataOverviewContainer({\n    balanceAccountsError,\n    children,\n    className,\n    errorMessage,\n    isBalanceAccountIdWrong,\n    onContactSupport,\n}: DataOverviewContainerProps) {\n    const { hasError } = useAuthContext();\n\n    // TODO: Verify if WITH_ERROR_CLASS should appended only for session setup error\n    return (\n        <div className={cx(className, { [WITH_ERROR_CLASS]: hasError })}>\n            {hasError ? (\n                <ErrorMessageDisplay\n                    withImage\n                    centered\n                    title={'somethingWentWrong'}\n                    message={[errorMessage, 'tryRefreshingThePageOrComeBackLater']}\n                    refreshComponent={true}\n                />\n            ) : balanceAccountsError ? (\n                <ErrorMessageDisplay\n                    withImage\n                    centered\n                    {...getErrorMessage(balanceAccountsError as AdyenPlatformExperienceError, 'weCouldNotLoadYourBalanceAccounts', onContactSupport)}\n                />\n            ) : isBalanceAccountIdWrong ? (\n                <ErrorMessageDisplay\n                    withImage\n                    centered\n                    title={'somethingWentWrong'}\n                    message={[errorMessage, 'theSelectedBalanceAccountIsIncorrect']}\n                />\n            ) : (\n                <>{children}</>\n            )}\n        </div>\n    );\n}\n\nexport default DataOverviewContainer;\n","export const BASE_CLASS = 'adyen-pe-payouts-overview';\nexport const BASE_CLASS_DETAILS = 'adyen-pe-payouts-details';\nexport const EARLIEST_PAYOUT_SINCE_DATE = new Date('2024-04-16T00:00:00.000Z').toString();\n","export const BASE_CLASS = 'adyen-pe-payouts-table';\nexport const NET_PAYOUT_CLASS = `${BASE_CLASS}__net-payout`;\n","import cx from 'classnames';\nimport { FC } from 'preact/compat';\nimport { useAuthContext } from '../../../../../core/Auth';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport AdyenPlatformExperienceError from '../../../../../core/Errors/AdyenPlatformExperienceError';\nimport { getCurrencyCode } from '../../../../../core/Localization/amount/amount-util';\nimport { TranslationKey } from '../../../../../translations';\nimport { IPayout } from '../../../../../types';\nimport { useCallback, useMemo } from 'preact/hooks';\nimport useTimezoneAwareDateFormatting from '../../../../../hooks/useTimezoneAwareDateFormatting';\nimport DataGrid from '../../../../internal/DataGrid';\nimport { CellTextPosition } from '../../../../internal/DataGrid/types';\nimport { DATE_FORMAT_PAYOUTS, DATE_FORMAT_PAYOUTS_MOBILE } from '../../../../../constants';\nimport DataOverviewError from '../../../../internal/DataOverviewError/DataOverviewError';\nimport Pagination from '../../../../internal/Pagination';\nimport { PaginationProps, WithPaginationLimitSelection } from '../../../../internal/Pagination/types';\nimport { TypographyVariant } from '../../../../internal/Typography/types';\nimport Typography from '../../../../internal/Typography/Typography';\nimport { getLabel } from '../../../../utils/getLabel';\nimport { mediaQueries, useResponsiveViewport } from '../../../../../hooks/useResponsiveViewport';\nimport { BASE_CLASS, NET_PAYOUT_CLASS } from './constants';\nimport './PayoutsTable.scss';\nimport { useTableColumns } from '../../../../../hooks/useTableColumns';\n\nconst AMOUNT_FIELDS = ['fundsCapturedAmount', 'adjustmentAmount', 'payoutAmount'] as const;\nconst FIELDS = ['createdAt', ...AMOUNT_FIELDS] as const;\n\nconst _isAmountFieldKey = (key: (typeof FIELDS)[number]): key is (typeof AMOUNT_FIELDS)[number] => {\n    return AMOUNT_FIELDS.includes(key as (typeof AMOUNT_FIELDS)[number]);\n};\n\nexport interface PayoutsTableProps extends WithPaginationLimitSelection<PaginationProps> {\n    loading: boolean;\n    error?: AdyenPlatformExperienceError;\n    onContactSupport?: () => void;\n    onRowClick: (value: any) => void;\n    showDetails?: boolean;\n    showPagination: boolean;\n    data: IPayout[] | undefined;\n}\n\nexport const PayoutsTable: FC<PayoutsTableProps> = ({\n    error,\n    loading,\n    onContactSupport,\n    onRowClick,\n    showDetails,\n    showPagination,\n    data,\n    ...paginationProps\n}) => {\n    const { i18n } = useCoreContext();\n    const { dateFormat } = useTimezoneAwareDateFormatting('UTC');\n    const { refreshing } = useAuthContext();\n    const isLoading = useMemo(() => loading || refreshing, [loading, refreshing]);\n    const isSmAndUpViewport = useResponsiveViewport(mediaQueries.up.sm);\n\n    const getAmountFieldConfig = useCallback(\n        (key: (typeof FIELDS)[number]) => {\n            const label = i18n.get(getLabel(key));\n            if (_isAmountFieldKey(key)) {\n                return {\n                    label: data?.[0]?.[key]?.currency ? `${label} (${getCurrencyCode(data?.[0]?.[key]?.currency)})` : label,\n                    position: CellTextPosition.RIGHT,\n                };\n            }\n        },\n        [data, i18n]\n    );\n\n    const columns = useTableColumns({\n        fields: FIELDS,\n        columnConfig: useMemo(\n            () => ({\n                fundsCapturedAmount: { ...getAmountFieldConfig('fundsCapturedAmount'), visible: isSmAndUpViewport },\n                adjustmentAmount: { ...getAmountFieldConfig('adjustmentAmount'), visible: isSmAndUpViewport },\n                payoutAmount: getAmountFieldConfig('payoutAmount'),\n            }),\n            [getAmountFieldConfig, isSmAndUpViewport]\n        ),\n    });\n\n    const EMPTY_TABLE_MESSAGE = {\n        title: 'noPayoutsFound',\n        message: ['tryDifferentSearchOrResetYourFiltersAndWeWillTryAgain'],\n    } satisfies { title: TranslationKey; message: TranslationKey | TranslationKey[] };\n\n    const errorDisplay = useMemo(\n        () => () => <DataOverviewError error={error} errorMessage={'weCouldNotLoadYourPayouts'} onContactSupport={onContactSupport} />,\n        [error, onContactSupport]\n    );\n\n    return (\n        <div className={BASE_CLASS}>\n            <DataGrid\n                errorDisplay={errorDisplay}\n                error={error}\n                columns={columns}\n                data={data}\n                loading={isLoading}\n                outline={false}\n                onRowClick={{ callback: onRowClick }}\n                emptyTableMessage={EMPTY_TABLE_MESSAGE}\n                customCells={{\n                    createdAt: ({ value }) => {\n                        if (!value) return null;\n                        if (!isSmAndUpViewport) return dateFormat(value, DATE_FORMAT_PAYOUTS_MOBILE);\n                        return value && <Typography variant={TypographyVariant.BODY}>{dateFormat(value, DATE_FORMAT_PAYOUTS)}</Typography>;\n                    },\n                    fundsCapturedAmount: ({ value }) => {\n                        return (\n                            value && (\n                                <Typography variant={TypographyVariant.BODY}>\n                                    {i18n.amount(value.value, value.currency, { hideCurrency: true })}\n                                </Typography>\n                            )\n                        );\n                    },\n                    adjustmentAmount: ({ value }) => {\n                        return (\n                            value && (\n                                <Typography variant={TypographyVariant.BODY}>\n                                    {i18n.amount(value.value, value.currency, { hideCurrency: true })}\n                                </Typography>\n                            )\n                        );\n                    },\n                    payoutAmount: ({ value }) => {\n                        return (\n                            value && (\n                                <Typography variant={TypographyVariant.BODY} className={cx({ [`${NET_PAYOUT_CLASS}--strong`]: !isSmAndUpViewport })}>\n                                    {i18n.amount(value.value, value.currency, { hideCurrency: isSmAndUpViewport })}\n                                </Typography>\n                            )\n                        );\n                    },\n                }}\n            >\n                {showPagination && (\n                    <DataGrid.Footer>\n                        <Pagination {...paginationProps} />\n                    </DataGrid.Footer>\n                )}\n            </DataGrid>\n        </div>\n    );\n};\n","import cx from 'classnames';\nimport Button from '../Button';\nimport Icon from '../Icon';\nimport { isFunction } from '../../../utils';\nimport { ButtonVariant } from '../Button/types';\nimport { PropsWithChildren } from 'preact/compat';\nimport { useEffect, useState } from 'preact/hooks';\nimport useCoreContext from '../../../core/Context/useCoreContext';\nimport { mediaQueries, useResponsiveViewport } from '../../../hooks/useResponsiveViewport';\nimport type { FilterBarMobileSwitchProps, FilterBarProps } from './types';\nimport './FilterBar.scss';\n\nconst MOBILE_SWITCH_CLASS = 'adyen-pe-filter-bar-mobile-switch';\n\nexport const useFilterBarState = () => {\n    const isMobileViewport = useResponsiveViewport(mediaQueries.down.xs);\n    const [showingFilters, setShowingFilters] = useState(!isMobileViewport);\n\n    useEffect(() => {\n        setShowingFilters(!isMobileViewport);\n    }, [isMobileViewport]);\n\n    return { isMobileViewport, showingFilters, setShowingFilters } as const;\n};\n\nexport const FilterBarMobileSwitch = ({ isMobileViewport, showingFilters, setShowingFilters }: FilterBarMobileSwitchProps) => {\n    return isMobileViewport ? (\n        <div className={MOBILE_SWITCH_CLASS}>\n            <Button\n                iconButton\n                className={`${MOBILE_SWITCH_CLASS}__button`}\n                disabled={!isFunction(setShowingFilters)}\n                onClick={() => setShowingFilters?.(!showingFilters)}\n                variant={ButtonVariant.SECONDARY}\n            >\n                <Icon name={showingFilters ? 'cross' : 'filter'} />\n            </Button>\n        </div>\n    ) : null;\n};\n\nexport const FilterBar = (props: PropsWithChildren<FilterBarProps>) => {\n    const { i18n } = useCoreContext();\n    return props.showingFilters ? (\n        <div\n            aria-label={i18n.get('filterBar')}\n            className={cx('adyen-pe-filter-bar', { 'adyen-pe-filter-bar__content--mobile': props.isMobileViewport })}\n        >\n            {props.children}\n            {props.canResetFilters && !!props.resetFilters && (\n                <Button variant={ButtonVariant.TERTIARY} onClick={props.resetFilters}>\n                    {i18n.get('button.clearAll')}\n                </Button>\n            )}\n        </div>\n    ) : null;\n};\n\nexport default FilterBar;\n","import useBalanceAccountSelection from '../../../../../hooks/useBalanceAccountSelection';\nimport { memo } from 'preact/compat';\nimport { useCallback } from 'preact/hooks';\nimport Select from '../../Select';\nimport { mediaQueries, useResponsiveViewport } from '../../../../../hooks/useResponsiveViewport';\nimport { renderDefaultSingleSelectionCheckedness } from '../components/SelectListItem';\nimport { SelectItem, SelectProps } from '../types';\nimport './BalanceAccountSelector.scss';\n\ntype _GetRenderListItemType<T> = T extends Readonly<SelectItem[]> ? NonNullable<SelectProps<T[number]>['renderListItem']> : never;\n\nconst BA_SELECTOR_CLASS = 'adyen-pe-balance-account-selector';\nconst BA_SELECTOR_ACCOUNT_ID_CLASS = `${BA_SELECTOR_CLASS}__account-id` as const;\nconst BA_SELECTOR_ACCOUNT_LABEL_CLASS = `${BA_SELECTOR_CLASS}__account-label` as const;\n\nconst BalanceAccountSelector = memo(\n    ({\n        activeBalanceAccount,\n        balanceAccountSelectionOptions,\n        onBalanceAccountSelection,\n    }: Omit<ReturnType<typeof useBalanceAccountSelection>, 'resetBalanceAccountSelection'>) => {\n        const isSmViewport = useResponsiveViewport(mediaQueries.down.xs);\n\n        const renderListItem = useCallback<_GetRenderListItemType<typeof balanceAccountSelectionOptions>>(\n            data => (\n                <>\n                    <div className={data.contentClassName}>\n                        {data.item.name && <span className={BA_SELECTOR_ACCOUNT_LABEL_CLASS}>{data.item.name}</span>}\n                        <span className={BA_SELECTOR_ACCOUNT_ID_CLASS}>{data.item.id}</span>\n                    </div>\n                    {renderDefaultSingleSelectionCheckedness(data)}\n                </>\n            ),\n            []\n        );\n\n        return balanceAccountSelectionOptions && balanceAccountSelectionOptions.length > 1 ? (\n            <Select\n                popoverClassNameModifiers={[BA_SELECTOR_CLASS]}\n                onChange={onBalanceAccountSelection}\n                filterable={false}\n                multiSelect={false}\n                selected={activeBalanceAccount?.id}\n                withoutCollapseIndicator={true}\n                items={balanceAccountSelectionOptions}\n                renderListItem={renderListItem}\n                showOverlay={isSmViewport}\n            />\n        ) : null;\n    }\n);\n\nexport default BalanceAccountSelector;\n","export const LIMIT_OPTIONS = Object.freeze([10, 20]);\nexport const MAX_PAGE_LIMIT = 100;\nexport const DEFAULT_PAGE_LIMIT = 10;\n","import { MAX_PAGE_LIMIT } from './constants';\n\nexport const getClampedPageLimit = (pageLimit?: number) => {\n    const limit = ~~(pageLimit as number);\n    return limit === pageLimit && limit > 0 ? Math.min(limit, MAX_PAGE_LIMIT) : Math.max(limit, 0);\n};\n","import { useMemo, useRef } from 'preact/hooks';\nimport { DEFAULT_PAGE_LIMIT } from '../constants';\nimport { getClampedPageLimit } from '../utils';\nimport { isNumber, mid } from '../../../../utils';\nimport { BasePaginatedRecordsInitOptions } from './types';\n\nexport const getNearestFromSortedUniqueNums = (nums: number[], target: number): number => {\n    const lastindex = nums.length - 1;\n\n    if (lastindex < 0) return target;\n    if (target <= (nums[0] as number)) return nums[0] as number;\n    if (target >= (nums[lastindex] as number)) return nums[lastindex] as number;\n\n    let index = 0,\n        lo = 0,\n        hi = lastindex;\n\n    while (true) {\n        const current = nums[(index = mid(lo, hi))] as number;\n        if (lo > hi || target === current) return current;\n        target > current ? (lo = index + 1) : (hi = index - 1);\n    }\n};\n\nconst usePageLimit = ({\n    preferredLimit = DEFAULT_PAGE_LIMIT,\n    preferredLimitOptions,\n}: Pick<BasePaginatedRecordsInitOptions<any, any, any, any>, 'preferredLimit' | 'preferredLimitOptions'>) => {\n    const cachedLimitOptions = useRef<readonly number[]>();\n    const cachedLimit = useRef<number>();\n\n    const options = useMemo(() => {\n        try {\n            const uniqueOptions = new Set<number>();\n\n            for (const option of preferredLimitOptions as number[]) {\n                const limit = getClampedPageLimit(option);\n                if (limit > 0) uniqueOptions.add(limit);\n            }\n\n            return Object.freeze([...uniqueOptions].sort((a, b) => a - b));\n        } catch {\n            /* ignore exception — no options available */\n        }\n    }, [preferredLimitOptions]);\n\n    const limit = useMemo(() => {\n        let limit = getClampedPageLimit(preferredLimit) || DEFAULT_PAGE_LIMIT;\n\n        parsing: try {\n            if (cachedLimitOptions.current === options) break parsing;\n\n            const uniqueOptions = new Set((cachedLimitOptions.current = options));\n\n            if (uniqueOptions.size === 0) {\n                cachedLimitOptions.current = undefined;\n                break parsing;\n            }\n\n            if (cachedLimit.current !== limit) {\n                selection: {\n                    if (uniqueOptions.size === uniqueOptions.add(limit).size) {\n                        break selection;\n                    } else uniqueOptions.delete(limit);\n\n                    if (uniqueOptions.size === uniqueOptions.add(cachedLimit.current as number).size) {\n                        if (isNumber(cachedLimit.current)) {\n                            limit = cachedLimit.current;\n                            break selection;\n                        }\n                    } else uniqueOptions.delete(cachedLimit.current as number);\n\n                    // limit = cachedLimitOptions.current?.[0] as number;\n                    limit = getNearestFromSortedUniqueNums(cachedLimitOptions.current as number[], limit);\n                }\n            }\n        } catch {\n            /* ignore exception here — there are no options */\n        }\n\n        return (cachedLimit.current = limit);\n    }, [options, preferredLimit]);\n\n    return { limit, limitOptions: options } as const;\n};\n\nexport default usePageLimit;\n","import { useEffect, useMemo, useRef } from 'preact/hooks';\n\nconst useMounted = <U extends (...args: any[]) => any>(beforeUnmount?: U) => {\n    const $mounted = useRef(false);\n    const unmount = useMemo(() => beforeUnmount, [beforeUnmount]);\n\n    useEffect(() => {\n        $mounted.current = true;\n\n        return () => {\n            $mounted.current = false;\n            unmount && unmount();\n        };\n    }, [unmount]);\n\n    return $mounted;\n};\n\nexport default useMounted;\n","import { useCallback, useEffect, useMemo, useRef, useState } from 'preact/hooks';\nimport { RequestPageCallback, RequestPageCallbackParams, UsePaginationSetupConfig } from './types';\nimport useBooleanState from '../../../../hooks/useBooleanState';\nimport useMounted from '../../../../hooks/useMounted';\nimport { PaginationType, UsePagination } from '../types';\nimport { getClampedPageLimit } from '../utils';\nimport { noop } from '../../../../utils';\n\nconst usePagination = <Pagination extends PaginationType>(\n    paginationSetupConfig: UsePaginationSetupConfig<Pagination>,\n    requestPageCallback?: RequestPageCallback<Pagination>,\n    pageLimit?: number\n): UsePagination => {\n    const $controller = useRef<AbortController>();\n    const $maxVisitedPage = useRef<number>();\n    const $maxVisitedPageSize = useRef<number>();\n    const $page = useRef<number>();\n\n    const $mounted = useMounted(\n        useCallback(() => {\n            $controller.current?.abort();\n            $controller.current = undefined;\n        }, [])\n    );\n\n    const [page, setCurrentPage] = useState($page.current);\n    const [paginationChanged, updatePaginationChanged] = useBooleanState(false);\n    const limit = useMemo(() => getClampedPageLimit(pageLimit), [pageLimit]);\n\n    const { getPageCount, getPageParams, resetPageCount, updatePagination } = paginationSetupConfig;\n\n    const goto = useMemo(() => {\n        return requestPageCallback\n            ? (page: number) => {\n                  if (!(limit && Number.isInteger(page))) return;\n\n                  const PAGES = getPageCount();\n                  const requestedPage = page < 0 ? page + PAGES + 1 : page;\n                  const isValidPageRequest = requestedPage > 0 && (PAGES ? requestedPage <= PAGES : requestedPage === 1);\n\n                  if (!isValidPageRequest) return;\n\n                  $controller.current?.abort();\n                  $controller.current = new AbortController();\n\n                  if (!$mounted.current) return;\n\n                  if (($page.current = requestedPage) > 1 || PAGES) {\n                      setCurrentPage($page.current);\n                  }\n\n                  (async () => {\n                      const { signal } = $controller.current as AbortController;\n                      const params = { ...getPageParams(requestedPage, limit), limit, page: requestedPage } as RequestPageCallbackParams<Pagination>;\n\n                      try {\n                          const data = await requestPageCallback(params, signal);\n                          if (!data || !$mounted.current) return;\n\n                          const { size, ...paginationData } = data;\n\n                          updatePagination(requestedPage, limit, paginationData);\n                          $maxVisitedPage.current = $page.current && Math.max($page.current, $maxVisitedPage.current || -Infinity);\n\n                          if ($page.current && $page.current === $maxVisitedPage.current) $maxVisitedPageSize.current = size;\n                          if ($page.current === 1 && size > 0) setCurrentPage($page.current);\n\n                          $page.current = undefined;\n                          updatePaginationChanged(true);\n                      } catch (ex) {\n                          if (signal.aborted) return;\n                          console.error(ex); // throw ex;\n                      }\n                  })();\n              }\n            : (noop as UsePagination['goto']);\n    }, [limit, requestPageCallback]);\n\n    const next = useCallback(() => {\n        page && goto(Math.min(page + 1, getPageCount()));\n    }, [goto, page]);\n\n    const prev = useCallback(() => {\n        page && goto(Math.max(page - 1, 1));\n    }, [goto, page]);\n\n    const pages = useMemo(() => getPageCount() || page || undefined, [goto, paginationChanged]);\n    const hasNext = useMemo(() => !!(page && pages) && page < pages, [page, pages]);\n    const hasPrev = useMemo(() => !!page && page > 1, [page]);\n\n    const size = useMemo(\n        () => ($maxVisitedPage.current ? ($maxVisitedPage.current - 1) * limit + ($maxVisitedPageSize.current || 0) : 0),\n        [goto, paginationChanged]\n    );\n\n    const pageSize = useMemo(() => limit && Math.min(limit, size || Infinity) % limit, [limit, size]);\n\n    const resetPagination = useCallback(() => {\n        resetPageCount();\n        $maxVisitedPage.current = $maxVisitedPageSize.current = $page.current = undefined;\n        $mounted.current && setCurrentPage($page.current);\n    }, [resetPageCount]);\n\n    useEffect(() => {\n        if ($mounted.current && paginationChanged) {\n            updatePaginationChanged(false);\n        }\n    }, [paginationChanged]);\n\n    return { goto, hasNext, hasPrev, limit, next, page, pages, pageSize, prev, resetPagination, size };\n};\n\nexport default usePagination;\n","import { useMemo } from 'preact/hooks';\nimport { isString, isUndefined } from '../../../../utils';\nimport { RequestPageCallback, RequestPageCallbackParams } from './types';\nimport { PaginationType, UsePagination, WithEitherPages, WithNextPage, WithPrevPage } from '../types';\nimport usePagination from './usePagination';\n\ntype HasEitherPages = WithEitherPages<PaginationType.CURSOR>;\ntype HasNextPage = WithNextPage<PaginationType.CURSOR>;\ntype HasPrevPage = WithPrevPage<PaginationType.CURSOR>;\ntype PageCursorType = RequestPageCallbackParams<PaginationType.CURSOR>['cursor'];\n\nexport const hasNextPage = (value: HasEitherPages): value is HasNextPage => isString((value as HasNextPage).next);\nexport const hasPrevPage = (value: HasEitherPages): value is HasPrevPage => isString((value as HasPrevPage).prev);\n\nconst useCursorPagination = (requestPageCallback?: RequestPageCallback<PaginationType.CURSOR>, pageLimit?: number): UsePagination => {\n    const paginationSetupConfig = useMemo(() => {\n        const cursors: PageCursorType[] = [];\n        const getPageCount = () => cursors.length;\n        const resetPageCount = () => {\n            cursors.length = 0;\n        };\n        const getPageParams = (page: number) => ({ cursor: cursors[page - 1] });\n\n        const updateCursor = (cursor: PageCursorType, page: number) => {\n            const currentCursor = cursors[page - 1];\n\n            if ((page === 1 || page === (cursors.length || 1) + 1) && isUndefined(currentCursor)) {\n                cursors[page - 1] = cursor ? decodeURIComponent(cursor) : undefined;\n            }\n        };\n\n        const updatePagination = (page: number, limit: number, paginationData: HasEitherPages) => {\n            if (hasNextPage(paginationData)) updateCursor(paginationData.next, page + 1);\n            if (hasPrevPage(paginationData)) updateCursor(paginationData.prev, page - 1);\n        };\n\n        return { getPageCount, getPageParams, resetPageCount, updatePagination };\n    }, []);\n\n    return usePagination<PaginationType.CURSOR>(paginationSetupConfig, requestPageCallback, pageLimit);\n};\n\nexport default useCursorPagination;\n","import { useMemo } from 'preact/hooks';\nimport { RequestPageCallback } from './types';\nimport { PaginationType, UsePagination, WithEitherPages, WithNextPage } from '../types';\nimport usePagination from './usePagination';\n\nexport type HasEitherPages = WithEitherPages<PaginationType.OFFSET>;\nexport type HasNextPage = WithNextPage<PaginationType.OFFSET>;\nexport const hasNextPage = (value: HasEitherPages): value is HasNextPage => (value as HasNextPage).next;\n\nconst useOffsetPagination = (requestPageCallback?: RequestPageCallback<PaginationType.OFFSET>, pageLimit?: number): UsePagination => {\n    const paginationSetupConfig = useMemo(() => {\n        let currentPage = 0;\n        const getPageCount = () => currentPage;\n        const resetPageCount = () => {\n            currentPage = 0;\n        };\n        const getPageParams = (page: number, limit: number) => ({ offset: (page - 1) * limit });\n\n        const updatePagination = (page: number, limit: number, paginationData: HasEitherPages) => {\n            if (hasNextPage(paginationData) && paginationData.next) {\n                currentPage = Math.max(currentPage, page + 1);\n            }\n        };\n\n        return { getPageCount, getPageParams, resetPageCount, updatePagination };\n    }, []);\n\n    return usePagination<PaginationType.OFFSET>(paginationSetupConfig, requestPageCallback, pageLimit);\n};\n\nexport default useOffsetPagination;\n","import { useEffect, useMemo, useReducer, useRef } from 'preact/hooks';\nimport { EMPTY_OBJECT } from '../../utils';\nimport useMounted from '../useMounted';\nimport { ReactiveStateRecord, ReactiveStateUpdateRequest, ReactiveStateUpdateRequestWithField, UseReactiveStateRecord } from './types';\n\nconst useReactiveState = <Value, Param extends string>(\n    params: ReactiveStateRecord<Value, Param> = EMPTY_OBJECT as ReactiveStateRecord<Value, Param>,\n    initialStateSameAsDefault = true\n): UseReactiveStateRecord<Value, Param> => {\n    const $hasDefaultState = useRef(initialStateSameAsDefault);\n    const $defaultState = useRef(Object.freeze({ ...params }) as ReactiveStateRecord<Value, Param>);\n    const $stateParams = useRef(new Set(Object.keys($defaultState.current) as Param[]));\n    const $changedParams = useRef(new Set<Param>());\n    const $mounted = useMounted();\n\n    const [resetState, updateState] = useMemo(() => {\n        const requestStateUpdate = (stateUpdateRequest: ReactiveStateUpdateRequest<Value, Param>) => {\n            if (!$mounted.current) return;\n            dispatch(stateUpdateRequest);\n        };\n\n        return [\n            () => requestStateUpdate('reset'),\n            (stateUpdateRequest: ReactiveStateUpdateRequestWithField<Value, Param>) => requestStateUpdate(stateUpdateRequest),\n        ];\n    }, [$mounted]);\n\n    const [state, dispatch] = useReducer((state, stateUpdateRequest: ReactiveStateUpdateRequest<Value, Param>) => {\n        if (stateUpdateRequest === 'reset') {\n            $changedParams.current.clear();\n            return $defaultState.current;\n        }\n\n        const stateUpdate = { ...stateUpdateRequest } as ReactiveStateRecord<Value, Param>;\n        const stateUpdateFlags = [0];\n\n        (Object.keys(stateUpdate) as Param[]).forEach((key, index) => {\n            if (!$stateParams.current.has(key)) return;\n\n            const currentValue = state[key] ?? undefined;\n            const defaultValue = $defaultState.current[key] ?? undefined;\n            const updateValue = stateUpdate[key] ?? defaultValue;\n\n            if (updateValue === currentValue) return;\n\n            const flagIndex = Math.floor(index / 32);\n            const updateFlag = 1 << index % 32;\n\n            stateUpdate[key] = updateValue;\n            stateUpdateFlags[flagIndex] |= updateFlag;\n            $changedParams.current[updateValue === defaultValue ? 'delete' : 'add'](key);\n        });\n\n        const STATE = stateUpdateFlags.some(flag => flag)\n            ? $hasDefaultState.current && $changedParams.current.size === 0\n                ? $defaultState.current\n                : Object.freeze({ ...state, ...stateUpdate })\n            : state;\n\n        if (!$hasDefaultState.current) {\n            // Mark as having default state on the first \"non-reset\" state update request,\n            // whether it results in a state update or not.\n            $defaultState.current = STATE;\n            $hasDefaultState.current = true;\n        }\n\n        return STATE;\n    }, $defaultState.current);\n\n    const canResetState = useMemo(() => !!$changedParams.current.size, []);\n\n    useEffect(() => {\n        $defaultState.current = Object.freeze({ ...params }) as ReactiveStateRecord<Value, Param>;\n        $stateParams.current = new Set(Object.keys($defaultState.current) as Param[]);\n        $hasDefaultState.current = initialStateSameAsDefault;\n        resetState();\n    }, [initialStateSameAsDefault, params, resetState]);\n    return { canResetState, defaultState: $defaultState.current, resetState, state, updateState };\n};\n\nexport default useReactiveState;\n","import { EMPTY_OBJECT } from '../../../../utils';\nimport { UsePaginatedRecordsFilters } from './types';\nimport useReactiveState from '../../../../hooks/useReactiveState';\nimport { ReactiveStateRecord } from '../../../../hooks/useReactiveState/types';\n\nconst usePaginatedRecordsFilters = <FilterValue, FilterParam extends string>(\n    filterParams: ReactiveStateRecord<FilterValue, FilterParam> = EMPTY_OBJECT as ReactiveStateRecord<FilterValue, FilterParam>,\n    initialFiltersSameAsDefault?: boolean\n): UsePaginatedRecordsFilters<FilterValue, FilterParam> => {\n    const {\n        canResetState: canResetFilters,\n        defaultState: defaultFilters,\n        resetState: resetFilters,\n        state: filters,\n        updateState: updateFilters,\n    } = useReactiveState<FilterValue, FilterParam>(filterParams, initialFiltersSameAsDefault);\n\n    return { canResetFilters, defaultFilters, filters, resetFilters, updateFilters };\n};\n\nexport default usePaginatedRecordsFilters;\n","import { UseReactiveStateRecord } from '../../../hooks/useReactiveState/types';\n\nexport const enum PageNeighbour {\n    NEXT = 'next',\n    PREV = 'prev',\n}\n\nexport const enum PaginationType {\n    CURSOR = 'cursor',\n    OFFSET = 'offset',\n}\n\nexport type ForPaginationType<T extends PaginationType, CursorType, OffsetType> = T extends PaginationType.CURSOR\n    ? CursorType\n    : T extends PaginationType.OFFSET\n    ? OffsetType\n    : never;\n\ntype BothPageNeighbours<T = any> = { [P in PageNeighbour]: T };\ntype NextPageNeighbour<T = any> = Omit<BothPageNeighbours<T>, PageNeighbour.PREV>;\ntype PrevPageNeighbour<T = any> = Omit<BothPageNeighbours<T>, PageNeighbour.NEXT>;\n\ntype WithNextPageNeighbour<T = any> = BothPageNeighbours<T> | NextPageNeighbour<T>;\ntype WithPrevPageNeighbour<T = any> = BothPageNeighbours<T> | PrevPageNeighbour<T>;\ntype WithPageNeighbours<T = any> = WithNextPageNeighbour<T> | WithPrevPageNeighbour<T>;\n\ntype WhichPageNeighbour<T extends PaginationType> = ForPaginationType<T, string, boolean>;\n\nexport type WithEitherPages<T extends PaginationType> = WithPageNeighbours<WhichPageNeighbour<T>>;\nexport type WithNextPage<T extends PaginationType> = WithNextPageNeighbour<WhichPageNeighbour<T>>;\nexport type WithPrevPage<T extends PaginationType> = WithPrevPageNeighbour<WhichPageNeighbour<T>>;\n\nexport type WithPaginationCursor<T extends Record<any, any> = {}> = T & { cursor?: string };\nexport type WithPaginationLimit<T extends Record<any, any> = {}> = T & { limit?: number };\nexport type WithPaginationOffset<T extends Record<any, any> = {}> = T & { offset: number };\nexport type WithPaginationRecordSize<T extends Record<any, any> = {}> = T & { size?: number };\n\nexport type WithPaginationLimitSelection<T extends Record<any, any> = {}> = T & {\n    limitOptions?: readonly number[];\n    onLimitSelection?: (limit: number) => void;\n};\n\nexport type PaginatedResponseDataKeyword = 'hasNext' | 'hasPrevious' | '_links';\nexport type PaginatedResponseDataField<DataField extends string> = Exclude<DataField | PaginatedResponseDataKeyword, PaginatedResponseDataKeyword>;\n\nexport type BasePaginatedResponseData<T = any, DataField extends string = 'data'> = {\n    [K in PaginatedResponseDataField<DataField>]?: T[];\n};\n\nexport type PaginatedResponseDataWithLinks<T = any, DataField extends string = 'data'> = BasePaginatedResponseData<T, DataField> & {\n    _links: {\n        [K in PageNeighbour]?: { cursor: string };\n    };\n};\n\nexport type PaginatedResponseDataWithoutLinks<T = any, DataField extends string = 'data'> = BasePaginatedResponseData<T, DataField> & {\n    hasNext?: boolean;\n    hasPrevious?: boolean;\n};\n\nexport type PaginatedResponseData<T = any, DataField extends string = 'data'> =\n    | PaginatedResponseDataWithLinks<T, DataField>\n    | PaginatedResponseDataWithoutLinks<T, DataField>;\n\nexport interface UseFilters<S extends UseReactiveStateRecord> {\n    canResetFilters: S['canResetState'];\n    defaultFilters: S['defaultState'];\n    filters: S['state'];\n    resetFilters: S['resetState'];\n    updateFilters: S['updateState'];\n}\n\nexport interface UsePagination extends Required<WithPaginationLimit>, WithPaginationRecordSize {\n    goto: (page: number) => void;\n    hasNext: boolean;\n    hasPrev: boolean;\n    next: () => void;\n    page: number | undefined;\n    pages: number | undefined;\n    pageSize: number | undefined;\n    prev: () => void;\n    resetPagination: () => void;\n}\n\nexport type PaginationProps = WithPaginationLimitSelection<Omit<UsePagination, 'goto' | 'resetPagination'> & Partial<Pick<UsePagination, 'goto'>>>;\n","import { useCallback, useEffect, useMemo, useRef, useState } from 'preact/hooks';\nimport { boolOrFalse, EMPTY_OBJECT } from '../../../../utils';\nimport {\n    BasePaginatedRecordsInitOptions,\n    PaginatedRecordsFetcherReturnValue,\n    RequestPageCallback,\n    RequestPageCallbackParams,\n    RequestPageCallbackReturnValue,\n    UsePaginatedRecords,\n} from './types';\nimport usePageLimit from './usePageLimit';\nimport useCursorPagination from './useCursorPagination';\nimport useOffsetPagination from './useOffsetPagination';\nimport usePaginatedRecordsFilters from './usePaginatedRecordsFilters';\nimport useBooleanState from '../../../../hooks/useBooleanState';\nimport useMounted from '../../../../hooks/useMounted';\nimport {\n    PageNeighbour,\n    PaginatedResponseData,\n    PaginatedResponseDataField,\n    PaginatedResponseDataWithLinks,\n    PaginationType,\n    WithEitherPages,\n} from '../types';\nimport AdyenPlatformExperienceError from '../../../../core/Errors/AdyenPlatformExperienceError';\nimport { ReactiveStateRecord } from '../../../../hooks/useReactiveState/types';\n\nconst offsetPaginatedResponseFields = ['hasNext', 'hasPrevious'] as const;\n\nconst isCursorPaginatedResponseData = <T, DataField extends string>(\n    data: PaginatedResponseData<T, DataField>\n): data is PaginatedResponseDataWithLinks<T, DataField> => {\n    const dataProperties = Object.getOwnPropertyNames(data as PaginatedResponseDataWithLinks<T, DataField>);\n    return !offsetPaginatedResponseFields.some(prop => dataProperties.includes(prop));\n};\n\nconst parseCursorPaginatedResponseData = <T, DataField extends string>(\n    data: PaginatedResponseData<T, DataField>,\n    dataField: PaginatedResponseDataField<DataField> = 'data' as PaginatedResponseDataField<DataField>\n) => {\n    const records = data[dataField] as T[];\n\n    if (isCursorPaginatedResponseData<T, DataField>(data)) {\n        const paginationData = Object.fromEntries(\n            Object.entries(data._links).map(([key, value]) => [key, value.cursor])\n        ) as WithEitherPages<PaginationType.CURSOR>;\n\n        return { records, paginationData };\n    }\n\n    throw new TypeError('MALFORMED_PAGINATED_DATA');\n};\n\nconst parseOffsetPaginatedResponseData = <T, DataField extends string>(\n    data: PaginatedResponseData<T, DataField>,\n    dataField: PaginatedResponseDataField<DataField> = 'data' as PaginatedResponseDataField<DataField>\n) => {\n    const records = data[dataField] as T[];\n\n    if (!isCursorPaginatedResponseData<T, DataField>(data)) {\n        const { hasNext, hasPrevious } = data;\n\n        const paginationData = {\n            [PageNeighbour.NEXT]: boolOrFalse(hasNext),\n            [PageNeighbour.PREV]: boolOrFalse(hasPrevious),\n        } as WithEitherPages<PaginationType.OFFSET>;\n\n        return { records, paginationData };\n    }\n\n    throw new TypeError('MALFORMED_PAGINATED_DATA');\n};\n\nconst usePaginatedRecords = <T, DataField extends string, FilterValue extends string, FilterParam extends string>({\n    dataField = 'data' as PaginatedResponseDataField<DataField>,\n    fetchRecords,\n    filterParams = EMPTY_OBJECT as ReactiveStateRecord<FilterValue, FilterParam>,\n    initialFiltersSameAsDefault = true,\n    initialize,\n    onFiltersChanged,\n    pagination,\n    preferredLimit,\n    preferredLimitOptions,\n    enabled,\n}: BasePaginatedRecordsInitOptions<T, DataField, FilterValue, FilterParam>): UsePaginatedRecords<T, FilterValue, FilterParam> => {\n    const [records, setRecords] = useState<T[]>([]);\n    const [fetching, updateFetching] = useBooleanState(true);\n    const [error, setError] = useState<AdyenPlatformExperienceError>();\n    const [preferredPageLimit, setPreferredPageLimit] = useState(preferredLimit);\n\n    const $mounted = useMounted();\n    const $initialFetchInProgress = useRef(true);\n    const $lastRequestedPage = useRef(1);\n    const $recordsFilters = usePaginatedRecordsFilters<FilterValue, FilterParam>(filterParams, initialFiltersSameAsDefault);\n\n    const { limit, limitOptions } = usePageLimit({ preferredLimit: preferredPageLimit, preferredLimitOptions });\n    const { defaultFilters, filters, updateFilters, ...filtersProps } = $recordsFilters;\n\n    const [parsePaginatedResponseData, usePagination] = useMemo(\n        () =>\n            pagination === PaginationType.CURSOR\n                ? [parseCursorPaginatedResponseData, useCursorPagination]\n                : [parseOffsetPaginatedResponseData, useOffsetPagination],\n        []\n    );\n\n    const updateLimit = useCallback((limit: number) => setPreferredPageLimit(limit), []);\n\n    const { goto, page, pages, resetPagination, ...paginationProps } = usePagination(\n        useCallback(\n            async (\n                { page, ...pageRequestParams }: RequestPageCallbackParams<PaginationType>,\n                signal?: AbortSignal\n            ): Promise<RequestPageCallbackReturnValue<PaginationType>> => {\n                try {\n                    setError(undefined);\n                    $lastRequestedPage.current = page;\n\n                    if (!$mounted.current || <undefined>updateFetching(true)) return;\n\n                    const res = await fetchRecords({ ...pageRequestParams, ...filters }, signal);\n                    const { records, paginationData } = parsePaginatedResponseData<T, DataField>(res, dataField);\n\n                    if ($initialFetchInProgress.current) {\n                        initialize?.([records, paginationData] as PaginatedRecordsFetcherReturnValue<PaginationType, T>, $recordsFilters);\n                        $initialFetchInProgress.current = false;\n                    }\n\n                    if ($mounted.current) {\n                        setRecords(records);\n                        updateFetching(false);\n                    }\n\n                    return { ...paginationData, size: records?.length };\n                } catch (err) {\n                    // TODO - Handle signal abortion and updateFetching\n                    if (signal?.aborted) return;\n                    updateFetching(false);\n                    setError(err as AdyenPlatformExperienceError);\n\n                    console.error(err);\n                }\n            },\n            [fetchRecords, filters, limit]\n        ) as RequestPageCallback<PaginationType>,\n        limit\n    );\n\n    useMemo(() => {\n        $initialFetchInProgress.current = true;\n        /* eslint-disable-next-line */\n    }, [filterParams]);\n\n    useMemo(() => {\n        resetPagination();\n        $lastRequestedPage.current = 1;\n        /* eslint-disable-next-line */\n    }, [filters, limit, resetPagination]);\n\n    useEffect(() => {\n        if (enabled) goto($lastRequestedPage.current);\n    }, [goto, enabled]);\n\n    useEffect(() => {\n        onFiltersChanged?.(filters);\n    }, [filters]);\n\n    return { error, fetching, filters, goto, limitOptions, page, pages, records, updateFilters, updateLimit, ...filtersProps, ...paginationProps };\n};\n\nexport default usePaginatedRecords;\n","import { PaginatedRecordsInitOptions, UsePaginatedRecords } from './types';\nimport usePaginatedRecords from './usePaginatedRecords';\nimport { PaginationType } from '../types';\n\nconst useCursorPaginatedRecords = <T, DataField extends string, FilterValue extends string, FilterParam extends string>(\n    initOptions: PaginatedRecordsInitOptions<T, DataField, FilterValue, FilterParam>\n): UsePaginatedRecords<T, FilterValue, FilterParam> => {\n    return usePaginatedRecords<T, DataField, FilterValue, FilterParam>({\n        ...initOptions,\n        pagination: PaginationType.CURSOR,\n    });\n};\n\nexport default useCursorPaginatedRecords;\n","import { capitalize } from '../utils';\nimport { useCallback, useMemo, useState } from 'preact/hooks';\nimport type { SelectItem } from '../components/internal/FormFields/Select/types';\nimport type { IBalanceAccountBase } from '../types';\n\nconst useBalanceAccountSelection = (balanceAccounts?: IBalanceAccountBase[]) => {\n    const [selectedBalanceAccountIndex, setSelectedBalanceAccountIndex] = useState(0);\n    const resetBalanceAccountSelection = useCallback(() => setSelectedBalanceAccountIndex(0), [setSelectedBalanceAccountIndex]);\n\n    const activeBalanceAccount = useMemo(() => {\n        return balanceAccounts?.[selectedBalanceAccountIndex];\n    }, [balanceAccounts, selectedBalanceAccountIndex]);\n\n    const balanceAccountSelectionOptions = useMemo(\n        () =>\n            balanceAccounts && balanceAccounts.length > 1\n                ? Object.freeze(balanceAccounts.map(({ description, id }) => ({ id, name: capitalize(description) } as SelectItem)))\n                : undefined,\n        [balanceAccounts]\n    );\n\n    const onBalanceAccountSelection = useCallback(\n        ({ target }: any) => {\n            const balanceAccountId = target?.value;\n            const index = balanceAccounts?.findIndex(({ id }) => id === balanceAccountId);\n            if (index! >= 0) setSelectedBalanceAccountIndex(index!);\n        },\n        [balanceAccounts, setSelectedBalanceAccountIndex]\n    );\n\n    return { activeBalanceAccount, balanceAccountSelectionOptions, onBalanceAccountSelection, resetBalanceAccountSelection } as const;\n};\n\nexport default useBalanceAccountSelection;\n","import { useMemo, useRef, useState } from 'preact/hooks';\nimport restamper, { RestampContext } from '../../../../core/Localization/datetime/restamper';\nimport { getGMTSuffixForTimezoneOffset, getTimezoneOffsetFromFormattedDateString } from '../../../../core/Localization/datetime/restamper/utils';\nimport { isWatchlistUnsubscribeToken } from '../../../../primitives/reactive/watchlist';\nimport { boolOrFalse, EMPTY_ARRAY, EMPTY_OBJECT, noop } from '../../../../utils';\nimport clock from '../../../../primitives/time/clock';\n\nexport type UseTimezoneConfig = {\n    timezone?: RestampContext['TIMEZONE'];\n    withClock?: boolean;\n};\n\nexport const { getTimezoneTime, getUsedTimezone } = (() => {\n    const REGEX_CLOCK_TIME_MATCHER = /\\d{2}:\\d{2}(?=:\\d{2}(?:\\.\\d+)?\\s+([AP]M))/i;\n    const REGEX_GMT_OFFSET_UNWANTED_SUBSTRINGS = /^GMT|0(?=\\d:00)|:00/g;\n    const $restamper = restamper();\n\n    const getTimezoneTime = (timezone: RestampContext['TIMEZONE'], timestamp = Date.now()) => {\n        $restamper.tz = timezone!; // switch restamper to this timezone\n\n        const { formatted } = $restamper(timestamp);\n        const [time = '', meridian = ''] = formatted?.match(REGEX_CLOCK_TIME_MATCHER) ?? EMPTY_ARRAY;\n        const offset = getTimezoneOffsetFromFormattedDateString(formatted);\n        const clockTime = `${time}${meridian && ` ${meridian}`}`;\n        const GMTOffsetString = getGMTSuffixForTimezoneOffset(offset).replace(REGEX_GMT_OFFSET_UNWANTED_SUBSTRINGS, '');\n\n        return [clockTime, GMTOffsetString] as const;\n    };\n\n    const getUsedTimezone = (timezone?: RestampContext['TIMEZONE']) => {\n        $restamper.tz = timezone;\n        return $restamper.tz.current!;\n    };\n\n    return { getTimezoneTime, getUsedTimezone } as const;\n})();\n\nconst useTimezone = ({ timezone: tz, withClock = false }: UseTimezoneConfig = EMPTY_OBJECT) => {\n    const shouldWatchClock = useMemo(() => boolOrFalse(withClock), [withClock]);\n    const timezone = useMemo(() => getUsedTimezone(tz), [tz]);\n    const unwatchClock = useRef(noop);\n\n    const [timestamp, setTimestamp] = useState(Date.now());\n    const [clockTime, GMTOffset] = useMemo(() => getTimezoneTime(timezone, timestamp), [timestamp, timezone]);\n\n    useMemo(() => {\n        unwatchClock.current();\n\n        unwatchClock.current = shouldWatchClock\n            ? clock.subscribe(snapshot => {\n                  if (!isWatchlistUnsubscribeToken(snapshot)) setTimestamp(snapshot.now);\n              })\n            : noop;\n    }, [setTimestamp, shouldWatchClock]);\n\n    return { clockTime, GMTOffset, timestamp, timezone } as const;\n};\n\nexport default useTimezone;\n","import { clamp, enumerable, getter, hasOwnProperty, isBitSafeInteger, isFunction, isNullish, isUndefined, struct } from '../../../../../utils';\nimport type {\n    RangeTimestamp,\n    RangeTimestampOffsets,\n    RangeTimestamps,\n    RangeTimestampsConfig,\n    RangeTimestampsConfigContext,\n    RangeTimestampsConfigParameter,\n    RangeTimestampsConfigParameterValue,\n    RangeTimestampsConfigRestampingContext,\n    RangeTimestampsConfigWithFromOffsets,\n    RangeTimestampsConfigWithoutOffsets,\n} from './types';\nimport { Restamper, RestamperWithTimezone, systemToTimezone, timezoneToSystem } from '../../../../../core/Localization/datetime/restamper';\n\nexport const createRangeTimestampsConfigRestampingContext = (restamper: RestamperWithTimezone) =>\n    Object.freeze({\n        systemToTimezone: enumerable((time?: Parameters<Restamper>[0]) => systemToTimezone(restamper, time)),\n        timezoneToSystem: enumerable((time?: Parameters<Restamper>[0]) => timezoneToSystem(restamper, time)),\n        timezoneOffset: enumerable((time?: Parameters<Restamper>[0]) => restamper(time).offset),\n    }) as { [P in keyof RangeTimestampsConfigRestampingContext]: TypedPropertyDescriptor<RangeTimestampsConfigRestampingContext[P]> };\n\nexport const getRangeTimestampsContextIntegerPropertyFactory = <T extends number = number>(\n    minInteger: T,\n    maxInteger: T,\n    defaultInteger: T = minInteger\n) => {\n    const _getNormalizedValue = (value?: T | null, fallbackValue?: T) => {\n        let normalizedValue = value as T;\n\n        if (isNullish(value)) normalizedValue = defaultInteger;\n        else if (!isBitSafeInteger(value)) normalizedValue = fallbackValue ?? defaultInteger;\n\n        const clampedValue = clamp(minInteger, normalizedValue, maxInteger) as T;\n        return clampedValue === normalizedValue ? clampedValue : fallbackValue ?? defaultInteger;\n    };\n\n    return (initialValue?: T) => {\n        const valueGetter = getter(() => normalizedValue);\n        let normalizedValue = _getNormalizedValue(initialValue);\n\n        return struct({\n            value: valueGetter,\n            descriptor: enumerable({\n                ...valueGetter,\n                set(this: RangeTimestamps, value?: T | null) {\n                    const currentValue = normalizedValue;\n                    normalizedValue = _getNormalizedValue(value, normalizedValue);\n                    if (currentValue !== normalizedValue) this.now = this.now;\n                },\n            }),\n        }) as Readonly<{\n            value: T;\n            descriptor: TypedPropertyDescriptor<T>;\n        }>;\n    };\n};\n\nexport const getRangeTimestampsConfigParameterUnwrapper =\n    (config: RangeTimestampsConfig, context: RangeTimestampsConfigContext) =>\n    <T = {}>(value: T): RangeTimestampsConfigParameterValue<T> =>\n        isFunction(value) ? value.call(config, context) : value;\n\nexport const isRangeTimestampsConfigWithoutOffsets = (config: RangeTimestampsConfig): config is RangeTimestampsConfigWithoutOffsets =>\n    !hasOwnProperty(config, 'offsets');\n\nexport const isRangeTimestampsConfigWithFromOffsets = (\n    config: Exclude<RangeTimestampsConfig, RangeTimestampsConfigWithoutOffsets>\n): config is RangeTimestampsConfigWithFromOffsets => hasOwnProperty(config, 'from');\n\nexport const nowTimestamp = (({ now }) => now) satisfies RangeTimestampsConfigParameter<RangeTimestamp>;\n\nexport const offsetsForNDays = (() => {\n    const _cache = new Map<number, RangeTimestampOffsets>();\n\n    return (numberOfDays: number) => {\n        let offsets = _cache.get(numberOfDays);\n\n        if (isUndefined(offsets)) {\n            offsets = Object.freeze([0, 0, numberOfDays, 0, 0, 0, -1] as const);\n            _cache.set(numberOfDays, offsets);\n        }\n\n        return offsets;\n    };\n})();\n\nexport const parseRangeTimestamp = (timestamp: Date | RangeTimestamp): RangeTimestamp | undefined => {\n    try {\n        const normalizedTimestamp = timestamp instanceof Date || +timestamp === timestamp ? timestamp : undefined;\n        const parsedTimestamp = new Date(normalizedTimestamp as RangeTimestamp).getTime();\n        return isNaN(parsedTimestamp) ? undefined : parsedTimestamp;\n    } catch {\n        /* ignore any parsing exception and implicitly return `undefined` */\n    }\n};\n","import { asPlainObject, EMPTY_OBJECT, getter, struct } from '../../../../../utils';\nimport restamper, { RestamperWithTimezone } from '../../../../../core/Localization/datetime/restamper';\nimport type { RangeTimestamp, RangeTimestamps, RangeTimestampsConfig, RangeTimestampsConfigContext } from './types';\nimport {\n    createRangeTimestampsConfigRestampingContext,\n    getRangeTimestampsConfigParameterUnwrapper,\n    isRangeTimestampsConfigWithFromOffsets,\n    isRangeTimestampsConfigWithoutOffsets,\n    parseRangeTimestamp,\n} from './utils';\n\nconst createRangeTimestampsFactory = <T extends Record<any, any> = {}>(\n    config = EMPTY_OBJECT as RangeTimestampsConfig,\n    additionalContext = EMPTY_OBJECT as { [P in keyof T]: TypedPropertyDescriptor<T[P]> }\n) => {\n    const _config = asPlainObject(config);\n    const _additionalContext = asPlainObject(additionalContext);\n\n    return () => {\n        const _restamper = restamper();\n        const nowDescriptor = getter(() => NOW);\n        const tzDescriptor = getter(() => _restamper.tz.current);\n        const configContext = struct({\n            now: nowDescriptor,\n            timezone: tzDescriptor,\n            ...createRangeTimestampsConfigRestampingContext(_restamper),\n        }) as RangeTimestampsConfigContext;\n        const unwrap = getRangeTimestampsConfigParameterUnwrapper(_config, configContext);\n\n        let { from, to, now: NOW } = EMPTY_OBJECT as RangeTimestamps;\n\n        const nowSetter = (timestamp?: Date | RangeTimestamp | null) => {\n            NOW = parseRangeTimestamp((timestamp ?? Date.now()) as RangeTimestamp) ?? NOW;\n\n            parsing: {\n                if (isRangeTimestampsConfigWithoutOffsets(_config)) {\n                    from = parseRangeTimestamp(unwrap(_config.from)) ?? NOW;\n                    to = parseRangeTimestamp(unwrap(_config.to)) ?? NOW;\n                    break parsing;\n                }\n\n                let date: Date;\n                let direction: 1 | -1;\n                let withRangeFrom: boolean;\n\n                if ((withRangeFrom = isRangeTimestampsConfigWithFromOffsets(_config))) {\n                    date = new Date((from = parseRangeTimestamp(unwrap(_config.from)) ?? NOW));\n                    direction = 1;\n                } else {\n                    date = new Date((to = parseRangeTimestamp(unwrap(_config.to)) ?? NOW));\n                    direction = -1;\n                }\n\n                // revert timestamp to system timezone ahead of offset operations\n                date = new Date(configContext.timezoneToSystem(date));\n\n                const [years = 0, months = 0, days = 0, hours = 0, minutes = 0, seconds = 0, ms = 0] = unwrap(_config.offsets);\n\n                date.setFullYear(date.getFullYear() + years * direction, date.getMonth() + months * direction, date.getDate() + days * direction);\n\n                date.setHours(\n                    date.getHours() + hours * direction,\n                    date.getMinutes() + minutes * direction,\n                    date.getSeconds() + seconds * direction,\n                    date.getMilliseconds() + ms * direction\n                );\n\n                // restamp timestamp to current target timezone before update range\n                const timestamp = parseRangeTimestamp(configContext.systemToTimezone(date)) ?? NOW;\n\n                withRangeFrom ? (to = timestamp) : (from = timestamp);\n            }\n\n            if (from > to) [from, to] = [to, from];\n        };\n\n        const tzSetter = (timezone?: RestamperWithTimezone['tz']['current'] | null) => {\n            const tz = _restamper.tz;\n            const currentTimezone = tz.current;\n            _restamper.tz = timezone;\n            if (tz.current !== currentTimezone) nowSetter(NOW);\n        };\n\n        nowSetter();\n\n        return struct<RangeTimestamps<T>>({\n            ..._additionalContext,\n            from: getter(() => from),\n            now: { ...nowDescriptor, set: nowSetter },\n            timezone: { ...tzDescriptor, set: tzSetter },\n            to: getter(() => to),\n        });\n    };\n};\n\nexport default createRangeTimestampsFactory;\n","import restamper, { systemToTimezone, timezoneToSystem } from '../../../../core/Localization/datetime/restamper';\nimport { BASE_LOCALE, BASE_FORMAT_OPTIONS } from '../../../../core/Localization/datetime/restamper/constants';\nimport { DEFAULT_DATETIME_FORMAT } from '../../../../core/Localization/constants/localization';\nimport { EMPTY_ARRAY, EMPTY_OBJECT, identity, isInfinity, isUndefined, mod } from '../../../../utils';\nimport type { Month, MonthDays, Time, WeekDay } from './types';\n\nconst DATE_PARTS_REGEX = /^(\\d{2})\\/(\\d{2})\\/(-?\\d+),\\s+(\\d{2}):(\\d{2}):(\\d{2}).(\\d{3})/;\n\nconst _startTimestamp =\n    <RestArgs extends any[], DateAdjustmentFn extends (date: Date, ...args: RestArgs) => Date | number>(\n        adjustDate = identity as unknown as DateAdjustmentFn\n    ) =>\n    (timestamp: Date | number, timezone?: string, ...args: RestArgs) => {\n        const restamper = withTimezone(timezone);\n        const restampedDate = new Date(timezoneToSystem(restamper, timestamp));\n        restampedDate.setHours(0, 0, 0, 0);\n        return systemToTimezone(restamper, adjustDate(restampedDate, ...args));\n    };\n\nexport const startOfDay = _startTimestamp();\nexport const startOfMonth = _startTimestamp(date => date.setDate(1));\nexport const startOfYear = _startTimestamp(date => date.setMonth(0, 1));\n\nexport const startOfWeek = _startTimestamp((date, firstWeekDay?: WeekDay) => {\n    const dateOffset = getWeekDayIndex(date.getDay() as WeekDay, firstWeekDay ?? 0);\n    return date.setDate(date.getDate() - dateOffset);\n});\n\nexport const isLeapYear = (year: number) => (year % 100 ? year % 4 : year % 400) === 0;\n\nexport const getMonthDays = (month: Month, year: number, offset = 0) => {\n    const nextMonth = month + offset;\n    const monthIndex = mod(nextMonth, 12) as Month;\n    const nextYear = year + Math.floor(nextMonth / 12);\n\n    let days: MonthDays = 31;\n\n    switch (monthIndex) {\n        case 1:\n            days = isLeapYear(nextYear) ? 29 : 28;\n            break;\n        case 3:\n        case 5:\n        case 8:\n        case 10:\n            days = 30;\n            break;\n    }\n\n    return [days, monthIndex, nextYear] as const;\n};\n\nexport const getWeekDayIndex = (weekDay: WeekDay, firstWeekDay: WeekDay = 0) => ((7 - firstWeekDay + weekDay) % 7) as WeekDay;\n\nexport const computeTimestampOffset = (timestamp: number, timezone?: string) =>\n    isInfinity(timestamp) ? 0 : timestamp - startOfDay(timestamp, timezone);\n\nexport const getDateObjectFromTimestamp = (timestamp?: number) => (isUndefined(timestamp) ? timestamp : new Date(timestamp));\n\nexport const getTimezoneDateString = (date: number | string | Date, options: Intl.DateTimeFormatOptions = EMPTY_OBJECT) => {\n    const restamper = withTimezone(options.timeZone);\n    const dateOptions = { ...DEFAULT_DATETIME_FORMAT, ...options, timeZone: restamper.tz.current };\n    return new Date(date).toLocaleDateString(BASE_LOCALE, dateOptions);\n};\n\nexport const getTimezoneDateParts = (date: number | string | Date, timeZone?: string) => {\n    const dateString = getTimezoneDateString(date, { ...BASE_FORMAT_OPTIONS, ...DEFAULT_DATETIME_FORMAT, timeZone, hour12: false });\n    const [, month = '', day = '', year = '', hours = '', minutes = '', seconds = '', ms = ''] = dateString.match(DATE_PARTS_REGEX) ?? EMPTY_ARRAY;\n    return [+year, +month - 1, +day, +hours % 24, +minutes, +seconds, +ms] as const;\n};\n\nexport const getEdgesDistance = (fromTime: Time, toTime: Time, timezone?: string) => {\n    if (isInfinity(fromTime) || isInfinity(toTime)) return Infinity;\n    const [fromYear, fromMonth] = getTimezoneDateParts(fromTime, timezone);\n    const [toYear, toMonth] = getTimezoneDateParts(toTime, timezone);\n    return Math.abs(toMonth - fromMonth + (toYear - fromYear) * 12);\n};\n\nexport const withTimezone = (() => {\n    const _restamper = restamper();\n    return (timezone?: string) => {\n        _restamper.tz = undefined; // first reset to system timezone\n        _restamper.tz = timezone;\n        return _restamper;\n    };\n})();\n","import { clamp } from '../../../../../../../utils';\nimport createRangeTimestampsFactory from '../../factory';\nimport { getRangeTimestampsContextIntegerPropertyFactory, nowTimestamp, offsetsForNDays } from '../../utils';\nimport { startOfWeek } from '../../../utils';\nimport type { WeekDay } from '../../../types';\n\nexport const DEFAULT_FIRST_WEEK_DAY = 1;\nexport const ONE_WEEK_OFFSETS = offsetsForNDays(7);\n\nconst _getFirstWeekDayContext = getRangeTimestampsContextIntegerPropertyFactory<WeekDay>(0, 6, DEFAULT_FIRST_WEEK_DAY);\n\nconst offsetWeek = (weekCount: number = 0) => {\n    const weeks = ~~clamp(0, weekCount as number, Infinity) || 0;\n\n    return (firstWeekDay: WeekDay = DEFAULT_FIRST_WEEK_DAY) => {\n        const restConfig = weeks ? { offsets: ONE_WEEK_OFFSETS } : { to: nowTimestamp };\n        const firstWeekDayContext = _getFirstWeekDayContext(firstWeekDay);\n\n        return createRangeTimestampsFactory(\n            {\n                from: ({ now, timezone, systemToTimezone, timezoneToSystem }) => {\n                    const date = new Date(timezoneToSystem(startOfWeek(now, timezone, firstWeekDayContext.value)));\n                    date.setDate(date.getDate() - weeks * 7);\n                    return systemToTimezone(date);\n                },\n                ...restConfig,\n            },\n            { firstWeekDay: firstWeekDayContext.descriptor }\n        )();\n    };\n};\n\nexport default offsetWeek;\n","import { clamp } from '../../../../../../../utils';\nimport createRangeTimestampsFactory from '../../factory';\nimport type { RangeTimestampOffsets } from '../../types';\nimport { nowTimestamp } from '../../utils';\nimport { startOfMonth } from '../../../utils';\n\nexport const ONE_MONTH_OFFSETS = Object.freeze([0, 1, 0, 0, 0, 0, -1] as const) as RangeTimestampOffsets;\n\nconst offsetMonth = (monthCount: number = 0) => {\n    const months = ~~clamp(0, monthCount as number, Infinity) || 0;\n    const restConfig = months ? { offsets: ONE_MONTH_OFFSETS } : { to: nowTimestamp };\n\n    return createRangeTimestampsFactory({\n        from: ({ now, timezone, systemToTimezone, timezoneToSystem }) => {\n            const date = new Date(timezoneToSystem(startOfMonth(now, timezone)));\n            date.setMonth(date.getMonth() - months);\n            return systemToTimezone(date);\n        },\n        ...restConfig,\n    });\n};\n\nexport default offsetMonth;\n","import offsetMonth from './shared/offsetMonth';\nconst lastMonth = offsetMonth(1);\nexport default lastMonth;\n","import createRangeTimestampsFactory from '../factory';\nimport { getRangeTimestampsContextIntegerPropertyFactory, nowTimestamp } from '../utils';\nimport { startOfDay } from '../../utils';\n\nexport const MAX_NUM_DAYS = 365;\nexport const MIN_NUM_DAYS = 1;\nexport const DEFAULT_NUM_DAYS = 1;\n\nconst _getNumberOfDaysContext = getRangeTimestampsContextIntegerPropertyFactory<number>(MIN_NUM_DAYS, MAX_NUM_DAYS, DEFAULT_NUM_DAYS);\n\nconst lastNDays = (numberOfDays?: number) => {\n    const numberOfDaysContext = _getNumberOfDaysContext(numberOfDays);\n\n    return createRangeTimestampsFactory(\n        {\n            from: ({ now, timezone, systemToTimezone, timezoneToSystem }) => {\n                const date = new Date(timezoneToSystem(startOfDay(now, timezone)));\n                date.setDate(date.getDate() - numberOfDaysContext.value + 1);\n                return systemToTimezone(date);\n            },\n            to: nowTimestamp,\n        },\n        { numberOfDays: numberOfDaysContext.descriptor }\n    )();\n};\n\nexport default lastNDays;\n","import offsetWeek from './shared/offsetWeek';\nconst lastWeek = offsetWeek(1);\nexport default lastWeek;\n","import offsetMonth from './shared/offsetMonth';\nconst thisMonth = offsetMonth(0);\nexport default thisMonth;\n","import offsetWeek from './shared/offsetWeek';\nconst thisWeek = offsetWeek(0);\nexport default thisWeek;\n","import createRangeTimestampsFactory from '../factory';\nimport { nowTimestamp } from '../utils';\nimport { startOfYear } from '../../utils';\n\nconst yearToDate = createRangeTimestampsFactory({\n    from: ({ now, timezone }) => startOfYear(now, timezone),\n    to: nowTimestamp,\n});\n\nexport default yearToDate;\n","import { useCallback, useMemo, useRef, useState } from 'preact/hooks';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport type { RestampContext } from '../../../../../core/Localization/datetime/restamper';\nimport type { TranslationKey } from '../../../../../translations';\nimport { RangeTimestamp, RangeTimestamps } from '../../../Calendar/calendar/timerange';\nimport * as RangePreset from '../../../Calendar/calendar/timerange/presets';\n\nexport type UseTimeRangeSelectionConfig = {\n    now?: RangeTimestamp;\n    options: Readonly<Partial<{ [P in TranslationKey]: RangeTimestamps }>>;\n    selectedOption?: string;\n    timezone?: RestampContext['TIMEZONE'];\n};\n\nexport type UseTimeRangeSelectionData = ReturnType<typeof useTimeRangeSelection>;\n\nexport const getTimeRangeSelectionDefaultPresetOptions = () =>\n    Object.freeze({\n        'rangePreset.last7Days': RangePreset.lastNDays(7),\n        'rangePreset.last30Days': RangePreset.lastNDays(30),\n        'rangePreset.thisWeek': RangePreset.thisWeek(),\n        'rangePreset.lastWeek': RangePreset.lastWeek(),\n        'rangePreset.thisMonth': RangePreset.thisMonth(),\n        'rangePreset.lastMonth': RangePreset.lastMonth(),\n        'rangePreset.yearToDate': RangePreset.yearToDate(),\n    } as const);\n\nexport const useTimeRangeSelection = ({\n    now = Date.now(),\n    options: presetOptions,\n    selectedOption: selectedPresetOption,\n    timezone,\n}: UseTimeRangeSelectionConfig) => {\n    const { i18n } = useCoreContext();\n    const [from, setFrom] = useState<number>();\n    const [to, setTo] = useState<number>();\n    const [selectedOption, setSelectedOption] = useState<string>();\n    const NOW = useRef<typeof now>();\n    const TZ = useRef<typeof timezone>();\n\n    const [customOption, getRangesForOption, selectionOptions] = useMemo(() => {\n        const customOption = i18n.get('rangePreset.custom');\n        const optionKeys = Object.keys(presetOptions);\n        const selectionOptions = Object.freeze(optionKeys.map(key => i18n.get(key as TranslationKey)));\n\n        const getRangesForOption = (option: string, options: readonly string[] = selectionOptions) => {\n            const optionIndex = options.findIndex(currentOption => currentOption === option);\n            return presetOptions[optionKeys[optionIndex] as keyof typeof presetOptions];\n        };\n\n        return [customOption, getRangesForOption, selectionOptions] as const;\n    }, [i18n, presetOptions]);\n\n    const [isCustomSelection, setIsCustomSelection] = useState(selectedPresetOption === customOption);\n    const selectionOptionsWithCustomOption = useMemo(() => Object.freeze([...selectionOptions, customOption]), [customOption, selectionOptions]);\n\n    const options = useMemo(\n        () => (isCustomSelection ? selectionOptionsWithCustomOption : selectionOptions),\n        [isCustomSelection, selectionOptions, selectionOptionsWithCustomOption]\n    );\n\n    const onSelection = useCallback(\n        (option: string) => {\n            const ranges = getRangesForOption(option, selectionOptions);\n            if (!ranges) return;\n\n            setFrom(ranges.from);\n            setTo(ranges.to);\n            setIsCustomSelection(false);\n            setSelectedOption(option);\n        },\n        [customOption, getRangesForOption, selectedOption, selectionOptions]\n    );\n\n    const customSelection = useCallback(() => {\n        setFrom(undefined);\n        setTo(undefined);\n        setIsCustomSelection(true);\n        setSelectedOption(customOption);\n    }, [customOption]);\n\n    useMemo(() => {\n        selectedPresetOption === customOption ? setSelectedOption(customOption) : onSelection(selectedPresetOption!);\n    }, []);\n\n    useMemo(() => {\n        if (NOW.current !== now || TZ.current !== timezone) {\n            const options = Object.values(presetOptions);\n\n            options.forEach(ranges => {\n                ranges.now = now;\n                ranges.timezone = timezone;\n            });\n\n            NOW.current = now;\n            TZ.current = options[0]?.timezone;\n\n            onSelection(selectedOption!);\n        }\n    }, [now, timezone, presetOptions]);\n\n    return {\n        customSelection,\n        from,\n        onSelection,\n        options,\n        selectedOption,\n        to,\n    } as const;\n};\n\nexport default useTimeRangeSelection;\n","import { useCallback, useEffect, useMemo, useRef } from 'preact/hooks';\nimport Select from '../../../FormFields/Select';\nimport { SelectItem } from '../../../FormFields/Select/types';\nimport { useTimeRangeSelection, UseTimeRangeSelectionConfig } from './useTimeRangeSelection';\n\nconst TimeRangeSelector = ({\n    calendarRef,\n    onTimeRangeSelected,\n    timestamp,\n    ...useTimeRangeSelectionConfig\n}: UseTimeRangeSelectionConfig & {\n    calendarRef?: any;\n    onTimeRangeSelected?: (option: string) => any;\n    timestamp: DOMHighResTimeStamp;\n}) => {\n    const { customSelection, from, onSelection, options, selectedOption, to } = useTimeRangeSelection(useTimeRangeSelectionConfig);\n    const selectOptions = useMemo(() => Object.freeze(options.map(id => ({ id, name: id } as SelectItem))), [options]);\n    const onSelectedOptionChanged = useCallback(({ target }: any) => onSelection(target?.value), [onSelection]);\n    const rangeSelectionInProgress = useRef(true);\n    const cachedTimestamp = useRef(timestamp);\n\n    useEffect(() => {\n        if (calendarRef?.current && from && to) {\n            rangeSelectionInProgress.current = true;\n            calendarRef.current.from = new Date(from);\n            calendarRef.current.to = new Date(to);\n        }\n    }, [calendarRef, from, to]);\n\n    useEffect(() => {\n        if (cachedTimestamp.current !== timestamp) {\n            cachedTimestamp.current = timestamp;\n\n            if (rangeSelectionInProgress.current) {\n                rangeSelectionInProgress.current = false;\n            } else customSelection();\n        }\n    }, [customSelection, timestamp]);\n\n    useEffect(() => {\n        selectedOption && onTimeRangeSelected?.(selectedOption);\n    }, [selectedOption, onTimeRangeSelected]);\n\n    return (\n        <Select\n            setToTargetWidth={true}\n            items={selectOptions}\n            filterable={false}\n            multiSelect={false}\n            onChange={onSelectedOptionChanged}\n            selected={selectedOption}\n        />\n    );\n};\n\nexport default TimeRangeSelector;\n","import { boolOrTrue, EMPTY_OBJECT, enumerable, isPlainObject, struct, structFrom } from '../../../../../utils';\n\ntype PropertyDescriptor<T = any> = {\n    configurable?: boolean;\n    enumerable?: boolean;\n    value?: T;\n    writable?: boolean;\n    get?(): T | undefined;\n    set?(v?: T): void;\n};\n\ntype PropertyFactory = {\n    <T = any>(setter?: false | ((value?: T) => T | undefined), value?: T): PropertyDescriptor<T>;\n    is: (value: any) => value is PropertyDescriptor;\n    isObject: (value: any) => value is Record<any, any>;\n    immutable: <T = any>(value?: T) => PropertyDescriptor<T>;\n    mutable: <T = any>(value?: T) => PropertyDescriptor<T>;\n    restricted: () => PropertyDescriptor<undefined>;\n};\n\nexport const property = (() => {\n    const descriptor = <T>(descriptor: PropertyDescriptor<T>) =>\n        Object.freeze(\n            structFrom(EMPTY_OBJECT, Object.fromEntries(Object.entries(descriptor).map(([field, value]) => [field, { value }])))\n        ) as PropertyDescriptor<T>;\n\n    const isPropDescriptor = (value: any): value is PropertyDescriptor => {\n        try {\n            return Object.getPrototypeOf(value) === EMPTY_OBJECT;\n        } catch {\n            return false;\n        }\n    };\n\n    const prop = <T = any>(setter?: false | ((value?: T) => T | undefined), value?: T) => {\n        if (!setter) return descriptor(enumerable(value, boolOrTrue(setter)));\n\n        let currentValue = value;\n\n        return descriptor({\n            enumerable: true,\n            get: () => currentValue,\n            set: (value?: T) => {\n                currentValue = setter(value);\n            },\n        });\n    };\n\n    return Object.defineProperties(prop, {\n        is: { value: isPropDescriptor },\n        isObject: { value: isPlainObject },\n        immutable: { value: <T = any>(value?: T) => prop(false, value) },\n        mutable: { value: <T = any>(value?: T) => prop(undefined, value) },\n        restricted: { value: () => prop<undefined>(false) },\n    }) as PropertyFactory;\n})();\n\nexport const propsProperty = (() => {\n    type UnwrappedProps<T extends Record<string, any>> = {\n        [K in keyof T]:\n            | (T[K] extends PropertyDescriptor<infer U> ? (U extends Record<string, any> ? UnwrappedProps<U> : U) : T[K])\n            | PropertyDescriptor<T[K]>;\n    } & Record<string, any>;\n\n    const propsProperty = <T extends Record<string, any> = {}>(props = {} as UnwrappedProps<T>, deepImmutable = false) => {\n        const $props = struct() as UnwrappedProps<T>;\n\n        for (const [prop, maybeDescriptor] of Object.entries<UnwrappedProps<T>[keyof T]>(props)) {\n            try {\n                const isDescriptor = property.is(maybeDescriptor);\n                const isPlainObject = property.isObject(maybeDescriptor);\n\n                if (isDescriptor || isPlainObject) {\n                    Object.defineProperty($props, prop, isDescriptor ? maybeDescriptor : propsProperty(maybeDescriptor, deepImmutable));\n                    continue;\n                } else if (deepImmutable) {\n                    Object.defineProperty($props, prop, property.immutable(maybeDescriptor));\n                    continue;\n                }\n            } catch {\n                /* no empty catch block */\n            }\n\n            $props[prop as keyof T] = maybeDescriptor;\n        }\n\n        return property((props = {} as UnwrappedProps<T>) => Object.assign($props, props), $props);\n    };\n\n    const unwrapped = <T extends Record<string, any> = {}>(props = {} as UnwrappedProps<T>, deepImmutable = false) => {\n        const P = propsProperty(props, deepImmutable);\n        return struct({ P }).P as T;\n    };\n\n    return Object.defineProperties(propsProperty, {\n        unwrapped: { value: unwrapped },\n    }) as {\n        <T extends Record<string, any> = {}>(props?: UnwrappedProps<T>, deepImmutable?: boolean): PropertyDescriptor<UnwrappedProps<T>>;\n        unwrapped: <T extends Record<string, any> = {}>(props?: UnwrappedProps<T>, deepImmutable?: boolean) => T;\n    };\n})();\n","import { VNode } from 'preact';\nimport {\n    CalendarConfig,\n    CalendarGridControlRecord,\n    CalendarSelection,\n    CalendarShiftControls,\n    FirstWeekDay,\n    Time,\n    TimeFrameSize,\n} from './calendar/types';\n\nexport const enum CalendarGridRenderToken {\n    DATE,\n    DAY_OF_WEEK,\n    MONTH_HEADER,\n}\n\nexport interface CalendarGridCursorRootProps {\n    onClickCapture: (evt: Event) => void;\n    onMouseOverCapture: (evt: Event) => void;\n    onPointerOverCapture: (evt: Event) => void;\n    onKeyDownCapture: (evt: KeyboardEvent) => void;\n}\n\nexport interface CalendarHandle {\n    clear: () => void;\n    config: CalendarConfig;\n    from?: Date;\n    to?: Date;\n}\n\nexport interface CalendarProps {\n    blocks?: TimeFrameSize;\n    controls?: CalendarShiftControls;\n    dynamicBlockRows?: boolean;\n    firstWeekDay?: FirstWeekDay;\n    highlight?: CalendarSelection | string;\n    locale?: string;\n    onHighlight?: (from?: number, to?: number) => any;\n    onlyCellsWithin?: boolean;\n    originDate?: Time | Time[];\n    prepare?: (renderToken: CalendarGridRenderToken, renderContext: any) => any;\n    renderControl?: (...args: CalendarGridControlRecord) => VNode | null;\n    sinceDate?: Time;\n    timezone?: string;\n    trackCurrentDay?: boolean;\n    untilDate?: Time;\n    useYearView?: boolean;\n}\n\nexport type CalendarRenderControl = Exclude<CalendarProps['renderControl'], undefined>;\nexport type CalendarControlRenderer = (targetElement: Element, ...args: CalendarGridControlRecord) => ReturnType<CalendarRenderControl>;\n","import { memo } from 'preact/compat';\nimport { property, propsProperty } from './utils';\nimport { CalendarGridDateProps, CalendarGridDateRenderProps } from './types';\nimport { fixedForwardRef, getClassName, memoComparator } from '../../../../../utils/preact';\nimport { EMPTY_OBJECT } from '../../../../../utils';\nimport { CalendarGridRenderToken } from '../../types';\n\nconst DEFAULT_DATE_CELL_CLASSNAME = 'adyen-pe-calendar__cell adyen-pe-calendar__cell--date';\nconst DEFAULT_DATE_TIME_CLASSNAME = 'adyen-pe-calendar__date';\n\nconst getGridDateRenderProps = (computedProps = EMPTY_OBJECT as any, prepare?: CalendarGridDateProps['prepare']) => {\n    const renderProps = propsProperty.unwrapped<CalendarGridDateRenderProps>(\n        {\n            childClassName: property.mutable(DEFAULT_DATE_TIME_CLASSNAME),\n            childProps: {\n                children: property.restricted(),\n                className: '',\n            },\n            className: property.mutable(DEFAULT_DATE_CELL_CLASSNAME),\n            props: {\n                ...computedProps,\n                children: property.restricted(),\n                className: '',\n            },\n        },\n        true\n    );\n\n    prepare?.(CalendarGridRenderToken.DATE, renderProps);\n    return renderProps;\n};\n\nconst CalendarGridDate = fixedForwardRef(\n    ({ grid, prepare, datetime, flags, index, label, onlyCellsWithin }: CalendarGridDateProps, cursorElementRef) => {\n        const withinMonth = flags.WITHIN_BLOCK;\n\n        const props = {\n            'data-cursor-position': index,\n            'data-within-month': withinMonth,\n            tabIndex: -1,\n        } as any;\n\n        if (withinMonth) {\n            const withinRange = flags.WITHIN_RANGE;\n\n            props['data-today'] = flags.CURRENT;\n            props['data-first-week-day'] = flags.LINE_START;\n            props['data-last-week-day'] = flags.LINE_END;\n            props['data-weekend'] = flags.WEEKEND;\n            props['data-first-month-day'] = flags.BLOCK_START;\n            props['data-last-month-day'] = flags.BLOCK_END;\n\n            props['data-within-range'] = withinRange;\n\n            if (withinRange) {\n                props['data-range-end'] = flags.RANGE_END;\n                props['data-range-start'] = flags.RANGE_START;\n                props['data-selection-end'] = flags.SELECTION_END;\n                props['data-selection-start'] = flags.SELECTION_START;\n                props['data-within-selection'] = flags.WITHIN_SELECTION;\n                props['aria-selected'] = `${!!(flags.SELECTION_END || flags.SELECTION_START || flags.WITHIN_SELECTION)}`;\n            }\n\n            if (index === +grid.cursor) props.ref = cursorElementRef;\n        }\n\n        const renderProps = getGridDateRenderProps(props, prepare);\n        const { children: _, className, ...extendedProps } = renderProps.props || (EMPTY_OBJECT as NonNullable<typeof renderProps.props>);\n        const classes = getClassName(renderProps.className, DEFAULT_DATE_CELL_CLASSNAME, className);\n\n        return (\n            <td {...extendedProps} {...props} className={classes}>\n                {(!onlyCellsWithin || withinMonth) &&\n                    (() => {\n                        const {\n                            children: _,\n                            className,\n                            ...extendedProps\n                        } = renderProps.childProps || (EMPTY_OBJECT as NonNullable<typeof renderProps.childProps>);\n                        const classes = getClassName(renderProps.childClassName, DEFAULT_DATE_TIME_CLASSNAME, className);\n                        return (\n                            <time {...extendedProps} className={classes} dateTime={datetime}>\n                                {label}\n                            </time>\n                        );\n                    })()}\n            </td>\n        );\n    }\n);\n\nexport default memo(\n    CalendarGridDate,\n    memoComparator({\n        block: memoComparator.exclude,\n        flags: value => +(value as number),\n    })\n);\n","import { memo } from 'preact/compat';\nimport { property, propsProperty } from './utils';\nimport { getClassName, memoComparator } from '../../../../../utils/preact';\nimport { CalendarGridDayOfWeekProps, CalendarGridDayOfWeekRenderProps } from './types';\nimport { EMPTY_OBJECT } from '../../../../../utils';\nimport { CalendarGridRenderToken } from '../../types';\nimport { Ref } from 'preact';\n\nconst DEFAULT_CELL_CLASSNAME = 'adyen-pe-calendar__cell adyen-pe-calendar__cell--day-of-week';\nconst DEFAULT_CELL_ABBR_CLASSNAME = 'adyen-pe-calendar__day-of-week';\n\nconst getGridDayOfWeekRenderProps = (computedProps = EMPTY_OBJECT as any, prepare?: CalendarGridDayOfWeekProps['prepare']) => {\n    const renderProps = propsProperty.unwrapped<CalendarGridDayOfWeekRenderProps>(\n        {\n            childClassName: property.mutable(DEFAULT_CELL_ABBR_CLASSNAME),\n            childProps: {\n                children: property.restricted(),\n                className: '',\n            },\n            className: property.mutable(DEFAULT_CELL_CLASSNAME),\n            props: {\n                ...computedProps,\n                children: property.restricted(),\n                className: '',\n            },\n        },\n        true\n    );\n\n    prepare?.(CalendarGridRenderToken.DAY_OF_WEEK, renderProps);\n    return renderProps;\n};\n\nconst CalendarGridDayOfWeek = ({ prepare, flags, labels: { long: longLabel, short: shortLabel } }: CalendarGridDayOfWeekProps) => {\n    const props = {\n        'aria-label': longLabel,\n        'data-first-week-day': flags.LINE_START,\n        'data-last-week-day': flags.LINE_END,\n        'data-weekend': flags.WEEKEND,\n        scope: 'col',\n    };\n\n    const renderProps = getGridDayOfWeekRenderProps(props, prepare);\n    const { children: _, className, ...extendedProps } = renderProps.props || (EMPTY_OBJECT as NonNullable<typeof renderProps.props>);\n\n    const classes = getClassName(renderProps.className, DEFAULT_CELL_CLASSNAME, className);\n\n    const {\n        children: __,\n        className: childClassName,\n        ...extendedChildProps\n    } = renderProps.childProps || (EMPTY_OBJECT as NonNullable<typeof renderProps.childProps>);\n    const childClasses = getClassName(renderProps.childClassName, DEFAULT_CELL_ABBR_CLASSNAME, childClassName);\n\n    return (\n        <th {...extendedProps} ref={extendedProps.ref as Ref<HTMLTableCellElement>} {...props} className={classes}>\n            <abbr {...extendedChildProps} className={childClasses}>\n                {shortLabel}\n            </abbr>\n        </th>\n    );\n};\n\nexport default memo(\n    CalendarGridDayOfWeek,\n    memoComparator({\n        block: memoComparator.exclude,\n        flags: value => +(value as number),\n    })\n);\n","import { forwardRef, memo } from 'preact/compat';\nimport { CalendarGridProps } from './types';\nimport CalendarGridDate from './CalendarGridDate';\nimport CalendarGridDayOfWeek from './CalendarGridDayOfWeek';\nimport '../../Calendar.scss';\n\nconst CalendarGrid = forwardRef(({ cursorRootProps, onlyCellsWithin, prepare, grid }: CalendarGridProps, cursorElementRef) => (\n    <ol className={'adyen-pe-calendar'} role=\"none\" {...cursorRootProps}>\n        {grid.map(block => (\n            <li key={block.datetime} className={'adyen-pe-calendar__month'} role=\"none\">\n                <div className={'adyen-pe-calendar__month-name'} role=\"none\">\n                    <time dateTime={block.datetime} aria-hidden=\"true\">\n                        {block.label}\n                    </time>\n                </div>\n\n                <table\n                    role=\"grid\"\n                    aria-multiselectable={true}\n                    aria-label={`${block.label} calendar`}\n                    className={'adyen-pe-calendar__grid'}\n                    style={{ '--adyen-pe-calendar-rowspan': grid.rowspan }}\n                >\n                    <thead>\n                        <tr className={'adyen-pe-calendar__row'}>\n                            {grid.weekdays.map((data, index) => (\n                                <CalendarGridDayOfWeek key={data.labels['long']} grid={grid} block={block} prepare={prepare} cell={index} {...data} />\n                            ))}\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {block.map((row, rowindex) => (\n                            <tr key={`${block.month}:${rowindex}`} className={'adyen-pe-calendar__row'}>\n                                {row.map((data, index) => (\n                                    <CalendarGridDate\n                                        key={`${block.month}:${data.timestamp}`}\n                                        ref={cursorElementRef}\n                                        grid={grid}\n                                        block={block}\n                                        prepare={prepare}\n                                        cell={index}\n                                        onlyCellsWithin={onlyCellsWithin}\n                                        row={rowindex}\n                                        {...data}\n                                    />\n                                ))}\n                            </tr>\n                        ))}\n                    </tbody>\n                </table>\n            </li>\n        ))}\n    </ol>\n));\n\nexport default memo(CalendarGrid);\n","export const DAY_MS = 86400000 as const;\nexport const DAY_OF_WEEK_FORMATS = ['narrow', 'short', 'long'] as const;\nexport const FIRST_WEEK_DAYS = [0, 1, 6] as const;\nexport const FRAME_SIZES = [1, 2, 3, 4, 6, 12] as const;\nexport const MAXIMUM_MONTH_UNITS = 42 as const;\nexport const WEEKEND_DAYS_SEED = [0, 1] as const;\nexport const YEAR_MONTHS = 12 as const;\nexport const CONTROLS_ALL: unique symbol = Symbol();\nexport const CONTROLS_MINIMAL: unique symbol = Symbol();\nexport const CONTROLS_NONE: unique symbol = Symbol();\nexport const CALENDAR_CONTROLS = [CONTROLS_NONE, CONTROLS_MINIMAL, CONTROLS_ALL] as const;\nexport const SELECT_MANY: unique symbol = Symbol();\nexport const SELECT_NONE: unique symbol = Symbol();\nexport const SELECT_ONE: unique symbol = Symbol();\nexport const CALENDAR_SELECTIONS = [SELECT_NONE, SELECT_ONE, SELECT_MANY] as const;\nexport const CURSOR_BACKWARD: unique symbol = Symbol();\nexport const CURSOR_BLOCK_END: unique symbol = Symbol();\nexport const CURSOR_BLOCK_START: unique symbol = Symbol();\nexport const CURSOR_DOWNWARD: unique symbol = Symbol();\nexport const CURSOR_FORWARD: unique symbol = Symbol();\nexport const CURSOR_LINE_END: unique symbol = Symbol();\nexport const CURSOR_LINE_START: unique symbol = Symbol();\nexport const CURSOR_NEXT_BLOCK: unique symbol = Symbol();\nexport const CURSOR_PREV_BLOCK: unique symbol = Symbol();\nexport const CURSOR_UPWARD: unique symbol = Symbol();\nexport const RANGE_FROM: unique symbol = Symbol();\nexport const RANGE_TO: unique symbol = Symbol();\nexport const SELECTION_COLLAPSE: unique symbol = Symbol();\nexport const SELECTION_FARTHEST: unique symbol = Symbol();\nexport const SELECTION_FROM: unique symbol = Symbol();\nexport const SELECTION_NEAREST: unique symbol = Symbol();\nexport const SELECTION_TO: unique symbol = Symbol();\nexport const SHIFT_BLOCK: unique symbol = Symbol();\nexport const SHIFT_FRAME: unique symbol = Symbol();\nexport const SHIFT_PERIOD: unique symbol = Symbol();\n","import { FRAME_SIZES, WEEKEND_DAYS_SEED } from '../../constants';\nimport { FirstWeekDay, TimeFrameSize, WeekDay } from '../../types';\nimport { mod } from '../../../../../../utils';\n\nexport const downsizeTimeFrame = (size: TimeFrameSize, maxsize: number): TimeFrameSize => {\n    if (maxsize >= size) return size;\n    let i = Math.max(1, FRAME_SIZES.indexOf(size));\n    while (--i && maxsize < (FRAME_SIZES[i] as TimeFrameSize)) {}\n    return FRAME_SIZES[i] as TimeFrameSize;\n};\n\nexport const resolveTimeFrameBlockSize = (size: TimeFrameSize) => FRAME_SIZES[Math.max(FRAME_SIZES.indexOf(size), 0)];\n\nexport const getWeekendDays = (firstWeekDay: FirstWeekDay = 0) =>\n    // [TODO]: Derive weekend days based on locale\n    Object.freeze(WEEKEND_DAYS_SEED.map(seed => mod(6 - firstWeekDay + seed, 7)) as [WeekDay, WeekDay]);\n","import { RANGE_FROM, RANGE_TO } from '../constants';\nimport { Time, TimeFrameRangeEdge } from '../types';\nimport { computeTimestampOffset, getEdgesDistance } from '../utils';\n\nexport default class __TimeSlice__ {\n    readonly #numberOfMonths: number = Infinity;\n    readonly #endTimestamp: number = Infinity;\n    readonly #startTimestamp: number = -Infinity;\n    readonly #endTimestampOffset: number = 0;\n    readonly #startTimestampOffset: number = 0;\n\n    constructor(timezone?: string, fromTime?: Time, toTime?: Time);\n    constructor(timezone?: string, time?: Time, timeEdge?: TimeFrameRangeEdge);\n    constructor(...args: any[]) {\n        if (args.length >= 3) {\n            let timestamp = new Date(args[1]).getTime();\n\n            if (typeof args[2] !== 'symbol') {\n                this.#startTimestamp = timestamp || this.#startTimestamp;\n                this.#endTimestamp = new Date(args[2]).getTime() || this.#endTimestamp;\n\n                if (this.#endTimestamp < this.#startTimestamp) {\n                    [this.#endTimestamp, this.#startTimestamp] = [this.#startTimestamp, this.#endTimestamp];\n                }\n\n                this.#startTimestampOffset = computeTimestampOffset(this.#startTimestamp, args[0]);\n                this.#endTimestampOffset = computeTimestampOffset(this.#endTimestamp, args[0]);\n                this.#numberOfMonths = getEdgesDistance(this.#startTimestamp, this.#endTimestamp, args[0]) + 1;\n            } else if (!isNaN(timestamp)) {\n                switch (args[2]) {\n                    case RANGE_TO:\n                        this.#endTimestamp = timestamp;\n                        this.#endTimestampOffset = computeTimestampOffset(this.#endTimestamp, args[0]);\n                        break;\n\n                    case RANGE_FROM:\n                    default:\n                        this.#startTimestamp = timestamp;\n                        this.#startTimestampOffset = computeTimestampOffset(this.#startTimestamp, args[0]);\n                        break;\n                }\n            }\n        }\n    }\n\n    get numberOfMonths() {\n        return this.#numberOfMonths;\n    }\n\n    get endTimestamp() {\n        return this.#endTimestamp;\n    }\n\n    get endTimestampOffset() {\n        return this.#endTimestampOffset;\n    }\n\n    get startTimestamp() {\n        return this.#startTimestamp;\n    }\n\n    get startTimestampOffset() {\n        return this.#startTimestampOffset;\n    }\n}\n","import __TimeSlice__ from './TimeSlice';\nimport { RANGE_FROM, RANGE_TO } from '../constants';\nimport { TimeSlice, TimeSliceFactory } from '../types';\nimport { getter, struct } from '../../../../../utils';\nimport { withTimezone } from '../utils';\n\nconst factory = ((...args: any[]) => {\n    let tz = withTimezone().tz.current;\n    let slice = new __TimeSlice__(tz, ...args);\n\n    return struct({\n        from: getter(() => slice.startTimestamp, false),\n        to: getter(() => slice.endTimestamp, false),\n        offsets: {\n            value: struct({\n                from: getter(() => slice.startTimestampOffset, false),\n                to: getter(() => slice.endTimestampOffset, false),\n            }),\n        },\n        span: getter(() => slice.numberOfMonths, false),\n        timezone: {\n            ...getter(() => tz, false),\n            set: (timezone: string | undefined | null) => {\n                const currentTimezone = tz;\n                tz = withTimezone(timezone ?? undefined).tz.current;\n                if (tz !== currentTimezone) {\n                    slice = new __TimeSlice__(tz, ...args);\n                }\n            },\n        },\n    }) as TimeSlice;\n}) as TimeSliceFactory;\n\nexport const UNBOUNDED_SLICE = factory();\nexport const sinceNow = () => factory(Date.now(), RANGE_FROM);\nexport const untilNow = () => factory(Date.now(), RANGE_TO);\n\nexport default ((...args: any[]) => (args.length === 0 ? UNBOUNDED_SLICE : factory(...args))) as TimeSliceFactory;\n","import {\n    CONTROLS_ALL,\n    CONTROLS_MINIMAL,\n    CONTROLS_NONE,\n    CURSOR_BACKWARD,\n    CURSOR_BLOCK_END,\n    CURSOR_BLOCK_START,\n    CURSOR_DOWNWARD,\n    CURSOR_FORWARD,\n    CURSOR_LINE_END,\n    CURSOR_LINE_START,\n    CURSOR_NEXT_BLOCK,\n    CURSOR_PREV_BLOCK,\n    CURSOR_UPWARD,\n    DAY_OF_WEEK_FORMATS,\n    FIRST_WEEK_DAYS,\n    FRAME_SIZES,\n    RANGE_FROM,\n    RANGE_TO,\n    SHIFT_BLOCK,\n    SHIFT_FRAME,\n    SHIFT_PERIOD,\n    SELECT_MANY,\n    SELECT_NONE,\n    SELECT_ONE,\n    SELECTION_COLLAPSE,\n    SELECTION_FARTHEST,\n    SELECTION_FROM,\n    SELECTION_NEAREST,\n    SELECTION_TO,\n    CALENDAR_CONTROLS,\n    CALENDAR_SELECTIONS,\n} from './constants';\nimport { Indexed } from '../../../../primitives/auxiliary/indexed';\nimport { WatchListCallable } from '../../../../primitives/reactive/watchlist';\n\nexport type WithGetSetProperty<T = any> = {\n    get _(): T;\n    set _($: T);\n};\n\n// export type WithGetSetProperties<K extends string, T = any> = {\n//     [P in K]: WithGetSetProperty<T, X>['_'];\n// };\n\nexport type WithTimeEdges<T = {}> = {\n    from: T;\n    to: T;\n};\n\nexport type DayOfWeekLabelFormat = (typeof DAY_OF_WEEK_FORMATS)[number];\nexport type FirstWeekDay = (typeof FIRST_WEEK_DAYS)[number];\nexport type WeekDay = FirstWeekDay | 2 | 3 | 4 | 5;\nexport type Month = WeekDay | 7 | 8 | 9 | 10 | 11;\nexport type MonthDays = 28 | 29 | 30 | 31;\nexport type Time = Date | number | string;\n\nexport enum TimeFlag {\n    CURRENT = 0x1,\n    CURSOR = 0x2,\n    WEEKEND = 0x4,\n    LINE_START = 0x8,\n    LINE_END = 0x10,\n    WITHIN_BLOCK = 0x20,\n    BLOCK_START = 0x40,\n    BLOCK_END = 0x80,\n    WITHIN_RANGE = 0x100,\n    RANGE_START = 0x200,\n    RANGE_END = 0x400,\n    WITHIN_SELECTION = 0x800,\n    SELECTION_START = 0x1000,\n    SELECTION_END = 0x2000,\n    ALL = 0x3fff,\n}\n\nexport type TimeFlagProp = Exclude<keyof typeof TimeFlag, 'ALL'>;\n\nexport type TimeFrameCursor =\n    | typeof CURSOR_BACKWARD\n    | typeof CURSOR_BLOCK_END\n    | typeof CURSOR_BLOCK_START\n    | typeof CURSOR_DOWNWARD\n    | typeof CURSOR_FORWARD\n    | typeof CURSOR_LINE_END\n    | typeof CURSOR_LINE_START\n    | typeof CURSOR_NEXT_BLOCK\n    | typeof CURSOR_PREV_BLOCK\n    | typeof CURSOR_UPWARD;\n\nexport type TimeFrameSelection =\n    | typeof SELECTION_COLLAPSE\n    | typeof SELECTION_FARTHEST\n    | typeof SELECTION_FROM\n    | typeof SELECTION_NEAREST\n    | typeof SELECTION_TO;\n\nexport type TimeFrameRangeEdge = typeof RANGE_FROM | typeof RANGE_TO;\nexport type TimeFrameShift = typeof SHIFT_BLOCK | typeof SHIFT_FRAME | typeof SHIFT_PERIOD;\nexport type TimeFrameSize = (typeof FRAME_SIZES)[number];\n\ntype TimeFrameBlockMetrics<T extends string> = {\n    [K in T]: Readonly<WithTimeEdges<number>> & { readonly units: number };\n};\n\nexport type TimeFrameBlock = TimeFrameBlockMetrics<'inner' | 'outer'> &\n    Readonly<{\n        [K: number]: readonly [number, number];\n        month: Month;\n        year: number;\n    }>;\n\nexport type TimeSlice = Readonly<WithTimeEdges<number>> &\n    Readonly<{\n        offsets: Readonly<WithTimeEdges<number>>;\n        span: number;\n    }> & {\n        get timezone(): string;\n        set timezone(value: string | undefined | null);\n    };\n\nexport type TimeSliceFactory = {\n    (fromTime?: Time, toTime?: Time): TimeSlice;\n    (time?: Time, timeEdge?: TimeFrameRangeEdge): TimeSlice;\n};\n\nexport const enum CalendarShiftControlFlag {\n    PREV = 0x1,\n    BLOCK = 0x0,\n    FRAME = 0x2,\n    PERIOD = 0x4,\n}\n\nexport enum CalendarShiftControlsFlag {\n    PREV_PERIOD = CalendarShiftControlFlag.PREV | CalendarShiftControlFlag.PERIOD,\n    PREV_FRAME = CalendarShiftControlFlag.PREV | CalendarShiftControlFlag.FRAME,\n    PREV = CalendarShiftControlFlag.PREV | CalendarShiftControlFlag.BLOCK,\n    NEXT = CalendarShiftControlFlag.BLOCK,\n    NEXT_FRAME = CalendarShiftControlFlag.FRAME,\n    NEXT_PERIOD = CalendarShiftControlFlag.PERIOD,\n}\n\nexport type CalendarShiftControl = keyof typeof CalendarShiftControlsFlag;\nexport type CalendarShiftControls = (typeof CALENDAR_CONTROLS)[number];\nexport type CalendarSelection = (typeof CALENDAR_SELECTIONS)[number];\n\nexport type CalendarConfig = {\n    blocks?: TimeFrameSize;\n    controls?: CalendarShiftControls;\n    firstWeekDay?: FirstWeekDay;\n    fixedBlockHeight?: boolean;\n    highlight?: CalendarSelection | string;\n    locale?: string;\n    minified?: boolean;\n    timeslice?: TimeSlice;\n    timezone?: string;\n    trackCurrentDay?: boolean;\n};\n\nexport type CalendarFlagsRecord = Readonly<{\n    [K in TimeFlagProp]?: 1;\n}>;\n\nexport type CalendarBlock = Readonly<{\n    datetime: string;\n    label: string;\n    month: number;\n    year: number;\n}>;\n\nexport type CalendarBlockCellData = Readonly<{\n    datetime: string;\n    flags: CalendarFlagsRecord;\n    index: number;\n    label: string;\n    timestamp: number;\n}>;\n\nexport type CalendarDayOfWeekData = Readonly<{\n    flags: CalendarFlagsRecord;\n    labels: Readonly<{ [K in DayOfWeekLabelFormat]: string }>;\n}>;\n\nexport type IndexedCalendarBlock = Indexed<Indexed<CalendarBlockCellData>> & CalendarBlock;\n\nexport type CalendarGridControls = Readonly<{\n    [P in CalendarShiftControl]?: (evt?: Event) => boolean;\n}>;\n\nexport type CalendarGridControlRecord = [CalendarShiftControl, Exclude<CalendarGridControls[CalendarShiftControl], undefined>];\n\nexport type CalendarGrid = Indexed<IndexedCalendarBlock> &\n    Readonly<{\n        config: {\n            (config?: CalendarConfig): CalendarConfig;\n            cursorIndex: WithGetSetProperty<(this: CalendarConfig, evt: Event) => number | undefined>['_'];\n            shiftFactor: WithGetSetProperty<(this: CalendarConfig, evt: Event, target: CalendarShiftControl) => number | undefined>['_'];\n            watch: WithGetSetProperty<WatchListCallable<any, CalendarConfig>>['_'];\n        };\n        controls: Indexed<CalendarGridControlRecord> & CalendarGridControls;\n        cursor: (evt?: Event) => boolean;\n        highlight: WithTimeEdges<WithGetSetProperty<number | undefined>['_']> & Readonly<{ blank: boolean }>;\n        rowspan: number;\n        weekdays: Indexed<CalendarDayOfWeekData>;\n    }>;\n\nexport type CalendarFacade = {\n    (init?: CalendarConfig | TimeFrameSize | WatchListCallable<any, CalendarConfig>): Readonly<{\n        readonly grid: CalendarGrid;\n        readonly kill: () => void;\n    }>;\n    readonly controls: Readonly<{\n        ALL: typeof CONTROLS_ALL;\n        MINIMAL: typeof CONTROLS_MINIMAL;\n        NONE: typeof CONTROLS_NONE;\n    }>;\n    readonly highlight: Readonly<{\n        ONE: typeof SELECT_ONE;\n        MANY: typeof SELECT_MANY;\n        NONE: typeof SELECT_NONE;\n    }>;\n    readonly slice: TimeSliceFactory &\n        Readonly<{\n            FROM: typeof RANGE_FROM;\n            SINCE_NOW: TimeSlice;\n            TO: typeof RANGE_TO;\n            UNBOUNDED: TimeSlice;\n            UNTIL_NOW: TimeSlice;\n        }>;\n};\n\nexport type CalendarWatchAtoms = Partial<WithTimeEdges<number>> & {\n    blocks?: TimeFrameSize;\n    cells?: number;\n    controls?: CalendarShiftControls;\n    cursor?: number;\n    highlight?: CalendarSelection;\n    locale?: string;\n    minified?: boolean;\n    origin?: number;\n    today: number;\n    timezone?: string;\n};\n","import { CalendarFlagsRecord, TimeFlag, TimeFlagProp } from '../../types';\nimport { isString, struct, withFreezeProxyHandlers } from '../../../../../../utils';\n\nconst createFlagsRecord = (() => {\n    const CACHE = {} as { [K: number]: CalendarFlagsRecord };\n    const FLAG_PROPS = Object.keys(TimeFlag).filter(prop => isNaN(+prop)) as TimeFlagProp[];\n\n    const isFlagProp = (property: string | symbol): property is TimeFlagProp =>\n        property !== 'ALL' && isString(property) && FLAG_PROPS.includes(property as TimeFlagProp);\n\n    return (flags: number): CalendarFlagsRecord => {\n        const flagsTruncated = flags & TimeFlag.ALL;\n\n        if (!CACHE[flagsTruncated]) {\n            CACHE[flagsTruncated] = new Proxy(\n                struct({\n                    valueOf: { value: () => flagsTruncated },\n                }),\n                withFreezeProxyHandlers({\n                    get: (target: {}, property: string | symbol) => {\n                        switch (property) {\n                            case 'valueOf':\n                                return target.valueOf;\n                            case Symbol.toStringTag:\n                                return '_';\n                            default:\n                                if (!isFlagProp(property)) return;\n                        }\n\n                        return flagsTruncated & (TimeFlag[property] as number) ? 1 : undefined;\n                    },\n                })\n            ) as CalendarFlagsRecord;\n        }\n\n        return CACHE[flagsTruncated] as CalendarFlagsRecord;\n    };\n})();\n\nexport default createFlagsRecord;\n","import { identity, isString } from '../../../utils';\nimport type { Indexed, IndexedMapIteratorFactory } from './types';\n\nexport const indexedProxyGetTrap =\n    <V>(getter: (index: number) => V) =>\n    (target: Indexed<V>, property: string | symbol, receiver: any) => {\n        if (isString(property)) {\n            const index = +property;\n            if (index >= 0 && index < target.length) {\n                return getter(index);\n            }\n        }\n        return Reflect.get(target, property, receiver);\n    };\n\nexport const mapIteratorFactory: IndexedMapIteratorFactory = function* (callback = identity, thisArg: any) {\n    for (let i = 0; i < this.length; i++) {\n        yield callback.call(thisArg, this[i], i, this);\n    }\n};\n","import { isFunction, isNumber, struct, structFrom, truthify } from '../../../utils';\nimport { indexedProxyGetTrap, mapIteratorFactory } from './helpers';\nimport type { Indexed, IndexedMapIteratorCallback } from './types';\n\nconst __INDEXED_PROTO__ = Object.freeze(\n    struct<\n        Readonly<{\n            [Symbol.iterator]: (this: Indexed) => Generator<any>;\n            map: Indexed['map'];\n        }>\n    >({\n        [Symbol.iterator]: {\n            value(this: Indexed) {\n                return mapIteratorFactory.call(this);\n            },\n        },\n        map: {\n            value(this: Indexed, callback?: IndexedMapIteratorCallback, thisArg?: any) {\n                return [...mapIteratorFactory.call(this, callback, thisArg)];\n            },\n        },\n    })\n);\n\nexport const createIndexed = <T extends Record<any, any> = {}, V = any>(\n    iterablePropertyDescriptorsOrSize: PropertyDescriptorMap | (() => number) | number,\n    iteratorValueGetter: (index: number) => V\n): Indexed<V> & T => {\n    if (isFunction(iterablePropertyDescriptorsOrSize)) {\n        return createIndexed<T, V>(\n            {\n                length: { get: iterablePropertyDescriptorsOrSize },\n            },\n            iteratorValueGetter\n        );\n    }\n\n    if (isNumber(iterablePropertyDescriptorsOrSize)) {\n        return createIndexed<T, V>(\n            {\n                length: { value: iterablePropertyDescriptorsOrSize },\n            },\n            iteratorValueGetter\n        );\n    }\n\n    return new Proxy(structFrom(__INDEXED_PROTO__, iterablePropertyDescriptorsOrSize), {\n        get: indexedProxyGetTrap(iteratorValueGetter),\n        set: truthify,\n    }) as Indexed<V> & T;\n};\n\nexport default createIndexed;\n","import $restamper, { RestamperWithTimezone, systemToTimezone, timezoneToSystem } from '../../../core/Localization/datetime/restamper';\nimport { createWatchlist, isWatchlistUnsubscribeToken } from '../../reactive/watchlist';\nimport { enumerable, getter, isNull, struct } from '../../../utils';\nimport type { Today, TodayWatchListEntries } from './types';\nimport { clock } from '../clock';\n\nexport const today = (() => {\n    const timezones = new Map<NonNullable<RestamperWithTimezone['tz']['current']>, Today>();\n    const restamper = $restamper();\n\n    const getTimestampWithTomorrowOffset = (withTimestamp = Date.now()) => {\n        const restampedDate = new Date(timezoneToSystem(restamper, withTimestamp));\n        const currentTimestamp = systemToTimezone(restamper, restampedDate.setHours(0, 0, 0, 0)); // current day start timestamp\n        const nextTimestamp = systemToTimezone(restamper, restampedDate.setDate(restampedDate.getDate() + 1)); // next day start timestamp\n        return [currentTimestamp, nextTimestamp - currentTimestamp] as const;\n    };\n\n    return (timezone?: RestamperWithTimezone['tz']['current']) => {\n        restamper.tz = timezone;\n\n        const tz = restamper.tz.current!;\n\n        return (\n            timezones.get(tz) ??\n            (() => {\n                let timestamp: number | null = null;\n                let tomorrowOffset: number | null = null;\n                let unsubscribeClock: ReturnType<Today['subscribe']> | null = null;\n\n                const getTimestamp = () => {\n                    restamper.tz = tz; // switch restamper to this timezone\n                    return timestamp ?? getTimestampWithTomorrowOffset()[0];\n                };\n\n                const refreshTimestamps = (withTimestamp = Date.now()) => {\n                    restamper.tz = tz; // switch restamper to this timezone\n                    [timestamp, tomorrowOffset] = getTimestampWithTomorrowOffset(withTimestamp);\n                };\n\n                const { cancelSubscriptions, requestNotification, subscribe, on } = createWatchlist<TodayWatchListEntries>({\n                    timestamp: getTimestamp,\n                });\n\n                on.resume = () => {\n                    unsubscribeClock = clock.subscribe(snapshot => {\n                        if (isWatchlistUnsubscribeToken(snapshot)) return;\n\n                        const { now } = snapshot;\n\n                        if (isNull(timestamp) || isNull(tomorrowOffset)) return refreshTimestamps(now);\n                        if (now - timestamp < tomorrowOffset) return;\n\n                        refreshTimestamps(now);\n                        requestNotification();\n                    });\n                };\n\n                on.idle = () => {\n                    unsubscribeClock?.();\n                    timestamp = tomorrowOffset = unsubscribeClock = null;\n                };\n\n                const instance = struct<Today>({\n                    cancelSubscriptions: enumerable(cancelSubscriptions),\n                    timestamp: getter(getTimestamp),\n                    timezone: enumerable(tz),\n                    subscribe: enumerable(subscribe),\n                });\n\n                timezones.set(tz, instance);\n                return instance;\n            })()\n        );\n    };\n})();\n\nexport default today;\n","import { downsizeTimeFrame, resolveTimeFrameBlockSize } from '../common/utils';\nimport $timeslice, { UNBOUNDED_SLICE } from '../../timeslice';\nimport { computeTimestampOffset } from '../../utils';\nimport {\n    CURSOR_BACKWARD,\n    CURSOR_BLOCK_END,\n    CURSOR_BLOCK_START,\n    CURSOR_DOWNWARD,\n    CURSOR_FORWARD,\n    CURSOR_LINE_END,\n    CURSOR_LINE_START,\n    CURSOR_NEXT_BLOCK,\n    CURSOR_PREV_BLOCK,\n    CURSOR_UPWARD,\n    DAY_MS,\n    FIRST_WEEK_DAYS,\n    SELECTION_COLLAPSE,\n    SELECTION_FARTHEST,\n    SELECTION_FROM,\n    SELECTION_NEAREST,\n    SELECTION_TO,\n    SHIFT_BLOCK,\n    SHIFT_FRAME,\n    SHIFT_PERIOD,\n} from '../../constants';\nimport createFlagsRecord from '../common/flags';\nimport { createIndexed } from '../../../../../../primitives/auxiliary/indexed';\nimport type { WatchListCallable } from '../../../../../../primitives/reactive/watchlist';\nimport { BASE_LOCALE } from '../../../../../../core/Localization/datetime/restamper/constants';\nimport {\n    clamp,\n    enumerable,\n    isBitSafeInteger,\n    isBoolean,\n    isFunction,\n    isInfinity,\n    isNullish,\n    isUndefined,\n    mid,\n    mod,\n    struct,\n} from '../../../../../../utils';\nimport today from '../../../../../../primitives/time/today';\nimport {\n    CalendarBlock,\n    CalendarBlockCellData,\n    CalendarDayOfWeekData,\n    FirstWeekDay,\n    IndexedCalendarBlock,\n    Time,\n    TimeFrameBlock,\n    TimeFrameCursor,\n    TimeFrameSelection,\n    TimeFrameShift,\n    TimeFrameSize,\n    TimeSlice,\n} from '../../types';\n\nexport default abstract class TimeFrame {\n    static #DEFAULT_LOCALE = BASE_LOCALE;\n\n    #cursorBlockIndex: number = 0;\n    #cursorBlockStartIndex!: number;\n    #cursorBlockEndIndex!: number;\n    #cursorStartIndex: number = -1;\n    #cursorEndIndex: number = -1;\n    #cursorIndex!: number;\n    #cursorOffset!: number;\n    #cursorTimestamp!: number;\n    #dynamicBlockHeight: boolean = false;\n    #effect?: WatchListCallable;\n    #firstWeekDay: FirstWeekDay = 0;\n    #frameBlocksCached: IndexedCalendarBlock[] = [];\n    #locale: string = TimeFrame.#DEFAULT_LOCALE;\n    #maxFrameSize: TimeFrameSize = 12;\n    #selectionStartTimestamp?: number;\n    #selectionEndTimestamp?: number;\n    #size: TimeFrameSize = 1;\n    #_timeslice!: TimeSlice;\n    #timeslice!: TimeSlice;\n    #timezone!: string;\n    #today = today();\n    #unwatchCurrentDay?: () => void;\n\n    #fromTimestamp: number = -Infinity;\n    #toTimestamp: number = Infinity;\n    #fromBlockOffsetFromOrigin: number = -Infinity;\n    #toBlockOffsetFromOrigin: number = Infinity;\n    #numberOfBlocks: number = Infinity;\n    #numberOfUnits: number = 0;\n\n    protected daysInWeek: number = 0;\n    protected origin!: number;\n    protected originTimestamp!: number;\n\n    protected abstract getCursorBlockOriginTimestampOffset(timestamp: number): number;\n    protected abstract getDayOfWeekAtIndex(index: number): CalendarDayOfWeekData;\n    protected abstract getEdgeBlockOffsetsFromOrigin(): [number, number];\n    protected abstract getFormattedDataForBlockCell(time: Time): [string, string];\n    protected abstract getFormattedDataForFrameBlock(time: Time): [string, string];\n    protected abstract getFrameBlockAtIndex(index: number): TimeFrameBlock;\n    protected abstract getUnitsForFrameBlockAtIndex(index: number): number;\n    protected abstract getUnitsOffsetForTimestamp(startTimestamp: number, timestamp: number): number;\n    protected abstract reoriginate(): void;\n    protected abstract reslice(): void;\n    protected abstract shiftOrigin(offset: number): void;\n\n    abstract getTimestampAtIndex(indexOffset: number): number;\n    abstract withCurrentDayTimestamp(): void;\n\n    abstract get currentDayTimestamp(): number;\n    abstract get rowspan(): number;\n\n    #daysOfWeek = createIndexed(() => this.daysInWeek, this.getDayOfWeekAtIndex.bind(this));\n    #frameBlocks = createIndexed(() => this.#size, this.#getFrameBlockAtIndex.bind(this));\n\n    protected get fromTimestamp() {\n        return this.#fromTimestamp;\n    }\n\n    protected get toTimestamp() {\n        return this.#toTimestamp;\n    }\n\n    protected get numberOfBlocks() {\n        return this.#numberOfBlocks;\n    }\n\n    get blankSelection() {\n        return this.#selectionStartTimestamp === this.#selectionEndTimestamp && isUndefined(this.#selectionEndTimestamp);\n    }\n\n    get cursor() {\n        return this.#cursorIndex ?? -1;\n    }\n\n    get daysOfWeek() {\n        return this.#daysOfWeek;\n    }\n\n    get dynamicBlockHeight(): boolean {\n        return this.#dynamicBlockHeight;\n    }\n\n    set dynamicBlockHeight(bool: boolean | null | undefined) {\n        if (isNullish(bool)) this.#dynamicBlockHeight = !!bool;\n        else if (isBoolean(bool)) this.#dynamicBlockHeight = bool;\n    }\n\n    set effect(effect: WatchListCallable | null | undefined) {\n        if (isNullish(effect)) this.#effect = undefined;\n        else if (isFunction(effect)) this.#effect = effect;\n    }\n\n    get firstWeekDay(): FirstWeekDay {\n        return this.#firstWeekDay;\n    }\n\n    set firstWeekDay(day: FirstWeekDay | null | undefined) {\n        if (!isNullish(day)) {\n            if (!FIRST_WEEK_DAYS.includes(day)) return;\n            if (this.#firstWeekDay === (this.#firstWeekDay = day)) return;\n        } else this.firstWeekDay = 0;\n    }\n\n    get frameBlocks() {\n        return this.#frameBlocks;\n    }\n\n    get isAtEnd() {\n        return !isInfinity(this.#toBlockOffsetFromOrigin) && this.#toBlockOffsetFromOrigin === this.#size - 1;\n    }\n\n    get isAtStart() {\n        return !isInfinity(this.#fromBlockOffsetFromOrigin) && this.#fromBlockOffsetFromOrigin === 0;\n    }\n\n    get locale(): string {\n        return this.#locale;\n    }\n\n    set locale(locale: string | Intl.Locale | null | undefined) {\n        const currentLocale = this.#locale;\n\n        if (isNullish(locale)) {\n            this.#locale = TimeFrame.#DEFAULT_LOCALE;\n        } else if (typeof Intl !== 'undefined') {\n            try {\n                this.#locale = new Intl.Locale(locale as NonNullable<typeof locale>).toString();\n            } catch {\n                this.#locale = TimeFrame.#DEFAULT_LOCALE;\n            }\n        }\n\n        if (this.#locale !== currentLocale) this.refreshFrame(true);\n    }\n\n    get selectionStart() {\n        return this.#selectionStartTimestamp;\n    }\n\n    get selectionEnd() {\n        return this.#selectionEndTimestamp;\n    }\n\n    get size(): TimeFrameSize {\n        return this.#size;\n    }\n\n    set size(size: TimeFrameSize | null | undefined) {\n        const nextFrameSize = Math.min((!isNullish(size) && resolveTimeFrameBlockSize(size)) || 1, this.#maxFrameSize) as TimeFrameSize;\n        if (this.#size === (this.#size = nextFrameSize)) return;\n        this.#shiftOriginIfNecessary();\n        this.refreshFrame();\n    }\n\n    get timeslice(): TimeSlice {\n        return this.#timeslice;\n    }\n\n    set timeslice(timeslice: TimeSlice | null | undefined) {\n        if (timeslice === this.#_timeslice || (isNullish(timeslice) && this.#_timeslice === UNBOUNDED_SLICE)) return;\n        const { from, to, timezone } = (this.#_timeslice = timeslice ?? UNBOUNDED_SLICE);\n        this.#timeslice = $timeslice(from, to);\n        this.timezone = timezone;\n    }\n\n    get timezone(): string {\n        return this.#timezone;\n    }\n\n    set timezone(timezone: string | null | undefined) {\n        this.#timeslice.timezone = timezone;\n        this.#timezone = this.#timeslice.timezone;\n        this.#today = today(this.#timezone);\n\n        if (this.#unwatchCurrentDay) {\n            this.#unwatchCurrentDay();\n            this.#unwatchCurrentDay = this.#today.subscribe(this.refreshFrame.bind(this, true));\n        }\n\n        this.#applyTimeSliceUpdate();\n    }\n\n    set trackCurrentDay(bool: boolean | null | undefined) {\n        if (isBoolean(bool)) {\n            if (bool && !this.#unwatchCurrentDay) {\n                this.#unwatchCurrentDay = this.#today.subscribe(this.refreshFrame.bind(this, true));\n            } else if (!bool && this.#unwatchCurrentDay) {\n                this.#unwatchCurrentDay();\n                this.#unwatchCurrentDay = undefined;\n            }\n        } else if (isNullish(bool)) this.trackCurrentDay = false;\n    }\n\n    get units() {\n        return this.#numberOfUnits;\n    }\n\n    #applyTimeSliceUpdate() {\n        const { from, to, span, offsets } = this.#timeslice;\n\n        this.#fromTimestamp = from - offsets.from;\n        this.#toTimestamp = to - offsets.to;\n        this.#numberOfBlocks = span;\n\n        const selectionStartTimestamp = isUndefined(this.#selectionStartTimestamp)\n            ? this.#selectionStartTimestamp\n            : Math.max(this.#selectionStartTimestamp, from);\n\n        const selectionEndTimestamp = isUndefined(this.#selectionEndTimestamp)\n            ? this.#selectionEndTimestamp\n            : Math.min(this.#selectionEndTimestamp, to);\n\n        if (selectionStartTimestamp === this.#selectionStartTimestamp || selectionEndTimestamp === this.#selectionEndTimestamp) {\n            this.#selectionStartTimestamp = selectionStartTimestamp;\n            this.#selectionEndTimestamp = selectionEndTimestamp;\n        } else this.#selectionStartTimestamp = this.#selectionEndTimestamp = undefined;\n\n        this.reslice();\n        this.#maxFrameSize = downsizeTimeFrame(12, this.numberOfBlocks);\n        this.#size = downsizeTimeFrame(this.#size, this.numberOfBlocks);\n\n        this.shiftFrameToTimestamp(this.#cursorTimestamp);\n    }\n\n    #getClampedFrameOffset(frameOffset: number) {\n        return clamp(this.#fromBlockOffsetFromOrigin, frameOffset || 0, this.#toBlockOffsetFromOrigin - this.#size + 1);\n    }\n\n    #getContainedTimestamp(time?: Time, withMidRangeFallback = true): [number, number] {\n        let timestamp = new Date(time as Time).getTime();\n\n        if (isNaN(timestamp)) return this.#getContainedTimestamp(Date.now());\n\n        const { from, to } = this.#timeslice;\n        const clampedTimestamp = clamp(from, timestamp, to);\n\n        if (clampedTimestamp !== timestamp && withMidRangeFallback) {\n            timestamp = mid(from, to);\n            if (isNaN(timestamp) || isInfinity(timestamp)) {\n                timestamp = clampedTimestamp;\n            }\n        } else timestamp = clampedTimestamp;\n\n        const offset = computeTimestampOffset(timestamp, this.#timezone);\n\n        return [timestamp - offset, offset];\n    }\n\n    #getFrameBlockAtIndex(index: number): IndexedCalendarBlock | undefined {\n        if (!(isBitSafeInteger(index) && index >= 0 && index < this.#size)) return;\n\n        if (!this.#frameBlocksCached[index]) {\n            const block = this.getFrameBlockAtIndex(index);\n            if (!block) return undefined as unknown as IndexedCalendarBlock;\n\n            const [label, datetime] = this.getFormattedDataForFrameBlock(block[block.inner.from]![0] + DAY_MS / 2);\n            const blockStartIndex = block.outer.from;\n\n            this.#frameBlocksCached[index] = createIndexed<CalendarBlock>(\n                {\n                    datetime: enumerable(datetime),\n                    label: enumerable(label),\n                    length: enumerable(Math.ceil(block.outer.units / this.rowspan)),\n                    month: enumerable(block.month),\n                    year: enumerable(block.year),\n                },\n                index => {\n                    const indexOffset = index * this.rowspan;\n\n                    return createIndexed(this.rowspan, index => {\n                        const [timestamp, flags] = block[index + indexOffset] as (typeof block)[number];\n                        const [label, datetime] = this.getFormattedDataForBlockCell(timestamp + DAY_MS / 2);\n\n                        return struct({\n                            datetime: enumerable(datetime),\n                            flags: enumerable(createFlagsRecord(flags)),\n                            index: enumerable(blockStartIndex + index + indexOffset),\n                            label: enumerable(label),\n                            timestamp: enumerable(timestamp),\n                        }) as CalendarBlockCellData;\n                    });\n                }\n            );\n        }\n\n        return this.#frameBlocksCached[index] as IndexedCalendarBlock;\n    }\n\n    #shiftFrameCursorByOffset(offset: number): void {\n        if (offset === 0) return;\n        this.#cursorOffset += offset;\n        this.refreshFrame();\n    }\n\n    #shiftOrigin(offset: number) {\n        const clampedOffset = this.#getClampedFrameOffset(offset);\n        if (clampedOffset) {\n            this.shiftOrigin(clampedOffset);\n            this.#fromBlockOffsetFromOrigin -= clampedOffset;\n            this.#toBlockOffsetFromOrigin -= clampedOffset;\n            this.#cursorBlockIndex = mod(this.#cursorBlockIndex - clampedOffset, this.#size);\n            this.refreshFrame();\n        }\n    }\n\n    #shiftOriginIfNecessary() {\n        const size_1 = this.#size - 1;\n        const offset = Math.min(size_1 - (this.origin % this.#size), this.#toBlockOffsetFromOrigin) - size_1;\n        if (offset) this.#shiftOrigin(offset);\n    }\n\n    protected initialize() {\n        this.timeslice = UNBOUNDED_SLICE;\n    }\n\n    protected refreshFrame(skipCursorRefresh = false): void {\n        this.#frameBlocksCached.length = 0;\n\n        if (!(isUndefined(this.#cursorOffset) || skipCursorRefresh)) {\n            const cursorBlock = this.getFrameBlockAtIndex(this.#cursorBlockIndex) as TimeFrameBlock;\n            const { from: startIndex, to: endIndex } = cursorBlock.inner;\n            const [nextCursorTimestamp] = this.#getContainedTimestamp(this.getTimestampAtIndex(startIndex + this.#cursorOffset), false);\n\n            this.#cursorOffset = this.getUnitsOffsetForTimestamp(this.getTimestampAtIndex(startIndex), nextCursorTimestamp);\n\n            const nextCursorOffset = startIndex + this.#cursorOffset;\n            const clampedNextCursorOffset = clamp(startIndex, nextCursorOffset, endIndex);\n\n            if (clampedNextCursorOffset > nextCursorOffset) {\n                this.#cursorOffset = this.getUnitsForFrameBlockAtIndex(--this.#cursorBlockIndex) + nextCursorOffset - clampedNextCursorOffset;\n                if (this.#cursorBlockIndex >= 0) return this.refreshFrame();\n                this.#cursorBlockIndex = this.#size - 1;\n                return this.shiftFrameByOffset(-1, SHIFT_FRAME);\n            }\n\n            if (clampedNextCursorOffset < nextCursorOffset) {\n                this.#cursorOffset = nextCursorOffset - clampedNextCursorOffset - 1;\n                if (++this.#cursorBlockIndex < this.#size) return this.refreshFrame();\n                this.#cursorBlockIndex = 0;\n                return this.shiftFrameByOffset(1, SHIFT_FRAME);\n            }\n\n            this.#cursorBlockStartIndex = startIndex;\n            this.#cursorBlockEndIndex = endIndex;\n            this.#cursorTimestamp = this.#getContainedTimestamp(this.getTimestampAtIndex(nextCursorOffset), false)[0];\n            this.#cursorOffset = this.getCursorBlockOriginTimestampOffset(this.#cursorTimestamp);\n            this.#cursorIndex = startIndex + this.#cursorOffset;\n\n            const firstBlock = this.#cursorBlockIndex > 0 ? (this.getFrameBlockAtIndex(0) as TimeFrameBlock) : cursorBlock;\n            const lastBlock = this.#cursorBlockIndex < this.#size - 1 ? (this.getFrameBlockAtIndex(this.#size - 1) as TimeFrameBlock) : cursorBlock;\n\n            this.#cursorStartIndex = firstBlock.inner.from;\n            this.#cursorEndIndex = lastBlock.inner.to;\n            this.#numberOfUnits = lastBlock.outer.to + 1;\n        }\n\n        this.withCurrentDayTimestamp();\n        this.#effect?.();\n    }\n\n    shiftFrameByOffset(offset?: number, offsetType?: TimeFrameShift) {\n        if (offset && isBitSafeInteger(offset)) {\n            switch (offsetType) {\n                case SHIFT_BLOCK:\n                    return this.#shiftOrigin(offset);\n                case SHIFT_PERIOD:\n                    return this.#shiftOrigin(offset * 12);\n                case SHIFT_FRAME:\n                default:\n                    return this.#shiftOrigin(offset * this.#size);\n            }\n        }\n    }\n\n    shiftFrameCursor(nextCursorPosition: TimeFrameCursor | number) {\n        switch (nextCursorPosition) {\n            case CURSOR_BACKWARD:\n                return this.#shiftFrameCursorByOffset(-1);\n            case CURSOR_FORWARD:\n                return this.#shiftFrameCursorByOffset(1);\n            case CURSOR_UPWARD:\n                return this.#shiftFrameCursorByOffset(-this.rowspan);\n            case CURSOR_DOWNWARD:\n                return this.#shiftFrameCursorByOffset(this.rowspan);\n            case CURSOR_BLOCK_START:\n                return this.#shiftFrameCursorByOffset(this.#cursorBlockStartIndex - this.#cursorIndex);\n            case CURSOR_BLOCK_END:\n                return this.#shiftFrameCursorByOffset(this.#cursorBlockEndIndex - this.#cursorIndex);\n            case CURSOR_LINE_START:\n                return this.#shiftFrameCursorByOffset(-(this.#cursorIndex % this.rowspan));\n            case CURSOR_LINE_END:\n                return this.#shiftFrameCursorByOffset(this.rowspan - ((this.#cursorIndex % this.rowspan) + 1));\n            case CURSOR_PREV_BLOCK:\n                return this.#shiftFrameCursorByOffset(-this.getUnitsForFrameBlockAtIndex((this.#cursorBlockIndex ?? 0) - 1));\n            case CURSOR_NEXT_BLOCK:\n                return this.#shiftFrameCursorByOffset(this.getUnitsForFrameBlockAtIndex(this.#cursorBlockIndex ?? 0));\n        }\n\n        if (nextCursorPosition < 0) return;\n\n        if (nextCursorPosition >= this.#cursorStartIndex && nextCursorPosition <= this.#cursorEndIndex) {\n            return this.#shiftFrameCursorByOffset(nextCursorPosition - this.#cursorIndex);\n        }\n    }\n\n    shiftFrameToTimestamp(timestamp?: number) {\n        this.#cursorTimestamp = this.originTimestamp = this.#getContainedTimestamp(timestamp, false).reduce((a, b) => a + b);\n        this.#cursorOffset = this.getCursorBlockOriginTimestampOffset(this.#cursorTimestamp);\n        this.reoriginate();\n\n        [this.#fromBlockOffsetFromOrigin, this.#toBlockOffsetFromOrigin] = this.getEdgeBlockOffsetsFromOrigin();\n        this.#shiftOriginIfNecessary();\n        this.refreshFrame();\n\n        this.#shiftFrameCursorByOffset(this.getUnitsOffsetForTimestamp(this.getTimestampAtIndex(this.#cursorIndex), this.#cursorTimestamp));\n    }\n\n    clearSelection() {\n        if (this.blankSelection) return;\n        this.#selectionStartTimestamp = this.#selectionEndTimestamp = undefined;\n        this.refreshFrame(true);\n    }\n\n    updateSelection(time: Time, selection?: TimeFrameSelection) {\n        const currentStart = this.#selectionStartTimestamp as number;\n        const currentEnd = this.#selectionEndTimestamp as number;\n        const timestamp = this.#getContainedTimestamp(time, false).reduce((a, b) => a + b);\n\n        if (selection === SELECTION_FARTHEST) {\n            if (timestamp <= currentStart) selection = SELECTION_TO;\n            else if (timestamp >= currentEnd) selection = SELECTION_FROM;\n        }\n\n        switch (selection) {\n            case SELECTION_FROM:\n                this.#selectionStartTimestamp = timestamp;\n                this.#selectionEndTimestamp = Math.max(this.#selectionStartTimestamp, currentEnd ?? timestamp);\n                break;\n            case SELECTION_TO:\n                this.#selectionEndTimestamp = timestamp;\n                this.#selectionStartTimestamp = Math.min(currentStart ?? timestamp, this.#selectionEndTimestamp);\n                break;\n            case SELECTION_FARTHEST:\n            case SELECTION_NEAREST: {\n                let startDistance = Math.abs(timestamp - (currentStart ?? timestamp));\n                let endDistance = Math.abs(timestamp - (currentEnd ?? timestamp));\n\n                if (selection === SELECTION_NEAREST) {\n                    [startDistance, endDistance] = [endDistance, startDistance];\n                }\n\n                if (startDistance > endDistance) {\n                    this.#selectionStartTimestamp = timestamp;\n                } else this.#selectionEndTimestamp = timestamp;\n\n                break;\n            }\n            case SELECTION_COLLAPSE:\n            default:\n                this.#selectionStartTimestamp = this.#selectionEndTimestamp = timestamp;\n                break;\n        }\n\n        if (this.#selectionStartTimestamp !== currentStart || this.#selectionEndTimestamp !== currentEnd) {\n            this.refreshFrame(true);\n        }\n    }\n}\n","import TimeFrame from './TimeFrame';\nimport { getWeekendDays } from '../common/utils';\nimport { computeTimestampOffset, getEdgesDistance, getMonthDays, getTimezoneDateParts, startOfMonth, startOfWeek, withTimezone } from '../../utils';\nimport { DAY_MS, DAY_OF_WEEK_FORMATS, MAXIMUM_MONTH_UNITS } from '../../constants';\nimport { systemToTimezone, timezoneToSystem } from '../../../../../../core/Localization/datetime/restamper';\nimport createFlagsRecord from '../common/flags';\nimport {\n    enumerable,\n    isBitSafeInteger,\n    isInfinity,\n    isString,\n    isUndefined,\n    struct,\n    structFrom,\n    withFreezeProxyHandlers,\n} from '../../../../../../utils';\nimport {\n    CalendarDayOfWeekData,\n    DayOfWeekLabelFormat,\n    FirstWeekDay,\n    Month,\n    MonthDays,\n    Time,\n    TimeFlag,\n    TimeFrameBlock,\n    TimeFrameSelection,\n    WeekDay,\n} from '../../types';\n\nexport default class MonthFrame extends TimeFrame {\n    #daysInWeek = 7 as const;\n    #daysOfWeekCached: CalendarDayOfWeekData[] = [];\n    #daysOfWeekend: readonly WeekDay[] = getWeekendDays(this.firstWeekDay);\n    #currentDayTimestamp!: number;\n    #fromTimestamp: number = -Infinity;\n    #toTimestamp: number = Infinity;\n    #numberOfBlocks: number = Infinity;\n    #originMonthStartOffset!: WeekDay;\n    #originMonthStartTimestamp!: number;\n    #originYear!: number;\n    #selectionFromTimestamp?: number;\n    #selectionToTimestamp?: number;\n\n    protected daysInWeek: number = this.#daysInWeek;\n    protected declare origin: Month;\n\n    constructor() {\n        super();\n        this.initialize();\n    }\n\n    protected get fromTimestamp() {\n        return this.#fromTimestamp;\n    }\n\n    protected get toTimestamp() {\n        return this.#toTimestamp;\n    }\n\n    protected get numberOfBlocks() {\n        return this.#numberOfBlocks;\n    }\n\n    get currentDayTimestamp() {\n        return this.#currentDayTimestamp;\n    }\n\n    get dynamicBlockHeight(): boolean {\n        return super.dynamicBlockHeight;\n    }\n\n    set dynamicBlockHeight(bool: boolean | null | undefined) {\n        const current = this.dynamicBlockHeight;\n        super.dynamicBlockHeight = bool;\n        if (this.dynamicBlockHeight !== current) this.refreshFrame(true);\n    }\n\n    get rowspan() {\n        return this.#daysInWeek;\n    }\n\n    get firstWeekDay(): FirstWeekDay {\n        return super.firstWeekDay;\n    }\n\n    set firstWeekDay(day: FirstWeekDay | null | undefined) {\n        const current = this.firstWeekDay;\n        super.firstWeekDay = day;\n\n        if (this.firstWeekDay === current) return;\n\n        this.#daysOfWeekCached.length = 0;\n        this.#daysOfWeekend = getWeekendDays(this.firstWeekDay);\n        this.reoriginate();\n        this.refreshFrame();\n    }\n\n    #getBlockTimestampOffsetFromOrigin(timestamp: number) {\n        const offset = getEdgesDistance(timestamp, this.originTimestamp, this.timezone);\n        return timestamp < this.originTimestamp ? 0 - offset : offset;\n    }\n\n    #getDayOffsetTimestamp(fromTimestamp: Date | number, dayOffset = 0) {\n        const restamper = withTimezone(this.timezone);\n        const restampedTimestamp = timezoneToSystem(restamper, fromTimestamp);\n        const timestamp = systemToTimezone(restamper, restampedTimestamp + dayOffset * DAY_MS);\n        let [, , , hrs, mins] = getTimezoneDateParts(timestamp, this.timezone);\n        let timeOffset = 0;\n\n        if (hrs > 0 || mins > 0) {\n            hrs = (hrs > 12 ? 24 : 0) - hrs;\n            mins = (hrs > 1 ? 1 : -1) * mins;\n            timeOffset = hrs * 3600000 + mins * 60000;\n        }\n\n        return timestamp + timeOffset;\n    }\n\n    #getStartForTimestamp(timestamp?: number) {\n        return isUndefined(timestamp) || isInfinity(timestamp) ? timestamp : timestamp - computeTimestampOffset(timestamp, this.timezone);\n    }\n\n    #updateSelectionTimestamps() {\n        this.#selectionFromTimestamp = this.#getStartForTimestamp(this.selectionStart);\n        this.#selectionToTimestamp = this.#getStartForTimestamp(this.selectionEnd);\n    }\n\n    protected getCursorBlockOriginTimestampOffset(timestamp: number): number {\n        return getTimezoneDateParts(timestamp, this.timezone)[2] - 1;\n    }\n\n    protected getDayOfWeekAtIndex(index: number) {\n        if (!this.#daysOfWeekCached[index]) {\n            const date = new Date(this.getTimestampAtIndex(index));\n            let flags = 0;\n\n            if (this.#daysOfWeekend.includes(index as WeekDay)) flags |= TimeFlag.WEEKEND;\n            if (index === 0) flags |= TimeFlag.LINE_START;\n            else if (index === 6) flags |= TimeFlag.LINE_END;\n\n            const labelDescriptors = {} as {\n                [K in DayOfWeekLabelFormat]: {\n                    enumerable: true;\n                    value: string;\n                };\n            };\n\n            for (const format of DAY_OF_WEEK_FORMATS) {\n                labelDescriptors[format] = enumerable(\n                    date.toLocaleDateString(this.locale, { weekday: format, timeZone: this.timezone })\n                ) as (typeof labelDescriptors)[typeof format];\n            }\n\n            this.#daysOfWeekCached[index] = struct({\n                flags: enumerable(createFlagsRecord(flags)),\n                labels: enumerable(struct(labelDescriptors)),\n            }) as CalendarDayOfWeekData;\n        }\n\n        return this.#daysOfWeekCached[index] as CalendarDayOfWeekData;\n    }\n\n    protected getEdgeBlockOffsetsFromOrigin(): [number, number] {\n        return [this.#getBlockTimestampOffsetFromOrigin(this.#fromTimestamp), this.#getBlockTimestampOffsetFromOrigin(this.#toTimestamp)];\n    }\n\n    protected getFormattedDataForBlockCell(time: Time): [string, string] {\n        const [year, month, date] = getTimezoneDateParts(time, this.timezone);\n        return [Number(date).toLocaleString(this.locale), `${year}-${`${month + 1}`.padStart(2, '0')}-${`${date}`.padStart(2, '0')}`];\n    }\n\n    protected getFormattedDataForFrameBlock(time: Time): [string, string] {\n        const [year, month] = getTimezoneDateParts(time, this.timezone);\n        return [\n            new Date(time).toLocaleDateString(this.locale, { month: 'long', year: 'numeric', timeZone: this.timezone }),\n            `${year}-${`${month + 1}`.padStart(2, '0')}`,\n        ];\n    }\n\n    protected getFrameBlockAtIndex(index: number): TimeFrameBlock {\n        const [monthDays, month, year] = getMonthDays(this.origin, this.#originYear, index);\n        const innerStartIndex = index > 0 ? this.getFrameBlockAtIndex(index - 1).inner.to + 1 : this.#originMonthStartOffset;\n        const innerEndIndex = innerStartIndex + monthDays - 1;\n        const outerStartIndex = Math.floor(innerStartIndex / 7) * 7;\n        const outerEndAfterIndex = this.dynamicBlockHeight ? Math.ceil((innerEndIndex + 1) / 7) * 7 : outerStartIndex + MAXIMUM_MONTH_UNITS;\n        const numberOfUnits = this.dynamicBlockHeight ? outerEndAfterIndex - outerStartIndex : MAXIMUM_MONTH_UNITS;\n\n        const proxyForIndexPropertyAccess = new Proxy(\n            struct(),\n            withFreezeProxyHandlers({\n                get: (target: {}, property: string | symbol, receiver: {}) => {\n                    if (isString(property)) {\n                        const offset = +property;\n\n                        if (isBitSafeInteger(offset) && offset >= 0 && offset < numberOfUnits) {\n                            const index = outerStartIndex + offset;\n                            const timestamp = this.getTimestampAtIndex(index);\n                            const weekDay = (index % this.#daysInWeek) as WeekDay;\n\n                            let flags = timestamp === this.currentDayTimestamp ? TimeFlag.CURRENT : 0;\n\n                            if (index === this.cursor) flags |= TimeFlag.CURSOR;\n                            if (this.#daysOfWeekend.includes(weekDay)) flags |= TimeFlag.WEEKEND;\n\n                            if (weekDay === 0) flags |= TimeFlag.LINE_START;\n                            else if (weekDay === this.#daysInWeek - 1) flags |= TimeFlag.LINE_END;\n\n                            if (index >= innerStartIndex && index <= innerEndIndex) {\n                                if (index === innerStartIndex) flags |= TimeFlag.BLOCK_START;\n                                else if (index === innerEndIndex) flags |= TimeFlag.BLOCK_END;\n                                flags |= TimeFlag.WITHIN_BLOCK;\n                            }\n\n                            if (timestamp >= this.fromTimestamp && timestamp <= this.toTimestamp) {\n                                if (timestamp === this.fromTimestamp) flags |= TimeFlag.RANGE_START;\n                                if (timestamp === this.toTimestamp) flags |= TimeFlag.RANGE_END;\n                                flags |= TimeFlag.WITHIN_RANGE;\n                            }\n\n                            if (timestamp >= (this.#selectionFromTimestamp as number) && timestamp <= (this.#selectionToTimestamp as number)) {\n                                if (timestamp === (this.#selectionFromTimestamp as number)) flags |= TimeFlag.SELECTION_START;\n                                if (timestamp === (this.#selectionToTimestamp as number)) flags |= TimeFlag.SELECTION_END;\n                                flags |= TimeFlag.WITHIN_SELECTION;\n                            }\n\n                            return [timestamp, flags] as const;\n                        }\n                    }\n\n                    return Reflect.get(target, property, receiver);\n                },\n            })\n        );\n\n        return structFrom(proxyForIndexPropertyAccess, {\n            inner: {\n                value: struct({\n                    from: { value: innerStartIndex },\n                    to: { value: innerEndIndex },\n                    units: { value: monthDays },\n                }),\n            },\n            month: { value: month },\n            outer: {\n                value: struct({\n                    from: { value: outerStartIndex },\n                    to: { value: outerEndAfterIndex - 1 },\n                    units: { value: numberOfUnits },\n                }),\n            },\n            year: { value: year },\n        }) as TimeFrameBlock;\n    }\n\n    protected getUnitsForFrameBlockAtIndex(index: number): MonthDays {\n        return getMonthDays(this.origin, this.#originYear, index)[0];\n    }\n\n    protected getUnitsOffsetForTimestamp(startTimestamp: number, timestamp: number) {\n        return Math.round((timestamp - startTimestamp) / DAY_MS);\n    }\n\n    protected reoriginate() {\n        this.originTimestamp = startOfMonth(this.originTimestamp, this.timezone);\n        const [originYear, originMonth] = getTimezoneDateParts(this.originTimestamp, this.timezone);\n        const weekStartTimestamp = startOfWeek(this.originTimestamp, this.timezone, this.firstWeekDay);\n\n        this.origin = originMonth as Month;\n        this.#originYear = originYear;\n        this.#originMonthStartOffset = this.getUnitsOffsetForTimestamp(weekStartTimestamp, this.originTimestamp) as WeekDay;\n        this.#originMonthStartTimestamp = this.#getDayOffsetTimestamp(this.originTimestamp, -this.#originMonthStartOffset);\n    }\n\n    protected reslice() {\n        this.#updateSelectionTimestamps();\n        this.#fromTimestamp = this.#getStartForTimestamp(super.fromTimestamp) as number;\n        this.#toTimestamp = this.#getStartForTimestamp(super.toTimestamp) as number;\n        this.#numberOfBlocks = getEdgesDistance(super.fromTimestamp, super.toTimestamp, this.timezone) + 1;\n    }\n\n    protected shiftOrigin(offset: number) {\n        const [year, month] = getTimezoneDateParts(this.originTimestamp, this.timezone);\n        const [, offsetMonth, offsetYear] = getMonthDays(month as Month, year, offset);\n\n        const restamper = withTimezone(this.timezone);\n        const originTimestamp = new Date(timezoneToSystem(restamper, this.originTimestamp)).setFullYear(offsetYear, offsetMonth);\n\n        this.originTimestamp = systemToTimezone(restamper, originTimestamp);\n        this.reoriginate();\n    }\n\n    clearSelection() {\n        super.clearSelection();\n        this.#updateSelectionTimestamps();\n        this.refreshFrame(true);\n    }\n\n    getTimestampAtIndex(indexOffset: number) {\n        return this.#getDayOffsetTimestamp(this.#originMonthStartTimestamp, indexOffset);\n    }\n\n    updateSelection(time: Time, selection?: TimeFrameSelection) {\n        super.updateSelection(time, selection);\n        this.#updateSelectionTimestamps();\n        this.refreshFrame(true);\n    }\n\n    withCurrentDayTimestamp() {\n        this.#currentDayTimestamp = this.#getStartForTimestamp(Date.now()) as number;\n    }\n}\n","import { enumerable, struct } from '../../../utils';\nimport type { EffectStack } from './types';\n\nconst _NO_EXCEPTION = Symbol('<<NO_EXCEPTION>>');\n\nexport const createEffectStack = <Effect extends (...args: any[]) => any>(effect: Effect) => {\n    const _stack: any[] = [];\n\n    const _bindFn: EffectStack<Effect>['bind'] = fn =>\n        function (this: unknown, ...args) {\n            let exception: unknown = _NO_EXCEPTION;\n            try {\n                _stack.push(fn);\n                return fn.call(this, ...args);\n            } catch (ex) {\n                throw (exception = ex);\n            } finally {\n                _stack.pop();\n                if (_stack.length === 0 && exception === _NO_EXCEPTION) effect();\n            }\n        } as typeof fn;\n\n    return struct<EffectStack<Effect>>({\n        bind: enumerable(_bindFn),\n        effect: enumerable(effect),\n    });\n};\n\nexport default createEffectStack;\n","import { InteractionKeyCode } from '../../../../types';\nimport {\n    CALENDAR_CONTROLS,\n    CALENDAR_SELECTIONS,\n    CONTROLS_ALL,\n    CONTROLS_MINIMAL,\n    CONTROLS_NONE,\n    CURSOR_BACKWARD,\n    CURSOR_BLOCK_END,\n    CURSOR_BLOCK_START,\n    CURSOR_DOWNWARD,\n    CURSOR_FORWARD,\n    CURSOR_LINE_END,\n    CURSOR_LINE_START,\n    CURSOR_NEXT_BLOCK,\n    CURSOR_PREV_BLOCK,\n    CURSOR_UPWARD,\n    FIRST_WEEK_DAYS,\n    FRAME_SIZES,\n    SELECT_MANY,\n    SELECT_NONE,\n    SELECT_ONE,\n    SELECTION_COLLAPSE,\n    SELECTION_FROM,\n    SELECTION_TO,\n    SHIFT_BLOCK,\n    SHIFT_FRAME,\n    SHIFT_PERIOD,\n} from '../constants';\nimport { withTimezone } from '../utils';\nimport { MonthFrame, TimeFrame /* , YearFrame */ } from '../timeframe';\nimport { createIndexed } from '../../../../../primitives/auxiliary/indexed';\nimport { createEffectStack, EffectStack } from '../../../../../primitives/reactive/effectStack';\nimport { systemToTimezone, timezoneToSystem } from '../../../../../core/Localization/datetime/restamper';\nimport today from '../../../../../primitives/time/today';\nimport {\n    createWatchlist,\n    isWatchlistUnsubscribeToken,\n    WatchList,\n    WatchListCallable,\n    WatchListSubscriptionCallback,\n} from '../../../../../primitives/reactive/watchlist';\nimport {\n    boolify,\n    boolOrTrue,\n    EMPTY_OBJECT,\n    isBitSafeInteger,\n    isFunction,\n    isNullish,\n    isString,\n    isUndefined,\n    noop,\n    pickFrom,\n    struct,\n    structFrom,\n    withFreezeProxyHandlers,\n} from '../../../../../utils';\nimport {\n    CalendarConfig,\n    CalendarDayOfWeekData,\n    CalendarGrid,\n    CalendarGridControlRecord,\n    CalendarSelection,\n    CalendarShiftControl,\n    CalendarShiftControlFlag,\n    CalendarShiftControlsFlag,\n    CalendarWatchAtoms,\n} from '../types';\n\nexport default class Calendar {\n    grid: CalendarGrid;\n    kill: () => void;\n    #config = EMPTY_OBJECT as CalendarConfig;\n    #destructed = false;\n    #frame?: TimeFrame;\n    #highlightFrom?: number;\n    #highlightTo?: number;\n    #highlightInProgress = false;\n    #highlightSelection?: CalendarSelection = SELECT_NONE;\n    #pendingWatchNotification = false;\n    #rangeOffsets?: [number, number, number, number, number, number];\n    #lastHighlightRange?: string = this.#rangeOffsets?.join(' ');\n\n    #cursorIndexFromEvent?: CalendarGrid['config']['cursorIndex'];\n    #shiftFactorFromEvent?: CalendarGrid['config']['shiftFactor'];\n    #watchCallback?: CalendarGrid['config']['watch'];\n    #watchableEffect?: () => void;\n    #unwatch?: () => void;\n\n    #today = today();\n    #shiftControlsHandles: CalendarGridControlRecord[1][] = [];\n    #shiftControlsList?: CalendarShiftControl[];\n\n    #shiftControls = new Proxy(\n        createIndexed(() => this.#shiftControlsList?.length ?? 0, this.#getShiftControlRecordAtIndex.bind(this)),\n        withFreezeProxyHandlers({\n            get: (target: {}, property: string | symbol, receiver: {}): any => {\n                const index = this.#shiftControlsList?.indexOf(property as CalendarShiftControl) ?? -1;\n                return index >= 0 ? this.#getShiftControlRecordAtIndex(index)?.[1] : Reflect.get(target, property, receiver);\n            },\n        })\n    ) as CalendarGrid['controls'];\n\n    #watchlist?: WatchList<CalendarWatchAtoms> = createWatchlist({\n        blocks: () => this.#frame?.size,\n        cells: () => this.#frame?.units,\n        controls: () => pickFrom(CALENDAR_CONTROLS, this.#config.controls),\n        cursor: () => this.#frame?.cursor,\n        from: () => this.#frame?.selectionStart,\n        highlight: () => this.#highlightSelection,\n        locale: () => this.#frame?.locale,\n        minified: () => boolify(this.#config.minified),\n        origin: () => this.#frame?.getTimestampAtIndex(0),\n        timezone: () => this.#frame?.timezone,\n        to: () => this.#frame?.selectionEnd,\n        today: () => this.#today.timestamp,\n    });\n\n    #lastWatchableSnapshot?: CalendarWatchAtoms = this.#watchlist?.snapshot;\n\n    #chainedNotifyEffectStack?: EffectStack = createEffectStack(() => this.#watchCallback && this.#watchlist?.requestNotification());\n\n    #chainedWatchEffectStack?: EffectStack = createEffectStack(() => this.#watchCallback?.call(this.#currentConfig));\n\n    #grid = structFrom(\n        createIndexed(\n            () => this.#frame?.size ?? 0,\n            index => this.#frame?.frameBlocks[index]\n        ),\n        {\n            config: {\n                value: Object.defineProperties(\n                    (config?: CalendarConfig) => {\n                        config && this.#configure(config);\n                        return this.#currentConfig;\n                    },\n                    {\n                        cursorIndex: {\n                            get: () => this.#cursorIndexFromEvent,\n                            set: (fn: CalendarGrid['config']['cursorIndex'] | null | undefined) => {\n                                if (this.#destructed) return;\n                                if (isNullish(fn)) this.#cursorIndexFromEvent = undefined;\n                                else if (isFunction(fn)) this.#cursorIndexFromEvent = fn;\n                            },\n                        },\n                        shiftFactor: {\n                            get: () => this.#shiftFactorFromEvent,\n                            set: (fn: CalendarGrid['config']['shiftFactor'] | null | undefined) => {\n                                if (this.#destructed) return;\n                                if (isNullish(fn)) this.#shiftFactorFromEvent = undefined;\n                                else if (isFunction(fn)) this.#shiftFactorFromEvent = fn;\n                            },\n                        },\n                        watch: {\n                            get: () => this.#watchCallback,\n                            set: (fn: CalendarGrid['config']['watch'] | null | undefined) => {\n                                if (this.#destructed) return;\n                                if (isFunction(fn)) {\n                                    this.#watchCallback = fn;\n\n                                    if (!this.#watchableEffect) {\n                                        const watchCallback = this.#chainedNotifyEffectStack?.bind(Calendar.#watchableEffectCallback.bind(this));\n\n                                        if (watchCallback) {\n                                            this.#watchableEffect = this.#chainedNotifyEffectStack?.bind(noop);\n                                            this.#unwatch = this.#watchlist?.subscribe(this.#chainedWatchEffectStack?.bind(watchCallback));\n                                            this.#frame && (this.#frame.effect = this.#watchableEffect);\n                                        }\n                                    }\n\n                                    if (!this.#pendingWatchNotification) return;\n\n                                    this.#pendingWatchNotification = false;\n                                    this.#watchableEffect?.();\n                                } else if (isNullish(fn)) this.#watchCallback = undefined;\n                            },\n                        },\n                    }\n                ),\n            },\n            controls: { value: this.#shiftControls },\n            cursor: {\n                value: Object.defineProperties(\n                    (evt?: Event) => Calendar.#withNotifyEffect.call(this, (evt?: Event) => !!(evt && this.#cursorHandle(evt)))(evt),\n                    {\n                        valueOf: { value: () => this.#frame?.cursor ?? -1 },\n                    }\n                ),\n            },\n            highlight: {\n                value: (() => {\n                    const blank = () => this.#highlightFrom === this.#highlightTo && isUndefined(this.#highlightTo);\n\n                    const setter = (selection: typeof SELECTION_FROM | typeof SELECTION_TO) => (time?: number | null) =>\n                        Calendar.#withNotifyEffect.call(this, (time?: number | null) => {\n                            if (this.#destructed || !this.#highlightSelection || this.#highlightSelection === SELECT_NONE) return;\n                            if (isNullish(time)) return this.#clearHighlight();\n\n                            if (!blank()) {\n                                this.#frame?.updateSelection(time, selection);\n                                if (this.#highlightSelection === SELECT_MANY && this.#rangeOffsets) {\n                                    this.#rangeHighlight(time, selection === SELECTION_FROM ? SELECTION_TO : SELECTION_FROM, this.#rangeOffsets);\n                                }\n                            } else this.#frame?.updateSelection(time, SELECTION_COLLAPSE);\n\n                            this.#highlightFrom = this.#frame?.selectionStart;\n                            this.#highlightTo = this.#frame?.selectionEnd;\n                            this.#frame?.shiftFrameToTimestamp(selection === SELECTION_FROM ? this.#highlightFrom : this.#highlightTo);\n                        })(time);\n\n                    return struct({\n                        blank: { get: blank },\n                        from: {\n                            get: () => this.#frame?.selectionStart ?? this.#highlightFrom,\n                            set: setter(SELECTION_FROM),\n                        },\n                        to: {\n                            get: () => this.#frame?.selectionEnd ?? this.#highlightTo,\n                            set: setter(SELECTION_TO),\n                        },\n                    });\n                })(),\n            },\n            rowspan: { get: () => this.#frame?.rowspan ?? 0 },\n            weekdays: { get: () => this.#frame?.daysOfWeek ?? Calendar.#DAYS_OF_WEEK_FALLBACK },\n        }\n    ) as CalendarGrid;\n\n    static #RANGE_OFFSETS_FORMAT_REGEX = /^(?:0|[1-9]\\d*)(\\s+(?:0|[1-9]\\d*)?){0,5}?$/;\n    static #CURSOR_POINTER_INTERACTION_EVENTS = ['click', 'mouseover', 'pointerover'];\n    static #DAYS_OF_WEEK_FALLBACK = createIndexed(0, noop as () => CalendarDayOfWeekData);\n    static #SHIFT_ACTIVATION_KEYS = [InteractionKeyCode.ENTER, InteractionKeyCode.SPACE];\n    static #SHIFT_ALL_CONTROLS = Object.keys(CalendarShiftControlsFlag).filter(control => isNaN(+control)) as CalendarShiftControl[];\n    static #SHIFT_MINIMAL_CONTROLS = ['PREV', 'NEXT'] as CalendarShiftControl[];\n\n    static #getOffsetsFromRange(range?: string): [number, number, number, number, number, number] | undefined {\n        if (!isString(range)) return;\n        if (!Calendar.#RANGE_OFFSETS_FORMAT_REGEX.test(range)) return;\n        const offsets = range.split(/\\s+/);\n        return Array.from({ length: 6 }, (_, index) => parseInt(offsets[index] ?? '0')) as [number, number, number, number, number, number];\n    }\n\n    static #getShiftOffsetType(flags: number) {\n        switch (flags & ~CalendarShiftControlFlag.PREV) {\n            case CalendarShiftControlFlag.FRAME:\n                return SHIFT_FRAME;\n            case CalendarShiftControlFlag.PERIOD:\n                return SHIFT_PERIOD;\n            case CalendarShiftControlFlag.BLOCK:\n            default:\n                return SHIFT_BLOCK;\n        }\n    }\n\n    static #getShiftOffsetUnit(flags: number) {\n        return flags & CalendarShiftControlFlag.PREV ? -1 : 1;\n    }\n\n    static #watchableEffectCallback: WatchListSubscriptionCallback<CalendarWatchAtoms> = function (this: Calendar, snapshot) {\n        if (isWatchlistUnsubscribeToken(snapshot)) return;\n\n        let controlsChanged = false;\n        let highlightChanged = false;\n        let selectionChanged = false;\n        const highlightRange = this.#rangeOffsets?.join(' ');\n\n        for (const key of Object.keys(snapshot) as (keyof typeof snapshot)[]) {\n            if (snapshot[key] === this.#lastWatchableSnapshot?.[key]) continue;\n            if (key === 'controls') controlsChanged = true;\n            else if (key === 'highlight') highlightChanged = true;\n            else if (key === 'from' || key === 'to') selectionChanged = true;\n        }\n\n        if (this.#lastHighlightRange !== highlightRange) {\n            this.#lastHighlightRange = highlightRange;\n            highlightChanged = true;\n        }\n\n        this.#lastWatchableSnapshot = snapshot;\n\n        if (this.#highlightInProgress && !selectionChanged) this.#restoreHighlight();\n        if (controlsChanged) this.#refreshShiftControls();\n        if (highlightChanged) this.#refreshHighlighting();\n    };\n\n    static #withNotifyEffect<T extends WatchListCallable = WatchListCallable>(this: Calendar, fn: T) {\n        return this.#chainedNotifyEffectStack?.bind(fn) ?? fn;\n    }\n\n    constructor() {\n        this.grid = this.#grid;\n        this.kill = this.#destruct.bind(this);\n    }\n\n    get #currentConfig() {\n        return { ...this.#config } as CalendarConfig;\n    }\n\n    get #timeframe() {\n        // return (this.#config.minified as boolean) ? new YearFrame() : new MonthFrame();\n        return new MonthFrame();\n    }\n\n    #canShiftInDirection(shiftDirection: 1 | -1) {\n        return !!this.#frame && !(shiftDirection > 0 ? this.#frame.isAtEnd : this.#frame.isAtStart);\n    }\n\n    #configure(config: CalendarConfig) {\n        if (this.#destructed) return;\n\n        this.#rangeOffsets = undefined;\n\n        const highlight = config?.highlight;\n        const minified = boolify(this.#config.minified);\n\n        if (!isString(highlight)) {\n            this.#highlightSelection = pickFrom(CALENDAR_SELECTIONS, highlight, this.#highlightSelection);\n        } else if ((this.#rangeOffsets = Calendar.#getOffsetsFromRange(highlight))) {\n            this.#highlightSelection = SELECT_MANY;\n        }\n\n        this.#config = {\n            ...this.#config,\n            ...config,\n            blocks: pickFrom(FRAME_SIZES, config?.blocks, this.#config.blocks),\n            controls: pickFrom(CALENDAR_CONTROLS, config?.controls, this.#config.controls),\n            firstWeekDay: pickFrom(FIRST_WEEK_DAYS, config?.firstWeekDay, this.#config.firstWeekDay),\n            fixedBlockHeight: boolify(config?.fixedBlockHeight, this.#config.fixedBlockHeight),\n            highlight: this.#highlightSelection,\n            minified: boolify(config?.minified, this.#config.minified),\n            trackCurrentDay: boolify(config?.trackCurrentDay, this.#config.trackCurrentDay),\n        };\n\n        if (!isFunction(this.#watchCallback)) {\n            if (!this.#frame) {\n                this.#frame = this.#timeframe;\n                this.#reframe();\n                this.#refreshShiftControls();\n                this.#refreshHighlighting();\n            } else this.#pendingWatchNotification = true;\n\n            return;\n        }\n\n        if (!this.#frame || minified !== this.#config.minified) {\n            this.#frame = this.#timeframe;\n            this.#frame.effect = this.#watchableEffect;\n        }\n\n        this.#reframe();\n        this.#watchableEffect?.();\n    }\n\n    #cursorHandle(evt?: Event): true | undefined {\n        if (!(evt && this.#frame && isFunction(this.#watchCallback))) return;\n\n        if (evt instanceof KeyboardEvent) {\n            switch (evt.code) {\n                case InteractionKeyCode.ARROW_LEFT:\n                    this.#frame.shiftFrameCursor(CURSOR_BACKWARD);\n                    break;\n                case InteractionKeyCode.ARROW_RIGHT:\n                    this.#frame.shiftFrameCursor(CURSOR_FORWARD);\n                    break;\n                case InteractionKeyCode.ARROW_UP:\n                    this.#frame.shiftFrameCursor(CURSOR_UPWARD);\n                    break;\n                case InteractionKeyCode.ARROW_DOWN:\n                    this.#frame.shiftFrameCursor(CURSOR_DOWNWARD);\n                    break;\n                case InteractionKeyCode.HOME:\n                    this.#frame.shiftFrameCursor(evt.ctrlKey ? CURSOR_BLOCK_START : CURSOR_LINE_START);\n                    break;\n                case InteractionKeyCode.END:\n                    this.#frame.shiftFrameCursor(evt.ctrlKey ? CURSOR_BLOCK_END : CURSOR_LINE_END);\n                    break;\n                case InteractionKeyCode.PAGE_UP:\n                    evt.shiftKey ? this.#frame.shiftFrameByOffset(-1, SHIFT_PERIOD) : this.#frame.shiftFrameCursor(CURSOR_PREV_BLOCK);\n                    break;\n                case InteractionKeyCode.PAGE_DOWN:\n                    evt.shiftKey ? this.#frame.shiftFrameByOffset(1, SHIFT_PERIOD) : this.#frame.shiftFrameCursor(CURSOR_NEXT_BLOCK);\n                    break;\n                case InteractionKeyCode.SPACE:\n                case InteractionKeyCode.ENTER:\n                    this.#highlight();\n                    return true;\n                default:\n                    return;\n            }\n\n            this.#highlightInProgress && this.#highlight(EMPTY_OBJECT);\n            return true;\n        }\n\n        if (evt instanceof MouseEvent && Calendar.#CURSOR_POINTER_INTERACTION_EVENTS.includes(evt.type) && isFunction(this.#cursorIndexFromEvent)) {\n            const cursorIndex = this.#cursorIndexFromEvent.call(this.#currentConfig, evt);\n\n            if (!isBitSafeInteger(cursorIndex)) return;\n\n            const isClick = evt.type === 'click';\n\n            if (!(isClick || this.#highlightInProgress)) return;\n            this.#frame.shiftFrameCursor(cursorIndex);\n\n            if (this.#frame.cursor === cursorIndex) {\n                isClick ? this.#highlight() : this.#highlight(EMPTY_OBJECT);\n                return true;\n            }\n        }\n    }\n\n    #destruct() {\n        if (this.#destructed) return;\n\n        this.#unwatch?.();\n\n        this.#chainedNotifyEffectStack =\n            this.#chainedWatchEffectStack =\n            this.#cursorIndexFromEvent =\n            this.#frame =\n            this.#highlightSelection =\n            this.#lastHighlightRange =\n            this.#lastWatchableSnapshot =\n            this.#rangeOffsets =\n            this.#shiftFactorFromEvent =\n            this.#unwatch =\n            this.#watchlist =\n            this.#watchableEffect =\n            this.#watchCallback =\n                undefined;\n\n        this.#config = EMPTY_OBJECT;\n        this.#highlightInProgress = this.#pendingWatchNotification = false;\n        this.#destructed = true;\n    }\n\n    #getShiftControlRecordAtIndex(index: number): CalendarGridControlRecord | undefined {\n        if (!this.#shiftControlsList || index < 0 || index >= this.#shiftControlsList.length) return;\n\n        const control = this.#shiftControlsList[index] as CalendarShiftControl;\n\n        if (!this.#shiftControlsHandles[index]) {\n            const flags = CalendarShiftControlsFlag[control];\n            const shiftOffsetType = Calendar.#getShiftOffsetType(flags);\n            const shiftOffsetUnit = Calendar.#getShiftOffsetUnit(flags);\n\n            this.#shiftControlsHandles[index] = (...args: any[]) =>\n                Calendar.#withNotifyEffect.call(this, (...args: any[]) => {\n                    const canShift = this.#canShiftInDirection(shiftOffsetUnit);\n                    if (!(canShift && args.length)) return canShift;\n\n                    const shiftFactor = this.#getShiftFactorFromEvent(control, args[0] as Event);\n                    if (isUndefined(shiftFactor)) return false;\n\n                    this.#frame?.shiftFrameByOffset(shiftOffsetUnit * shiftFactor, shiftOffsetType);\n                    return true;\n                })(...args);\n        }\n\n        return [control, this.#shiftControlsHandles[index] as CalendarGridControlRecord[1]];\n    }\n\n    #getShiftFactorFromEvent(target: CalendarShiftControl, evt?: Event): number | undefined {\n        if (!(this.#frame && isFunction(this.#watchCallback))) return;\n\n        if (evt instanceof MouseEvent) {\n            if (evt.type !== 'click') return;\n        } else if (evt instanceof KeyboardEvent) {\n            if (!Calendar.#SHIFT_ACTIVATION_KEYS.includes(evt.code as InteractionKeyCode)) return;\n        } else return;\n\n        let shiftFactor = 1;\n\n        if (isFunction(this.#shiftFactorFromEvent)) {\n            const factor = Number(this.#shiftFactorFromEvent.call(this.#currentConfig, evt, target));\n            shiftFactor = Number.isInteger(factor) && factor >= 1 ? factor : shiftFactor;\n        }\n\n        return shiftFactor;\n    }\n\n    #highlight(secretFauxHighlightingHint?: any) {\n        if (this.#destructed || !this.#frame) return;\n\n        switch (this.#highlightSelection) {\n            case SELECT_MANY:\n            case SELECT_ONE:\n                break;\n            case SELECT_NONE:\n            default:\n                return;\n        }\n\n        const cursor = this.#frame.cursor;\n        const fromTimestamp = Math.max(this.#frame.getTimestampAtIndex(cursor), this.#frame.timeslice.from);\n        const toTimestamp = Math.min(this.#frame.getTimestampAtIndex(cursor + 1) - 1, this.#frame.timeslice.to);\n        const range = this.#rangeOffsets;\n\n        if (this.#highlightSelection === SELECT_ONE || this.#frame.blankSelection || range) {\n            this.#highlightInProgress = !(this.#highlightSelection === SELECT_ONE || range);\n\n            if (this.#highlightSelection === SELECT_MANY && range) {\n                const selectionDirection = toTimestamp >= (this.#frame.selectionEnd as number) ? SELECTION_FROM : SELECTION_TO;\n\n                selectionDirection === SELECTION_FROM\n                    ? this.#frame.updateSelection(toTimestamp, SELECTION_TO)\n                    : this.#frame.updateSelection(fromTimestamp, SELECTION_FROM);\n\n                this.#rangeHighlight(\n                    (selectionDirection === SELECTION_FROM ? this.#frame.selectionEnd : this.#frame.selectionStart) as number,\n                    selectionDirection,\n                    range\n                );\n            } else {\n                this.#frame.updateSelection(fromTimestamp, SELECTION_FROM);\n                this.#frame.updateSelection(toTimestamp, SELECTION_TO);\n            }\n        } else {\n            const isFauxHighlighting = secretFauxHighlightingHint === EMPTY_OBJECT;\n            const restamper = withTimezone(this.#frame.timezone);\n\n            if (!isFauxHighlighting) this.#highlightInProgress = false;\n\n            if (fromTimestamp <= this.#frame.selectionStart!) {\n                const selectionStartDay = new Date(timezoneToSystem(restamper, this.#frame.selectionStart!));\n                const selectionStartDayEndTimestamp = Math.min(\n                    systemToTimezone(restamper, selectionStartDay.setDate(selectionStartDay.getDate() + 1) - 1),\n                    this.#frame.timeslice.to\n                );\n\n                if (fromTimestamp === this.#frame.selectionStart! && toTimestamp <= selectionStartDayEndTimestamp) {\n                    this.#frame.updateSelection(toTimestamp, SELECTION_TO);\n                }\n\n                this.#frame.updateSelection(fromTimestamp, SELECTION_FROM);\n            } else {\n                const selectionEndDay = new Date(timezoneToSystem(restamper, this.#frame.selectionEnd!));\n                const selectionEndDayStartTimestamp = Math.max(\n                    systemToTimezone(restamper, selectionEndDay.setHours(0, 0, 0, 0)),\n                    this.#frame.timeslice.from\n                );\n\n                if (fromTimestamp <= this.#frame.selectionEnd! && fromTimestamp >= selectionEndDayStartTimestamp) {\n                    this.#frame.updateSelection(fromTimestamp, SELECTION_FROM);\n                }\n\n                this.#frame.updateSelection(toTimestamp, SELECTION_TO);\n            }\n\n            if (isFauxHighlighting) return;\n        }\n\n        this.#highlightFrom = this.#frame.selectionStart;\n        this.#highlightTo = this.#frame.selectionEnd;\n    }\n\n    #clearHighlight() {\n        this.#frame?.clearSelection();\n        this.#highlightInProgress = false;\n        this.#highlightFrom = this.#highlightTo = undefined;\n    }\n\n    #rangeHighlight(\n        time: number,\n        selectionDirection: typeof SELECTION_FROM | typeof SELECTION_TO,\n        rangeOffsets?: [number, number, number, number, number, number]\n    ) {\n        if (!this.#frame) return;\n\n        const restamper = withTimezone(this.#frame?.timezone);\n        const restampedDate = new Date(timezoneToSystem(restamper, time));\n        const direction = selectionDirection === SELECTION_FROM ? -1 : 1;\n        const [years = 0, months = 0, days = 0, hours = 0, minutes = 0, seconds = 0] = rangeOffsets ?? [];\n\n        restampedDate.setFullYear(\n            restampedDate.getFullYear() + years * direction,\n            restampedDate.getMonth() + months * direction,\n            restampedDate.getDate() + days * direction\n        );\n        restampedDate.setHours(\n            restampedDate.getHours() + hours * direction,\n            restampedDate.getMinutes() + minutes * direction,\n            restampedDate.getSeconds() + seconds * direction\n        );\n\n        this.#frame.updateSelection(systemToTimezone(restamper, restampedDate.getTime() - direction), selectionDirection);\n    }\n\n    #restoreHighlight() {\n        this.#highlightFrom && this.#frame?.updateSelection(this.#highlightFrom, SELECTION_FROM);\n        this.#highlightTo && this.#frame?.updateSelection(this.#highlightTo, SELECTION_TO);\n        this.#highlightInProgress = false;\n    }\n\n    #reframe() {\n        if (!this.#frame) return;\n\n        this.#frame.timeslice = this.#config.timeslice;\n        this.#frame.dynamicBlockHeight = !this.#config.fixedBlockHeight;\n        this.#frame.firstWeekDay = this.#config.firstWeekDay;\n        this.#frame.locale = this.#config.locale;\n        this.#frame.size = this.#config.blocks;\n        this.#frame.timezone = this.#config.timezone;\n        this.#frame.trackCurrentDay = this.#config.trackCurrentDay;\n        this.#today = today(this.#frame.timezone);\n\n        this.#restoreHighlight();\n    }\n\n    #refreshHighlighting() {\n        switch (this.#highlightSelection) {\n            case SELECT_MANY:\n                if (!boolOrTrue(this.#frame?.blankSelection) && this.#rangeOffsets) {\n                    this.#rangeHighlight(this.#frame?.selectionStart!, SELECTION_TO, this.#rangeOffsets);\n                }\n                break;\n            case SELECT_ONE:\n                if (!boolOrTrue(this.#frame?.blankSelection)) {\n                    const restamper = withTimezone(this.#frame?.timezone);\n                    const restampedDate = new Date(timezoneToSystem(restamper, this.#frame?.selectionStart!));\n                    this.#frame?.updateSelection(systemToTimezone(restamper, restampedDate.setHours(23, 59, 59, 999)), SELECTION_TO);\n                }\n                break;\n            case SELECT_NONE:\n            default:\n                this.#clearHighlight();\n                return;\n        }\n    }\n\n    #refreshShiftControls() {\n        switch (this.#watchlist?.snapshot.controls) {\n            case CONTROLS_ALL:\n                this.#shiftControlsList = Calendar.#SHIFT_ALL_CONTROLS;\n                break;\n            case CONTROLS_MINIMAL:\n                this.#shiftControlsList = Calendar.#SHIFT_MINIMAL_CONTROLS;\n                break;\n            case CONTROLS_NONE:\n            default:\n                this.#shiftControlsList = undefined;\n        }\n\n        this.#shiftControlsHandles.length = 0;\n        this.#shiftControlsHandles.length = this.#shiftControlsList?.length ?? 0;\n    }\n}\n","import Calendar from './Calendar';\nimport { CONTROLS_ALL, CONTROLS_MINIMAL, CONTROLS_NONE, RANGE_FROM, RANGE_TO, SELECT_MANY, SELECT_NONE, SELECT_ONE } from '../constants';\nimport { ALREADY_RESOLVED_PROMISE, enumerable, isFunction, isNumber, struct } from '../../../../../utils';\nimport timeslice, { sinceNow, UNBOUNDED_SLICE, untilNow } from '../timeslice';\nimport { CalendarFacade } from '../types';\n\nconst calendar = (() => {\n    const calendar = (init => {\n        const { grid, kill } = new Calendar();\n\n        if (isNumber(init)) grid.config({ blocks: init });\n        else if (isFunction(init))\n            ALREADY_RESOLVED_PROMISE.then(() => {\n                grid.config.watch = init;\n            });\n        else grid.config(init);\n\n        return struct({\n            grid: enumerable(grid),\n            kill: enumerable(kill),\n        }) as ReturnType<CalendarFacade>;\n    }) as CalendarFacade;\n\n    return Object.defineProperties(calendar, {\n        controls: {\n            value: struct({\n                ALL: { value: CONTROLS_ALL },\n                MINIMAL: { value: CONTROLS_MINIMAL },\n                NONE: { value: CONTROLS_NONE },\n            }),\n        },\n        highlight: {\n            value: struct({\n                ONE: { value: SELECT_ONE },\n                MANY: { value: SELECT_MANY },\n                NONE: { value: SELECT_NONE },\n            }),\n        },\n        slice: {\n            value: Object.defineProperties(timeslice.bind(null), {\n                FROM: { value: RANGE_FROM },\n                TO: { value: RANGE_TO },\n                UNBOUNDED: { value: UNBOUNDED_SLICE },\n                SINCE_NOW: { get: sinceNow },\n                UNTIL_NOW: { get: untilNow },\n            }),\n        },\n    });\n})();\n\nexport default calendar;\n","import { memo } from 'preact/compat';\nimport { CalendarControlsProps } from './types';\nimport calendar from '../../calendar';\nimport { isFunction } from '../../../../../utils';\n\nconst CalendarControls = ({ config, grid: { controls }, renderer }: CalendarControlsProps) => {\n    if (config.controls === calendar.controls.NONE || !isFunction(renderer)) return null;\n    return <>{controls.map(([control, handle]) => renderer(control, handle))}</>;\n};\n\nexport default memo(CalendarControls);\n","import { useCallback } from 'preact/hooks';\nimport { ALREADY_RESOLVED_PROMISE } from '../../utils';\nimport type { ReflexAction } from '../../primitives/reactive/reflex';\nimport useReflex from '../useReflex';\n\nconst useFocusCursor = (callback?: ReflexAction<Element>) => {\n    const finallyCallback = useCallback(\n        ((current, previous) => {\n            if (previous instanceof Element) previous.setAttribute('tabindex', '-1');\n            if (current instanceof Element) {\n                current.setAttribute('tabindex', '0');\n                // schedule a microtask to focus the current element\n                ALREADY_RESOLVED_PROMISE.then(() => (current as HTMLElement)?.focus());\n            }\n        }) as ReflexAction<Element>,\n        []\n    );\n\n    return useReflex<Element>(\n        useCallback(\n            (current, previous) => {\n                try {\n                    callback?.(current, previous);\n                } finally {\n                    finallyCallback(current, previous);\n                }\n            },\n            [callback]\n        )\n    );\n};\n\nexport default useFocusCursor;\n","import { Ref } from 'preact';\nimport { useCallback, useEffect, useImperativeHandle, useMemo, useRef, useState } from 'preact/hooks';\nimport useCoreContext from '../../../../core/Context/useCoreContext';\nimport type { ReflexAction } from '../../../../primitives/reactive/reflex';\nimport { getDateObjectFromTimestamp } from '../calendar/utils';\nimport { EMPTY_OBJECT, isFunction } from '../../../../utils';\nimport { CalendarGridCursorRootProps, CalendarHandle, CalendarProps } from '../types';\nimport useFocusCursor from '../../../../hooks/element/useFocusCursor';\nimport calendar from '../calendar';\n\nconst useCalendar = (\n    {\n        blocks,\n        controls,\n        dynamicBlockRows,\n        firstWeekDay,\n        highlight,\n        locale,\n        onHighlight,\n        originDate,\n        renderControl,\n        sinceDate,\n        timezone,\n        trackCurrentDay,\n        untilDate,\n        useYearView,\n    }: CalendarProps,\n    ref: Ref<unknown>\n) => {\n    const { i18n } = useCoreContext();\n    const [lastMutationTimestamp, setLastMutationTimestamp] = useState<DOMHighResTimeStamp>(performance.now());\n    const timeslice = useMemo(() => calendar.slice(sinceDate, untilDate), [sinceDate, untilDate]);\n    const config = useRef<ReturnType<typeof grid.config>>(EMPTY_OBJECT);\n\n    const activeControls = useMemo(\n        () => controls ?? (isFunction(renderControl) ? calendar.controls.MINIMAL : calendar.controls.NONE),\n        [controls, renderControl]\n    );\n\n    const activeHighlight = useMemo(\n        () => highlight ?? (isFunction(onHighlight) ? calendar.highlight.ONE : calendar.highlight.NONE),\n        [highlight, onHighlight]\n    );\n\n    const { grid, kill } = useMemo(() => {\n        const { grid, kill } = calendar(function () {\n            setLastMutationTimestamp(performance.now());\n            config.current = this;\n\n            if (highlightStart === grid.highlight.from && highlightEnd === grid.highlight.to) return;\n\n            highlightStart = grid.highlight.from;\n            highlightEnd = grid.highlight.to;\n            onHighlight?.(highlightStart, highlightEnd);\n        });\n\n        let { from: highlightStart, to: highlightEnd } = grid.highlight;\n\n        grid.config.cursorIndex = (evt: Event): number | undefined => {\n            let element: HTMLElement | null = evt.target as HTMLElement;\n\n            while (element && element !== evt.currentTarget) {\n                const index = Number(element.dataset.cursorPosition);\n                if (Number.isFinite(index)) return index;\n                element = element.parentNode as HTMLElement;\n            }\n        };\n\n        grid.config.shiftFactor = function (evt: Event) {\n            if (this.controls !== calendar.controls.MINIMAL) return;\n            if ((evt as MouseEvent)?.shiftKey) return 12;\n            if ((evt as MouseEvent)?.altKey) return this.blocks;\n            return 1;\n        };\n\n        return { grid, kill };\n    }, []);\n\n    const cursorRootProps = useMemo(() => {\n        const pointerHandle = (evt: Event) => {\n            grid.cursor(evt);\n        };\n\n        return {\n            onClickCapture: pointerHandle,\n            onMouseOverCapture: pointerHandle,\n            onPointerOverCapture: pointerHandle,\n            onKeyDownCapture: (evt: KeyboardEvent) => {\n                grid.cursor(evt) && evt.preventDefault();\n            },\n        } as CalendarGridCursorRootProps;\n    }, [grid]);\n\n    const cursorElementRef = useFocusCursor(\n        useCallback(\n            ((current, previous) => {\n                if (previous instanceof Element) previous.removeAttribute('aria-selected');\n                if (current instanceof Element) current.setAttribute('aria-selected', 'true');\n            }) as ReflexAction<Element>,\n            []\n        )\n    );\n\n    useImperativeHandle(\n        ref,\n        () => {\n            const { from, to } = grid?.highlight || EMPTY_OBJECT;\n            return {\n                clear: () => {\n                    grid?.highlight && (grid.highlight.from = undefined);\n                },\n                get config() {\n                    return { ...(config.current ?? EMPTY_OBJECT) };\n                },\n                get from() {\n                    return getDateObjectFromTimestamp(from);\n                },\n                set from(date) {\n                    grid?.highlight && date && (grid.highlight.from = date.getTime());\n                },\n                get to() {\n                    return getDateObjectFromTimestamp(to);\n                },\n                set to(date) {\n                    grid?.highlight && date && (grid.highlight.to = date.getTime());\n                },\n            } as CalendarHandle;\n        },\n        [grid, lastMutationTimestamp]\n    );\n\n    useEffect(() => {\n        grid.config({\n            blocks,\n            controls: activeControls,\n            firstWeekDay,\n            fixedBlockHeight: !dynamicBlockRows,\n            highlight: activeHighlight,\n            locale: locale ?? i18n.locale,\n            minified: useYearView,\n            timeslice,\n            timezone,\n            trackCurrentDay,\n        });\n    }, [\n        activeControls,\n        activeHighlight,\n        blocks,\n        dynamicBlockRows,\n        firstWeekDay,\n        grid,\n        i18n,\n        locale,\n        timeslice,\n        timezone,\n        trackCurrentDay,\n        useYearView,\n    ]);\n\n    useEffect(() => {\n        const origins = ([] as number[])\n            .concat(originDate as ConcatArray<number>)\n            .slice(0, 2)\n            .map(Number)\n            .filter(Boolean);\n        if (origins[0]) grid.highlight.from = +origins[0];\n        if (origins[1]) grid.highlight.to = +origins[1];\n        return kill;\n    }, []);\n\n    return { cursorElementRef, cursorRootProps, grid };\n};\n\nexport default useCalendar;\n","import { forwardRef, memo } from 'preact/compat';\nimport CalendarGrid from './components/CalendarGrid';\nimport CalendarControls from './components/CalendarControls';\nimport useCalendar from './hooks/useCalendar';\nimport { CalendarProps } from './types';\nimport './Calendar.scss';\n\nconst Calendar = forwardRef((props: CalendarProps, ref) => {\n    const calendar = useCalendar(props, ref);\n    const config = calendar.grid.config();\n\n    return (\n        <div role=\"none\">\n            <CalendarControls config={config} grid={calendar.grid} renderer={props.renderControl} />\n            <CalendarGrid\n                ref={calendar.cursorElementRef}\n                config={config}\n                cursorRootProps={calendar.cursorRootProps}\n                grid={calendar.grid}\n                onlyCellsWithin={props.onlyCellsWithin}\n                prepare={props.prepare}\n            />\n        </div>\n    );\n});\n\nexport default memo(Calendar);\n","import { VNode } from 'preact';\nimport { createPortal } from 'preact/compat';\nimport { useMemo, useState } from 'preact/hooks';\nimport type { Reflexable } from '../../primitives/reactive/reflex';\nimport type { Nullable } from '../../utils/types';\nimport useReflex from '../useReflex';\n\nconst useDetachedRender = (callback: (targetElement: Element, ...args: any[]) => VNode | null, targetRef?: Nullable<Reflexable<Element>>) => {\n    const [render, setRender] = useState<(...args: any[]) => VNode | null>();\n\n    const renderTarget = useReflex<Element>(\n        useMemo(() => {\n            const render =\n                (targetElement: Element) =>\n                (...args: any[]) => {\n                    const jsx = callback(targetElement, ...args);\n                    return jsx && createPortal(jsx, targetElement);\n                };\n\n            setRender(undefined);\n\n            return targetElement => setRender(targetElement instanceof Element ? () => render(targetElement) : undefined);\n        }, [callback, targetRef]),\n        targetRef\n    );\n\n    return [render, renderTarget] as const;\n};\n\nexport default useDetachedRender;\n","import { ButtonVariant } from '../../Button/types';\nimport { useCallback } from 'preact/hooks';\nimport { isFunction } from '../../../../utils';\nimport ChevronDown from '../../SVGIcons/ChevronDown';\nimport ChevronUp from '../../SVGIcons/ChevronUp';\nimport { CalendarControlRenderer, CalendarRenderControl } from '../types';\nimport useCoreContext from '../../../../core/Context/useCoreContext';\nimport useDetachedRender from '../../../../hooks/element/useDetachedRender';\nimport Button from '../../Button';\n\nconst useCalendarControlsRendering = (renderControl?: CalendarRenderControl) => {\n    const { i18n } = useCoreContext();\n\n    return useDetachedRender(\n        useCallback(\n            ((targetElement, control, handle) => {\n                if (!(targetElement instanceof HTMLElement)) return null;\n                if (isFunction(renderControl)) return renderControl(control, handle);\n\n                let directionModifier: string;\n                let labelModifier: 'next' | 'previous';\n                let Chevron: typeof ChevronDown | typeof ChevronUp;\n\n                switch (control) {\n                    case 'PREV':\n                        directionModifier = 'prev';\n                        labelModifier = 'previous';\n                        Chevron = ChevronUp;\n                        break;\n                    case 'NEXT':\n                        directionModifier = labelModifier = 'next';\n                        Chevron = ChevronDown;\n                        break;\n                    default:\n                        return null;\n                }\n\n                const shouldRenderControl = handle();\n\n                return shouldRenderControl ? (\n                    <Button\n                        aria-label={i18n.get(`calendar.${labelModifier}Month`)}\n                        variant={ButtonVariant.TERTIARY}\n                        disabled={!shouldRenderControl}\n                        classNameModifiers={['circle', directionModifier]}\n                        iconButton={true}\n                        key={control}\n                        onClick={handle}\n                    >\n                        <Chevron role=\"presentation\" />\n                    </Button>\n                ) : null;\n            }) as CalendarControlRenderer,\n            [i18n, renderControl]\n        )\n    );\n};\n\nexport default useCalendarControlsRendering;\n","import cx from 'classnames';\nimport { forwardRef } from 'preact/compat';\nimport { useCallback, useMemo, useState } from 'preact/hooks';\nimport { Ref } from 'preact';\nimport useCoreContext from '../../../core/Context/useCoreContext';\nimport { boolOrTrue, EMPTY_OBJECT, noop } from '../../../utils';\nimport useReflex from '../../../hooks/useReflex';\nimport useTimezone from '../Calendar/hooks/useTimezone';\nimport { DEFAULT_FIRST_WEEK_DAY } from '../Calendar/calendar/timerange/presets/shared/offsetWeek';\nimport { DateFilterProps } from '../FilterBar/filters/DateFilter/types';\nimport TimeRangeSelector from './components/TimeRangeSelector';\nimport Calendar from '../Calendar';\nimport calendar from '../Calendar/calendar';\nimport useCalendarControlsRendering from '../Calendar/hooks/useCalendarControlsRendering';\nimport { CalendarHandle, CalendarProps } from '../Calendar/types';\nimport './DatePicker.scss';\n\nexport type DatePickerProps = CalendarProps &\n    Pick<DateFilterProps, 'now' | 'selectedPresetOption' | 'showTimezoneInfo' | 'timeRangePresetOptions' | 'timezone'> & {\n        onPresetOptionSelected?: (option: string) => any;\n    };\n\nconst DatePicker = forwardRef((props: DatePickerProps, ref) => {\n    const { i18n } = useCoreContext();\n    const [controlsRenderer, controlsContainerRef] = useCalendarControlsRendering(props.renderControl);\n    const [lastUpdatedTimestamp, setLastUpdatedTimestamp] = useState<DOMHighResTimeStamp>(performance.now());\n\n    const withTimezone = useMemo(() => boolOrTrue(props.showTimezoneInfo), [props.showTimezoneInfo]);\n    const { clockTime: time, GMTOffset: offset } = useTimezone({ timezone: props.timezone, withClock: withTimezone });\n\n    const datePickerClassName = useMemo(() => cx([{ 'adyen-pe-datepicker--with-timezone': withTimezone }, 'adyen-pe-datepicker']), [withTimezone]);\n    const timezoneI18nOptions = useMemo(() => (withTimezone ? { values: { offset, time } } : EMPTY_OBJECT), [offset, time, withTimezone]);\n\n    const calendarRef = useReflex<CalendarHandle>(noop, ref as Ref<CalendarHandle>);\n\n    const onHighlight = useCallback(() => {\n        setLastUpdatedTimestamp(performance.now());\n\n        if (calendarRef.current?.from && calendarRef.current?.to) {\n            props.onHighlight?.(+calendarRef.current?.from, +calendarRef.current?.to);\n        }\n    }, [setLastUpdatedTimestamp, props.onHighlight]);\n\n    return (\n        <div className={datePickerClassName}>\n            <div className={'adyen-pe-datepicker__selector-container'}>\n                <TimeRangeSelector\n                    now={props.now}\n                    calendarRef={calendarRef}\n                    onTimeRangeSelected={props.onPresetOptionSelected}\n                    options={props.timeRangePresetOptions}\n                    selectedOption={props.selectedPresetOption}\n                    timestamp={lastUpdatedTimestamp}\n                    timezone={props.timezone}\n                />\n            </div>\n            <div ref={controlsContainerRef} role=\"group\" className={'adyen-pe-datepicker__controls'} aria-label={i18n.get('calendar.controls')} />\n            <Calendar\n                {...props}\n                ref={calendarRef}\n                firstWeekDay={DEFAULT_FIRST_WEEK_DAY}\n                dynamicBlockRows={true}\n                onlyCellsWithin={true}\n                controls={props.controls ?? calendar.controls.MINIMAL}\n                highlight={props.highlight ?? calendar.highlight.MANY}\n                onHighlight={onHighlight}\n                renderControl={controlsRenderer}\n                trackCurrentDay={true}\n            />\n            {withTimezone && <div className={'adyen-pe-datepicker__timezone'}>{i18n.get('calendar.timezone', timezoneI18nOptions)}</div>}\n        </div>\n    );\n});\n\nexport default DatePicker;\n","import useButton from '../../../Button/hooks/useButton';\nimport { TypographyElement, TypographyVariant } from '../../../Typography/types';\nimport Typography from '../../../Typography/Typography';\nimport { fixedForwardRef, parseBooleanProp, parseClassName } from '../../../../../utils/preact';\nimport { ForwardedRef } from 'preact/compat';\nimport { useMemo } from 'preact/hooks';\nimport { FilterButtonProps } from './types';\nimport './FilterButton.scss';\n\nconst DEFAULT_FILTER_BUTTON_CLASSNAME = 'adyen-pe-filter-button';\n\nfunction FilterButton(\n    { className, classNameModifiers = [], children, disabled, onClick, ...restAttributes }: FilterButtonProps,\n    ref: ForwardedRef<HTMLButtonElement>\n) {\n    const classNameValue = useMemo(() => parseClassName('', className) || '', [className]);\n    const disabledValue = useMemo(() => parseBooleanProp(disabled), [disabled]);\n\n    const { classes, click } = useButton(classNameValue, classNameModifiers, DEFAULT_FILTER_BUTTON_CLASSNAME, disabledValue, onClick);\n\n    return (\n        <button className={classes} ref={ref} onClick={click} {...restAttributes}>\n            <Typography el={TypographyElement.DIV} variant={TypographyVariant.BODY} stronger={true}>\n                {children}\n            </Typography>\n        </button>\n    );\n}\nexport default fixedForwardRef(FilterButton);\n","import InputBase from './InputBase';\nimport { InputBaseProps } from './types';\nimport { ForwardedRef, forwardRef } from 'preact/compat';\n\nexport default forwardRef(function InputText(props: InputBaseProps, ref: ForwardedRef<HTMLInputElement | null>) {\n    return <InputBase classNameModifiers={props.classNameModifiers} {...props} ref={ref} aria-required={props.required} type=\"text\" />;\n});\n","import { mediaQueries, useResponsiveViewport } from '../../../../../hooks/useResponsiveViewport';\nimport FilterButton from '../../components/FilterButton/FilterButton';\nimport Popover from '../../../Popover/Popover';\nimport { PopoverContainerPosition, PopoverContainerVariant } from '../../../Popover/types';\nimport { TypographyElement, TypographyVariant } from '../../../Typography/types';\nimport Typography from '../../../Typography/Typography';\nimport useCommitAction, { CommitAction } from '../../../../../hooks/useCommitAction';\nimport useUniqueIdentifier from '../../../../../hooks/element/useUniqueIdentifier';\nimport { isEmptyString, isNull } from '../../../../../utils';\nimport { memo } from 'preact/compat';\nimport { MutableRef, useCallback, useEffect, useMemo, useState } from 'preact/hooks';\nimport { Ref } from 'preact';\nimport useBooleanState from '../../../../../hooks/useBooleanState';\nimport '../../../FormFields';\nimport InputText from '../../../FormFields/InputText';\nimport { BaseFilterProps, FilterEditModalRenderProps, FilterProps } from './types';\n\nconst isValueEmptyFallback = (value?: string) => {\n    return !value || isEmptyString(value);\n};\n\nconst renderFallback = (() => {\n    const DefaultEditModalBody = <T extends BaseFilterProps>(props: FilterEditModalRenderProps<T>) => {\n        const { editAction, name, onChange, onValueUpdated } = props;\n        const [currentValue, setCurrentValue] = useState(props.value);\n\n        const handleInput = useCallback(\n            (e: Event) => {\n                const value = (e.target as HTMLInputElement).value.trim();\n                setCurrentValue(value);\n                onValueUpdated(value);\n            },\n            [onValueUpdated]\n        );\n\n        useEffect(() => {\n            if (editAction === CommitAction.CLEAR) {\n                const value = '';\n                setCurrentValue(value);\n                onValueUpdated(value);\n                onChange(value);\n            }\n\n            if (editAction === CommitAction.APPLY) {\n                onChange(currentValue ?? '');\n            }\n        }, [currentValue, editAction, onChange, onValueUpdated]);\n\n        return <InputText name={name} value={currentValue} onInput={handleInput} />;\n    };\n\n    return <T extends BaseFilterProps>(props: FilterEditModalRenderProps<T>) => <DefaultEditModalBody<T> {...props} />;\n})();\n\nconst BaseFilter = <T extends BaseFilterProps = BaseFilterProps>({ render, ...props }: FilterProps<T>) => {\n    const isSmViewport = useResponsiveViewport(mediaQueries.down.xs);\n    const [editMode, _updateEditMode] = useBooleanState(false);\n    const [editModalMounting, updateEditModalMounting] = useBooleanState(false);\n    const isValueEmpty = useMemo(() => props.isValueEmpty ?? isValueEmptyFallback, [props.isValueEmpty]);\n    const [hasEmptyValue, updateHasEmptyValue] = useBooleanState(isValueEmpty(props.value));\n    const [hasInitialValue, updateHasInitialValue] = useBooleanState(false);\n    const [valueChanged, updateValueChanged] = useBooleanState(false);\n    const [disabledApply, updateDisabledApply] = useBooleanState(isValueEmpty(props.value));\n    const targetElement = useUniqueIdentifier() as NonNullable<MutableRef<Element | null>>;\n\n    const renderModalBody = useMemo(() => render ?? renderFallback<T>, [render]);\n\n    const onValueUpdated = useCallback(\n        (currentValue?: string | null) => {\n            const hasEmptyValue = isValueEmpty(currentValue ?? undefined);\n            updateHasEmptyValue(hasEmptyValue);\n            updateDisabledApply(isNull(currentValue));\n            updateValueChanged(hasInitialValue ? currentValue !== props.value : !hasEmptyValue);\n        },\n        [isValueEmpty, updateHasEmptyValue, updateDisabledApply, updateValueChanged, hasInitialValue, props.value]\n    );\n\n    const { commitAction, commitActionButtons, committing, resetCommitAction } = useCommitAction({\n        applyDisabled: disabledApply || !valueChanged,\n        resetDisabled: hasEmptyValue,\n    });\n\n    const [closeEditDialog, openEditDialog] = useMemo(() => {\n        const updateEditMode = (mode: boolean) => () => {\n            if (mode === editMode) return;\n\n            if (mode) {\n                resetCommitAction();\n                updateValueChanged(false);\n                updateHasInitialValue(false);\n            }\n\n            _updateEditMode(mode);\n            updateEditModalMounting(mode);\n        };\n\n        return [updateEditMode(false), updateEditMode(true)];\n    }, [_updateEditMode, editMode, resetCommitAction, updateEditModalMounting, updateHasInitialValue, updateValueChanged]);\n\n    useEffect(() => {\n        if (editModalMounting) {\n            const hasEmptyValue = isValueEmpty(props.value);\n            updateEditModalMounting(false);\n            updateHasEmptyValue(hasEmptyValue);\n            updateHasInitialValue(!hasEmptyValue);\n        }\n    }, [props.value, editModalMounting, isValueEmpty, updateEditModalMounting, updateHasEmptyValue, updateHasInitialValue]);\n\n    useEffect(() => {\n        committing && closeEditDialog();\n        updateHasEmptyValue(hasEmptyValue);\n    }, [committing, closeEditDialog, updateHasEmptyValue, hasEmptyValue]);\n    const isOnlySmDevice = useResponsiveViewport(mediaQueries.only.sm);\n    const isOnlyMdDevice = useResponsiveViewport(mediaQueries.only.md);\n\n    return (\n        <>\n            <div className={`adyen-pe-filter adyen-pe-filter--${props.type}`}>\n                {useMemo(\n                    () => (\n                        <FilterButton\n                            classNameModifiers={[\n                                ...(props.appliedFilterAmount ? ['with-counter'] : []),\n                                ...(props.classNameModifiers ?? []),\n                                ...(editMode ? ['active'] : []),\n                                ...(hasEmptyValue ? [] : ['has-selection']),\n                            ]}\n                            onClick={editMode ? closeEditDialog : openEditDialog}\n                            tabIndex={0}\n                            ref={targetElement as Ref<HTMLButtonElement>}\n                        >\n                            <div className=\"adyen-pe-filter-button__default-container\">\n                                <Typography\n                                    el={TypographyElement.SPAN}\n                                    variant={TypographyVariant.BODY}\n                                    stronger={true}\n                                    className=\"adyen-pe-filter-button__label\"\n                                >\n                                    {props.label}\n                                </Typography>\n                                {!!props.appliedFilterAmount && (\n                                    <div className=\"adyen-pe-filter-button__counter-wrapper\">\n                                        <Typography\n                                            el={TypographyElement.SPAN}\n                                            variant={TypographyVariant.BODY}\n                                            stronger={true}\n                                            className=\"adyen-pe-filter-button__counter\"\n                                        >\n                                            {props.appliedFilterAmount}\n                                        </Typography>\n                                    </div>\n                                )}\n                            </div>\n                        </FilterButton>\n                    ),\n                    [\n                        props.appliedFilterAmount,\n                        props.classNameModifiers,\n                        props.label,\n                        editMode,\n                        hasEmptyValue,\n                        closeEditDialog,\n                        openEditDialog,\n                        targetElement,\n                    ]\n                )}\n            </div>\n            {editMode && (\n                <Popover\n                    actions={commitActionButtons}\n                    title={props.title?.trim()}\n                    variant={PopoverContainerVariant.POPOVER}\n                    modifiers={['filter']}\n                    open={editMode}\n                    aria-label={`${props.label}`}\n                    dismiss={closeEditDialog}\n                    dismissible={false}\n                    withContentPadding={props.withContentPadding ?? true}\n                    divider={true}\n                    targetElement={targetElement}\n                    disableFocusTrap={false}\n                    position={PopoverContainerPosition.BOTTOM}\n                    containerSize={props.containerSize}\n                    showOverlay={isSmViewport}\n                    fitPosition={isOnlySmDevice || isOnlyMdDevice}\n                >\n                    {renderModalBody({ ...props, editAction: commitAction, onValueUpdated })}\n                </Popover>\n            )}\n        </>\n    );\n};\n\nexport default memo(BaseFilter);\n","import { UseTimeRangeSelectionConfig } from '../../../DatePicker/components/TimeRangeSelector';\nimport { BaseFilterProps } from '../BaseFilter/types';\n\nexport const enum DateRangeFilterParam {\n    FROM = 'from',\n    TO = 'to',\n}\n\nexport interface DateFilterProps extends BaseFilterProps {\n    onChange: (params?: { [P in DateRangeFilterParam | 'selectedPresetOption']?: string }) => void;\n    sinceDate?: string;\n    untilDate?: string;\n    now?: UseTimeRangeSelectionConfig['now'];\n    selectedPresetOption?: string;\n    showTimezoneInfo?: boolean;\n    timeRangePresetOptions: UseTimeRangeSelectionConfig['options'];\n    timezone?: UseTimeRangeSelectionConfig['timezone'];\n    [DateRangeFilterParam.FROM]?: string;\n    [DateRangeFilterParam.TO]?: string;\n}\n","import Localization from '../../../../../core/Localization';\nimport useTimezoneAwareDateFormatting from '../../../../../hooks/useTimezoneAwareDateFormatting';\nimport { useCallback, useEffect, useMemo, useRef, useState } from 'preact/hooks';\nimport { BASE_LOCALE } from '../../../../../core/Localization/datetime/restamper/constants';\nimport { EMPTY_OBJECT } from '../../../../../utils';\nimport { CommitAction } from '../../../../../hooks/useCommitAction';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport { CalendarHandle } from '../../../Calendar/types';\nimport DatePicker from '../../../DatePicker';\nimport BaseFilter from '../BaseFilter';\nimport { FilterEditModalRenderProps, FilterProps } from '../BaseFilter/types';\nimport { DateFilterProps, DateRangeFilterParam } from './types';\nimport './DateFilterCore.scss';\n\nconst formattingOptions = {\n    month: 'short',\n    day: 'numeric',\n    year: 'numeric',\n} as const;\n\nconst computeDateFilterValue = (i18n: Localization['i18n'], fullDateFormat: Localization['fullDate'], fromDate?: string, toDate?: string) => {\n    const from = fromDate && fullDateFormat(fromDate);\n    const to = toDate && fullDateFormat(toDate);\n\n    if (from && to) return `${from} - ${to}`;\n    if (from) return i18n.get('filter.date.since', { values: { date: from } });\n    if (to) return i18n.get('filter.date.until', { values: { date: to } });\n};\n\nconst resolveDate = (date?: any) => {\n    try {\n        return new Date(date || '').toISOString();\n    } catch {\n        return '';\n    }\n};\n\nconst renderDateFilterModalBody = (() => {\n    const DateFilterEditModalBody = ({\n        editAction,\n        from,\n        to,\n        now,\n        onChange,\n        onValueUpdated,\n        showTimezoneInfo,\n        selectedPresetOption,\n        timeRangePresetOptions,\n        timezone,\n        sinceDate,\n        untilDate,\n    }: FilterEditModalRenderProps<DateFilterProps>) => {\n        const { i18n } = useCoreContext();\n        const { fullDateFormat } = useTimezoneAwareDateFormatting(timezone);\n        const [presetOption, setPresetOption] = useState(selectedPresetOption);\n        const originDate = useMemo(() => [new Date(from as string), new Date(to as string)], [from, to]);\n        const datePickerRef = useRef<CalendarHandle & { selection?: string }>();\n\n        const onHighlight = useCallback(\n            (from?: number, to?: number) => {\n                onValueUpdated(computeDateFilterValue(i18n, fullDateFormat, resolveDate(from), resolveDate(to)));\n            },\n            [i18n, fullDateFormat, onValueUpdated]\n        );\n\n        useEffect(() => {\n            switch (editAction) {\n                case CommitAction.APPLY:\n                    onChange({\n                        selectedPresetOption: presetOption,\n                        [DateRangeFilterParam.FROM]: resolveDate(datePickerRef.current?.from),\n                        [DateRangeFilterParam.TO]: resolveDate(datePickerRef.current?.to),\n                    });\n                    break;\n\n                case CommitAction.CLEAR:\n                    datePickerRef.current?.clear();\n                    onChange();\n            }\n        }, [editAction, onChange, presetOption]);\n\n        return (\n            <DatePicker\n                ref={datePickerRef}\n                now={now}\n                originDate={originDate}\n                onHighlight={onHighlight}\n                onPresetOptionSelected={setPresetOption}\n                selectedPresetOption={selectedPresetOption}\n                timeRangePresetOptions={timeRangePresetOptions}\n                timezone={timezone}\n                showTimezoneInfo={showTimezoneInfo}\n                sinceDate={resolveDate(sinceDate)}\n                untilDate={resolveDate(untilDate)}\n            />\n        );\n    };\n\n    return (props: FilterEditModalRenderProps<DateFilterProps>) => <DateFilterEditModalBody {...props} />;\n})();\n\nconst customDateRangeFormat = (formatter: Intl.DateTimeFormat, fromDate: Date, toDate: Date) => {\n    return formatter.formatRange(fromDate, toDate);\n};\n\nexport default function DateFilterCore<T extends DateFilterProps = DateFilterProps>({\n    title,\n    from,\n    to,\n    selectedPresetOption,\n    ...props\n}: FilterProps<T>) {\n    const { i18n } = useCoreContext();\n    const { fullDateFormat } = useTimezoneAwareDateFormatting(props.timezone);\n    const [selectedPresetOptionValue, setSelectedPresetOption] = useState<string>();\n    const [fromValue, setFrom] = useState<string>();\n    const [toValue, setTo] = useState<string>();\n\n    const onChange = useCallback<NonNullable<typeof props.onChange>>(\n        params => {\n            const { from, to, selectedPresetOption } = params ?? (EMPTY_OBJECT as NonNullable<typeof params>);\n            try {\n                setSelectedPresetOption(selectedPresetOptionValue ?? selectedPresetOption);\n                setFrom(resolveDate(fromValue ?? from));\n                setTo(resolveDate(toValue ?? to));\n            } finally {\n                props.onChange({ from, to, selectedPresetOption });\n            }\n        },\n        [selectedPresetOptionValue, fromValue, toValue, props]\n    );\n\n    const customSelection = useMemo(() => i18n.get('rangePreset.custom'), [i18n]);\n\n    const dateTimeFormatter = useMemo(() => {\n        const _formattingOptions = { ...formattingOptions, timeZone: props.timezone };\n        let formatter = new Intl.DateTimeFormat(BASE_LOCALE, _formattingOptions);\n\n        try {\n            formatter = new Intl.DateTimeFormat(i18n.locale, _formattingOptions);\n        } catch {\n            /* invalid locale: continue with base `en-US` formatter */\n        }\n\n        return formatter;\n    }, [i18n, props.timezone]);\n\n    useEffect(() => setSelectedPresetOption(selectedPresetOption), [selectedPresetOption]);\n    useEffect(() => setFrom(resolveDate(from || Date.now())), [from]);\n    useEffect(() => setTo(resolveDate(to || Date.now())), [to]);\n\n    const label = useMemo(() => {\n        if (selectedPresetOption === customSelection && fromValue && toValue) {\n            return customDateRangeFormat(dateTimeFormatter, new Date(fromValue), new Date(toValue));\n        }\n\n        return selectedPresetOption ?? props.label;\n    }, [customSelection, dateTimeFormatter, fromValue, toValue, selectedPresetOption, props.label]);\n\n    return (\n        <BaseFilter<T>\n            {...(props as FilterProps<T>)}\n            from={from}\n            to={to}\n            type={'date'}\n            label={label}\n            onChange={onChange}\n            render={renderDateFilterModalBody}\n            selectedPresetOption={selectedPresetOption}\n            value={computeDateFilterValue(i18n, fullDateFormat, from, to)}\n            withContentPadding={false}\n        />\n    );\n}\n","import { UseTimeRangeSelectionConfig } from '../../../DatePicker/components/TimeRangeSelector';\nimport DateFilterCore from './DateFilterCore';\nimport useDefaultOverviewFilterParams from '../../../../../hooks/useDefaultOverviewFilterParams';\nimport { FilterParam } from '../../../../types';\nimport { useCallback, useMemo, useState } from 'preact/hooks';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport { DateFilterProps, DateRangeFilterParam } from './types';\nimport { UsePaginatedRecords } from '../../../Pagination/hooks/types';\nimport { EMPTY_OBJECT } from '../../../../../utils';\n\ntype DataOverviewDateFilterProps = Pick<UsePaginatedRecords<any, string, FilterParam>, 'canResetFilters' | 'filters' | 'updateFilters'> &\n    ReturnType<typeof useDefaultOverviewFilterParams> & {\n        timezone?: UseTimeRangeSelectionConfig['timezone'];\n    };\n\nconst DateFilter = <T extends DateFilterProps = DateFilterProps>({\n    timezone,\n    canResetFilters,\n    defaultParams,\n    filters,\n    nowTimestamp,\n    refreshNowTimestamp,\n    sinceDate,\n    untilDate,\n    updateFilters,\n}: Pick<T, 'sinceDate' | 'untilDate'> & DataOverviewDateFilterProps) => {\n    const { i18n } = useCoreContext();\n    const defaultTimeRangePreset = useMemo(() => i18n.get(defaultParams.current.defaultTimeRange), [i18n]);\n    const [selectedTimeRangePreset, setSelectedTimeRangePreset] = useState(defaultTimeRangePreset);\n\n    const updateCreatedDateFilter = useCallback(\n        (params: Parameters<DateFilterProps['onChange']>[0] = EMPTY_OBJECT) => {\n            for (const [param, value] of Object.entries(params) as [keyof typeof params, (typeof params)[keyof typeof params]][]) {\n                switch (param) {\n                    case 'selectedPresetOption':\n                        setSelectedTimeRangePreset(value || defaultTimeRangePreset);\n                        break;\n                    case DateRangeFilterParam.FROM:\n                        updateFilters({\n                            [FilterParam.CREATED_SINCE]: value || defaultParams.current.defaultFilterParams[FilterParam.CREATED_SINCE],\n                        });\n                        break;\n                    case DateRangeFilterParam.TO:\n                        updateFilters({\n                            [FilterParam.CREATED_UNTIL]: value || defaultParams.current.defaultFilterParams[FilterParam.CREATED_UNTIL],\n                        });\n                        break;\n                    default:\n                        return;\n                }\n\n                refreshNowTimestamp();\n            }\n        },\n        [defaultTimeRangePreset, refreshNowTimestamp, updateFilters]\n    );\n\n    useMemo(() => !canResetFilters && setSelectedTimeRangePreset(defaultTimeRangePreset), [canResetFilters, defaultTimeRangePreset]);\n\n    return (\n        <DateFilterCore\n            label={i18n.get('dateRange')}\n            name={FilterParam.CREATED_SINCE}\n            sinceDate={sinceDate}\n            untilDate={untilDate ?? new Date(nowTimestamp).toString()}\n            from={filters[FilterParam.CREATED_SINCE]}\n            to={filters[FilterParam.CREATED_UNTIL]}\n            selectedPresetOption={selectedTimeRangePreset}\n            timeRangePresetOptions={defaultParams.current.timeRangeOptions}\n            timezone={timezone}\n            onChange={updateCreatedDateFilter}\n            showTimezoneInfo={true}\n            now={nowTimestamp}\n        />\n    );\n};\n\nexport default DateFilter;\n","import { TranslationKey } from '../../translations';\nimport { ModalSize } from '../../components/internal/Modal/types';\n\ntype CallbackFunction<T> = (arg: T) => void;\n\ntype DetailsConfig<T> = {\n    showDetails: boolean;\n    callback?: CallbackFunction<T>;\n};\n\nexport type SelectedDetail<Options> = {\n    title?: TranslationKey;\n    selection: { type: keyof Options; data: any };\n    modalSize?: ModalSize;\n};\n\nexport type GetArgsExceptCallback<T extends Required<DetailsConfig<any>>> = Omit<Parameters<T['callback']>[0], 'showModal'>;\n\nexport type ModalDetailsOptions<Options extends string> = {\n    [k in Options]: DetailsConfig<any>;\n};\n\nexport type CallbackIsPresent<\n    Opt extends ModalDetailsOptions<any>,\n    Options extends ModalDetailsOptions<Extract<keyof Opt, string>>,\n    T extends SelectedDetail<Options>\n> = Options[T['selection']['type']] extends {\n    callback: any;\n}\n    ? true\n    : false;\n\nexport type CallbackParams<\n    Opt extends ModalDetailsOptions<any>,\n    Options extends ModalDetailsOptions<Extract<keyof Opt, string>>,\n    T extends SelectedDetail<Options>\n> = {\n    callback: (\n        args: Options[T['selection']['type']] extends { callback: any } ? GetArgsExceptCallback<Required<Options[T['selection']['type']]>> : never\n    ) => void;\n};\nexport function hasCallback(options: any): options is Required<DetailsConfig<any>> {\n    return 'callback' in options;\n}\n","import { useCallback, useMemo, useState } from 'preact/hooks';\nimport { CallbackIsPresent, CallbackParams, GetArgsExceptCallback, hasCallback, ModalDetailsOptions, SelectedDetail } from './types';\n\n/**\n * @param options - This parameter is an object that contains several fields.\n *                  The keys of these fields represent the type of details that will be displayed on a modal.\n *                  - showDetails: An array of values that determine whether the details should be shown on the modal.\n *                                 If this field is undefined, it will be assumed to be true.\n *                  - callback?: An optional function that will be executed at the merchant level.\n *                               This function will receive a 'showModal' function as a parameter,\n *                               which allows the merchant to control when the modal appears.\n */\n\nfunction useModalDetails<Options extends ModalDetailsOptions<any>>(options: Options) {\n    const [selectedDetail, setSelectedDetail] = useState<SelectedDetail<Options> | null>(null);\n    const updateDetails = useCallback(\n        <T extends SelectedDetail<Options>>(\n            state: T\n        ): CallbackIsPresent<Options, Options, T> extends true ? CallbackParams<Options, Options, T> : {} => {\n            if (state && hasCallback(options[state.selection.type])) {\n                return {\n                    callback: options?.[state.selection.type]?.callback\n                        ? (\n                              args: Options[T['selection']['type']] extends { callback: any }\n                                  ? GetArgsExceptCallback<Required<Options[T['selection']['type']]>>\n                                  : never\n                          ) => options[state.selection.type]?.callback?.({ showModal: () => setSelectedDetail(state), ...args })\n                        : () => options[state.selection.type]?.showDetails && setSelectedDetail(state),\n                };\n            }\n            setSelectedDetail(state);\n            return {} as CallbackIsPresent<Options, Options, T> extends true ? CallbackParams<Options, Options, T> : {};\n        },\n        [options]\n    );\n    const resetDetails = useCallback(() => setSelectedDetail(null), []);\n\n    const detailsToShow = useMemo(() => {\n        const details = {} as { [key in keyof Options]: boolean };\n\n        for (const detail in options) {\n            const selectedDetail = options[detail];\n            details[detail] = !selectedDetail?.showDetails || !!selectedDetail.callback;\n        }\n\n        return details;\n    }, [options]);\n\n    return {\n        selectedDetail,\n        updateDetails,\n        detailsToShow,\n        resetDetails,\n    };\n}\n\nexport default useModalDetails;\n","import { memo } from 'preact/compat';\nimport Select from '../../../../internal/FormFields/Select';\nimport { mediaQueries, useResponsiveViewport } from '../../../../../hooks/useResponsiveViewport';\nimport type { SelectProps } from '../../../../internal/FormFields/Select/types';\nimport useMultiSelectionFilter from './useMultiSelectionFilter';\n\nconst MultiSelectionFilter = memo(\n    <FilterParam extends string = string, FilterValue extends string = string>({\n        placeholder,\n        selection,\n        selectionOptions,\n        updateSelection,\n    }: ReturnType<typeof useMultiSelectionFilter<FilterParam, FilterValue>> & Pick<SelectProps<any>, 'placeholder'>) => {\n        const isSmViewport = useResponsiveViewport(mediaQueries.down.xs);\n        const isOnlySmDevice = useResponsiveViewport(mediaQueries.only.sm);\n        const isOnlyMdDevice = useResponsiveViewport(mediaQueries.only.md);\n\n        return selectionOptions && selectionOptions.length > 1 ? (\n            <Select\n                onChange={updateSelection}\n                filterable={false}\n                multiSelect={true}\n                placeholder={placeholder}\n                selected={selection}\n                withoutCollapseIndicator={true}\n                items={selectionOptions}\n                showOverlay={isSmViewport}\n                fitPosition={isOnlyMdDevice || isOnlySmDevice}\n            />\n        ) : null;\n    }\n);\n\nexport default MultiSelectionFilter;\n","import { SelectItem } from '../../../../../internal/FormFields/Select/types';\nimport { SelectionOptionsList } from './types';\n\nexport const selectionOptionsFor = <T extends string = string>(list: SelectionOptionsList<T>) =>\n    Object.freeze(list.map(id => ({ id, name: id } as SelectItem)));\n","import { useCallback, useMemo, useState } from 'preact/hooks';\nimport { listFrom } from '../../../../../../utils';\nimport { selectionOptionsFor } from './utils';\nimport type { SelectionOptionsList, UseMultiSelectionFilterConfig, UseMultiSelectionFilterConfigWithoutValues } from './types';\n\nexport const useMultiSelectionFilter = <FilterParam extends string = string, FilterValue extends string = string>({\n    filterParam,\n    filterValues,\n    filters,\n    defaultFilters,\n    updateFilters,\n}: UseMultiSelectionFilterConfig<FilterParam, FilterValue>) => {\n    const selection = useMemo(() => {\n        return listFrom<FilterValue>(filters?.[filterParam] ?? defaultFilters?.[filterParam] ?? '');\n    }, [defaultFilters, filters, filterParam]);\n\n    const selectionOptions = useMemo(() => filterValues && selectionOptionsFor(filterValues), [filterValues]);\n\n    const updateSelection = useCallback(\n        ({ target }: any) => {\n            updateFilters?.({ [filterParam]: target?.value || '' });\n        },\n        [updateFilters, filterParam]\n    );\n\n    return { selection, selectionOptions, updateSelection } as const;\n};\n\nexport const useMultiSelectionFilterWithoutValues = <FilterParam extends string = string, FilterValue extends string = string>(\n    config: UseMultiSelectionFilterConfigWithoutValues<FilterParam, FilterValue>\n) => {\n    const [filterValues, updateFilterValues] = useState<SelectionOptionsList<FilterValue>>();\n    const useMultiSelectionFilterProperties = useMultiSelectionFilter({ ...config, filterValues });\n    return { ...useMultiSelectionFilterProperties, filterValues, updateFilterValues } as const;\n};\n\nexport default useMultiSelectionFilter;\n","import { FilterParam } from '../../../../../types';\nimport type { ITransaction } from '../../../../../../types';\nimport type { TransactionsOverviewMultiSelectionFilterParam } from './types';\n\nexport const TRANSACTIONS_OVERVIEW_MULTI_SELECTION_FILTERS = [FilterParam.CURRENCIES, FilterParam.CATEGORIES, FilterParam.STATUSES] as const;\n\nexport const DEFAULT_TRANSACTIONS_OVERVIEW_MULTI_SELECTION_FILTER_PARAMS = Object.freeze(\n    Object.fromEntries(TRANSACTIONS_OVERVIEW_MULTI_SELECTION_FILTERS.map(param => [param, '']))\n) as Readonly<{ [P in TransactionsOverviewMultiSelectionFilterParam]: string }>;\n\nexport const TRANSACTION_CATEGORIES: readonly ITransaction['category'][] = [\n    'ATM',\n    'Capital',\n    'Chargeback',\n    'Correction',\n    'Fee',\n    'Payment',\n    'Refund',\n    'Transfer',\n    'Other',\n] as const;\n\nexport const TRANSACTION_STATUSES: readonly ITransaction['status'][] = ['Booked', 'Pending', 'Reversed'] as const;\n","import useBalanceAccountSelection from './useBalanceAccountSelection';\nimport { MutableRef, useCallback, useEffect, useRef, useState } from 'preact/hooks';\nimport { getTimeRangeSelectionDefaultPresetOptions } from '../components/internal/DatePicker/components/TimeRangeSelector';\nimport { DEFAULT_TRANSACTIONS_OVERVIEW_MULTI_SELECTION_FILTER_PARAMS } from '../components/external/TransactionsOverview/components/MultiSelectionFilter';\nimport { FilterParam } from '../components/types';\n\nconst getDefaultFilterParams = (type: 'transactions' | 'payouts' | 'reports') => {\n    const timeRangeOptions = getTimeRangeSelectionDefaultPresetOptions();\n    const defaultTimeRange = 'rangePreset.last30Days';\n    const { from, to } = timeRangeOptions[defaultTimeRange];\n\n    const defaultFilterParams = {\n        ...(type === 'transactions' && {\n            ...DEFAULT_TRANSACTIONS_OVERVIEW_MULTI_SELECTION_FILTER_PARAMS,\n            [FilterParam.MIN_AMOUNT]: undefined,\n            [FilterParam.MAX_AMOUNT]: undefined,\n        }),\n        [FilterParam.BALANCE_ACCOUNT]: undefined,\n        [FilterParam.CREATED_SINCE]: new Date(from).toISOString(),\n        [FilterParam.CREATED_UNTIL]: new Date(to).toISOString(),\n    } as const;\n\n    return { defaultFilterParams, defaultTimeRange, timeRangeOptions } as const;\n};\n\nconst useDefaultOverviewFilterParams = (\n    filterType: Parameters<typeof getDefaultFilterParams>[0],\n    balanceAccount?: ReturnType<typeof useBalanceAccountSelection>['activeBalanceAccount']\n) => {\n    const [nowTimestamp, setNowTimestamp] = useState(Date.now());\n    const params = getDefaultFilterParams(filterType);\n    const defaultParams: MutableRef<any> = useRef(params);\n    const refreshNowTimestamp = useCallback(() => setNowTimestamp(Date.now()), [setNowTimestamp]);\n\n    useEffect(() => {\n        refreshNowTimestamp();\n    }, [balanceAccount, refreshNowTimestamp]);\n\n    return { defaultParams, nowTimestamp, refreshNowTimestamp } as const;\n};\n\nexport default useDefaultOverviewFilterParams;\n","import { FC } from 'preact/compat';\nimport Typography from '../../Typography/Typography';\nimport useCoreContext from '../../../../core/Context/useCoreContext';\nimport { TypographyElement, TypographyVariant } from '../../Typography/types';\nimport type { TranslationKey } from '../../../../translations';\nimport type { UIElementProps } from '../../../types';\nimport './DataOverviewHeader.scss';\n\nexport const BASE_CLASS = 'adyen-pe-data-overview-header';\n\nexport interface DataOverviewHeaderProps {\n    baseClassName?: string;\n    descriptionKey?: TranslationKey;\n    hideTitle?: UIElementProps['hideTitle'];\n    titleKey?: TranslationKey;\n}\n\nexport const DataOverviewHeader: FC<DataOverviewHeaderProps> = ({ baseClassName = BASE_CLASS, children, hideTitle, titleKey, descriptionKey }) => {\n    const { i18n } = useCoreContext();\n    return (\n        <header className={baseClassName}>\n            <div className={`${baseClassName}__headings`}>\n                {!hideTitle && titleKey && (\n                    <div className={`${baseClassName}__title`}>\n                        <Typography el={TypographyElement.SPAN} variant={TypographyVariant.TITLE} medium>\n                            {i18n.get(titleKey)}\n                        </Typography>\n                    </div>\n                )}\n                {descriptionKey && (\n                    <p className={`${baseClassName}__description`}>\n                        <Typography el={TypographyElement.SPAN} variant={TypographyVariant.BODY}>\n                            {i18n.get(descriptionKey)}\n                        </Typography>\n                    </p>\n                )}\n            </div>\n            {children && <div className={`${baseClassName}__controls`}>{children}</div>}\n        </header>\n    );\n};\n","import { useMemo } from 'preact/hooks';\nimport DataOverviewDetails from '../../DataOverviewDetails/DataOverviewDetails';\nimport { DetailsComponentProps, PayoutDetailsWithIdProps, SelectedDetail } from '../../DataOverviewDetails/types';\nimport './ModalContent.scss';\n\nconst CLASSNAMES = {\n    base: 'adyen-pe-modal-content',\n};\n\n// [TODO]: Consider covering ...restData with type information (added here as a hack to capture extra details)\nfunction ModalContent({ type, data, ...restData }: SelectedDetail) {\n    const detailProps: DetailsComponentProps = useMemo(() => {\n        switch (type) {\n            case 'payout':\n                return { ...(data as PayoutDetailsWithIdProps & { balanceAccountDescription?: string }), type };\n            case 'transaction':\n                // [TODO]: Consider providing type information for ...restData (added here to provide extra details)\n                return { id: data, type, ...restData } as DetailsComponentProps;\n            default:\n                return { data, type } as DetailsComponentProps;\n        }\n    }, [data, type]);\n\n    return (\n        <>\n            {detailProps && (\n                <div className={CLASSNAMES.base}>\n                    <DataOverviewDetails {...(detailProps as DetailsComponentProps)} />\n                </div>\n            )}\n        </>\n    );\n}\n\nexport default ModalContent;\n","import Modal from '../Modal';\nimport { useEffect } from 'preact/hooks';\nimport { FC, PropsWithChildren } from 'preact/compat';\nimport { popoverUtil } from '../Popover/utils/popoverUtil';\nimport useCoreContext from '../../../core/Context/useCoreContext';\nimport useModalDetails from '../../../hooks/useModalDetails/useModalDetails';\nimport ModalContent from '../Modal/ModalContent/ModalContent';\n\nexport interface DataOverviewDisplayProps {\n    onContactSupport?: () => void;\n    balanceAccountDescription?: string;\n    selectedDetail: ReturnType<typeof useModalDetails>['selectedDetail'];\n    resetDetails: ReturnType<typeof useModalDetails>['resetDetails'];\n    className: string;\n}\n\nexport const DataDetailsModal: FC<DataOverviewDisplayProps> = ({\n    children,\n    className,\n    selectedDetail,\n    resetDetails,\n}: PropsWithChildren<DataOverviewDisplayProps>) => {\n    const { i18n } = useCoreContext();\n    const isModalOpen = !!selectedDetail;\n\n    useEffect(() => {\n        if (isModalOpen) {\n            popoverUtil.closeAll();\n        }\n    }, [isModalOpen]);\n\n    return (\n        <div className={className}>\n            {children}\n            {selectedDetail && (\n                <Modal\n                    title={selectedDetail?.title ? i18n.get(selectedDetail.title) : undefined}\n                    isOpen={!!selectedDetail}\n                    aria-label={i18n.get('payoutDetails')}\n                    onClose={resetDetails}\n                    isDismissible={true}\n                    headerWithBorder={false}\n                    size={selectedDetail?.modalSize ?? 'large'}\n                >\n                    {selectedDetail && <ModalContent {...selectedDetail?.selection} />}\n                </Modal>\n            )}\n        </div>\n    );\n};\n","import { BASE_CLASS, BASE_CLASS_DETAILS, EARLIEST_PAYOUT_SINCE_DATE } from './constants';\nimport { PayoutsTable } from '../PayoutsTable/PayoutsTable';\nimport FilterBar, { FilterBarMobileSwitch, useFilterBarState } from '../../../../internal/FilterBar';\nimport BalanceAccountSelector from '../../../../internal/FormFields/Select/BalanceAccountSelector';\nimport { DEFAULT_PAGE_LIMIT, LIMIT_OPTIONS } from '../../../../internal/Pagination/constants';\nimport { useCursorPaginatedRecords } from '../../../../internal/Pagination/hooks';\nimport useBalanceAccountSelection from '../../../../../hooks/useBalanceAccountSelection';\nimport DateFilter from '../../../../internal/FilterBar/filters/DateFilter/DateFilter';\nimport useModalDetails from '../../../../../hooks/useModalDetails/useModalDetails';\nimport { IPayout } from '../../../../../types';\nimport useDefaultOverviewFilterParams from '../../../../../hooks/useDefaultOverviewFilterParams';\nimport { DataOverviewHeader } from '../../../../internal/DataOverviewDisplay/DataOverviewHeader/DataOverviewHeader';\nimport { PayoutsOverviewComponentProps, ExternalUIComponentProps, FilterParam } from '../../../../types';\nimport { useAuthContext } from '../../../../../core/Auth';\nimport AdyenPlatformExperienceError from '../../../../../core/Errors/AdyenPlatformExperienceError';\nimport { IBalanceAccountBase } from '../../../../../types';\nimport { isFunction } from '../../../../../utils';\nimport { useCallback, useEffect, useMemo } from 'preact/hooks';\nimport { DataDetailsModal } from '../../../../internal/DataOverviewDisplay/DataDetailsModal';\nimport './PayoutsOverview.scss';\n\nexport const PayoutsOverview = ({\n    onFiltersChanged,\n    balanceAccounts,\n    allowLimitSelection,\n    preferredLimit = DEFAULT_PAGE_LIMIT,\n    onRecordSelection,\n    showDetails,\n    isLoadingBalanceAccount,\n    onContactSupport,\n    hideTitle,\n}: ExternalUIComponentProps<\n    PayoutsOverviewComponentProps & { balanceAccounts: IBalanceAccountBase[] | undefined; isLoadingBalanceAccount: boolean }\n>) => {\n    const { getPayouts: payoutsEndpointCall } = useAuthContext().endpoints;\n    const { activeBalanceAccount, balanceAccountSelectionOptions, onBalanceAccountSelection } = useBalanceAccountSelection(balanceAccounts);\n    const { defaultParams, nowTimestamp, refreshNowTimestamp } = useDefaultOverviewFilterParams('payouts', activeBalanceAccount);\n\n    const getPayouts = useCallback(\n        async (pageRequestParams: Record<FilterParam | 'cursor', string>, signal?: AbortSignal) => {\n            const requestOptions = { signal, errorLevel: 'error' } as const;\n\n            return payoutsEndpointCall!(requestOptions, {\n                query: {\n                    ...pageRequestParams,\n                    createdSince:\n                        pageRequestParams[FilterParam.CREATED_SINCE] ?? defaultParams.current.defaultFilterParams[FilterParam.CREATED_SINCE],\n                    createdUntil:\n                        pageRequestParams[FilterParam.CREATED_UNTIL] ?? defaultParams.current.defaultFilterParams[FilterParam.CREATED_UNTIL],\n                    balanceAccountId: activeBalanceAccount?.id ?? '',\n                },\n            });\n        },\n        [activeBalanceAccount?.id, defaultParams, payoutsEndpointCall]\n    );\n\n    // FILTERS\n    const filterBarState = useFilterBarState();\n    const _onFiltersChanged = useMemo(() => (isFunction(onFiltersChanged) ? onFiltersChanged : void 0), [onFiltersChanged]);\n    const preferredLimitOptions = useMemo(() => (allowLimitSelection ? LIMIT_OPTIONS : undefined), [allowLimitSelection]);\n\n    const { canResetFilters, error, fetching, filters, limit, limitOptions, records, resetFilters, updateFilters, updateLimit, ...paginationProps } =\n        useCursorPaginatedRecords<IPayout, 'data', string, FilterParam>({\n            fetchRecords: getPayouts,\n            dataField: 'data',\n            filterParams: defaultParams.current.defaultFilterParams,\n            initialFiltersSameAsDefault: true,\n            onFiltersChanged: _onFiltersChanged,\n            preferredLimit,\n            preferredLimitOptions,\n            enabled: !!activeBalanceAccount?.id && !!payoutsEndpointCall,\n        });\n\n    useEffect(() => {\n        refreshNowTimestamp();\n    }, [filters, refreshNowTimestamp]);\n\n    const payoutDetails = useMemo(\n        () => ({\n            showDetails: showDetails ?? true,\n            callback: onRecordSelection,\n        }),\n        [showDetails, onRecordSelection]\n    );\n\n    const modalOptions = useMemo(() => ({ payout: payoutDetails }), [payoutDetails]);\n\n    const { updateDetails, resetDetails, selectedDetail } = useModalDetails(modalOptions);\n\n    const onRowClick = useCallback(\n        (value: IPayout) => {\n            updateDetails({\n                selection: {\n                    type: 'payout',\n                    data: { id: activeBalanceAccount?.id, balanceAccountDescription: activeBalanceAccount?.description || '', date: value.createdAt },\n                },\n                modalSize: 'small',\n            }).callback({ balanceAccountId: activeBalanceAccount?.id || '', date: value.createdAt });\n        },\n        [updateDetails, activeBalanceAccount]\n    );\n\n    return (\n        <div className={BASE_CLASS}>\n            <DataOverviewHeader hideTitle={hideTitle} titleKey=\"payoutsTitle\" descriptionKey=\"payoutsNotice\">\n                <FilterBarMobileSwitch {...filterBarState} />\n            </DataOverviewHeader>\n            <FilterBar {...filterBarState}>\n                <BalanceAccountSelector\n                    activeBalanceAccount={activeBalanceAccount}\n                    balanceAccountSelectionOptions={balanceAccountSelectionOptions}\n                    onBalanceAccountSelection={onBalanceAccountSelection}\n                />\n                <DateFilter\n                    canResetFilters={canResetFilters}\n                    defaultParams={defaultParams}\n                    filters={filters}\n                    nowTimestamp={nowTimestamp}\n                    refreshNowTimestamp={refreshNowTimestamp}\n                    sinceDate={EARLIEST_PAYOUT_SINCE_DATE}\n                    timezone={'UTC'}\n                    updateFilters={updateFilters}\n                />\n            </FilterBar>\n            <DataDetailsModal\n                className={BASE_CLASS_DETAILS}\n                onContactSupport={onContactSupport}\n                selectedDetail={selectedDetail as ReturnType<typeof useModalDetails>['selectedDetail']}\n                resetDetails={resetDetails}\n            >\n                <PayoutsTable\n                    loading={fetching || isLoadingBalanceAccount || !balanceAccounts}\n                    data={records}\n                    showPagination={true}\n                    onRowClick={onRowClick}\n                    showDetails={showDetails}\n                    limit={limit}\n                    limitOptions={limitOptions}\n                    onContactSupport={onContactSupport}\n                    onLimitSelection={updateLimit}\n                    error={error as AdyenPlatformExperienceError}\n                    {...paginationProps}\n                />\n            </DataDetailsModal>\n        </div>\n    );\n};\n","export const BASE_CLASS = 'adyen-pe-payouts-overview-container';\n","import useBalanceAccounts from '../../../../../hooks/useBalanceAccounts';\nimport DataOverviewContainer from '../../../../internal/DataOverviewContainer/DataOverviewContainer';\nimport type { PayoutsOverviewComponentProps, ExternalUIComponentProps } from '../../../../types';\nimport { PayoutsOverview } from '../PayoutsOverview/PayoutsOverview';\nimport { BASE_CLASS } from './constants';\n\nfunction PayoutsOverviewContainer({ ...props }: ExternalUIComponentProps<PayoutsOverviewComponentProps>) {\n    const { balanceAccounts, isBalanceAccountIdWrong, isFetching, error } = useBalanceAccounts(props.balanceAccountId);\n\n    return (\n        <DataOverviewContainer\n            balanceAccountsError={error}\n            className={BASE_CLASS}\n            errorMessage={'weCouldNotLoadThePayoutsOverview'}\n            isBalanceAccountIdWrong={isBalanceAccountIdWrong}\n            onContactSupport={props.onContactSupport}\n        >\n            <PayoutsOverview {...props} balanceAccounts={balanceAccounts} isLoadingBalanceAccount={isFetching} />\n        </DataOverviewContainer>\n    );\n}\nexport default PayoutsOverviewContainer;\n","import { _UIComponentProps, ExternalComponentType, PayoutsOverviewComponentProps } from '../../types';\nimport Payouts from './components/PayoutsOverviewContainer/PayoutsOverviewContainer';\nimport UIElement from '../UIElement/UIElement';\n\nexport class PayoutsElement extends UIElement<PayoutsOverviewComponentProps> {\n    public static type: ExternalComponentType = 'payouts';\n\n    constructor(props: _UIComponentProps<PayoutsOverviewComponentProps>) {\n        super(props);\n        this.componentToRender = this.componentToRender.bind(this);\n    }\n\n    public componentToRender = () => {\n        return (\n            <Payouts\n                {...this.props}\n                balanceAccountId={this.props.balanceAccountId}\n                ref={(ref: UIElement<PayoutsOverviewComponentProps>) => void (this.componentRef = ref)}\n            />\n        );\n    };\n}\n\nexport default PayoutsElement;\n","import { _UIComponentProps, ExternalComponentType } from '../../types';\nimport UIElement from '../UIElement/UIElement';\nimport DataOverviewDetails from '../../internal/DataOverviewDetails/DataOverviewDetails';\nimport { DetailsComponentProps } from './types';\n\nexport class TransactionElement extends UIElement<DetailsComponentProps> {\n    public static type: ExternalComponentType = 'transactionDetails';\n\n    constructor(props: _UIComponentProps<DetailsComponentProps>) {\n        super(props);\n        this.componentToRender = this.componentToRender.bind(this);\n    }\n\n    public componentToRender = () => {\n        return (\n            <DataOverviewDetails\n                {...this.props}\n                type={'transaction'}\n                ref={(ref: UIElement<DetailsComponentProps>) => void (this.componentRef = ref)}\n            />\n        );\n    };\n}\n\nexport default TransactionElement;\n","export const DIVIDER_CLASS_NAMES = {\n    base: 'adyen-pe-divider',\n};\n","import { FunctionalComponent } from 'preact';\nimport cx from 'classnames';\nimport './Divider.scss';\nimport { DividerProps } from './types';\nimport { DIVIDER_CLASS_NAMES } from './constants';\n\nexport const Divider: FunctionalComponent<DividerProps> = ({ className }) => {\n    return <hr className={cx(DIVIDER_CLASS_NAMES.base, className)} />;\n};\n","import { FC } from 'preact/compat';\nimport Typography from '../Typography/Typography';\nimport useCoreContext from '../../../core/Context/useCoreContext';\nimport { TypographyElement, TypographyVariant } from '../Typography/types';\nimport type { TranslationKey } from '../../../translations';\nimport type { UIElementProps } from '../../types';\nimport './Header.scss';\nimport { Divider } from '../Divider/Divider';\n\nexport const BASE_CLASS = 'adyen-pe-header';\n\nexport interface HeaderProps {\n    baseClassName?: string;\n    hasDivider?: boolean;\n    hideTitle?: UIElementProps['hideTitle'];\n    subtitleKey?: TranslationKey;\n    titleKey?: TranslationKey;\n}\n\nexport const Header: FC<HeaderProps> = ({ baseClassName = BASE_CLASS, children, hasDivider, hideTitle, titleKey, subtitleKey }) => {\n    const { i18n } = useCoreContext();\n    return (\n        <header className={baseClassName}>\n            <div className={`${baseClassName}__headings`}>\n                {!hideTitle && titleKey && (\n                    <div className={`${baseClassName}__title`}>\n                        <Typography el={TypographyElement.SPAN} variant={TypographyVariant.TITLE} medium>\n                            {i18n.get(titleKey)}\n                        </Typography>\n                    </div>\n                )}\n                {subtitleKey && (\n                    <div className={`${baseClassName}__subtitle`}>\n                        <Typography el={TypographyElement.SPAN} variant={TypographyVariant.BODY}>\n                            {i18n.get(subtitleKey)}\n                        </Typography>\n                    </div>\n                )}\n                {hasDivider && <Divider className={`${baseClassName}__divider`} />}\n            </div>\n            {children && <div className={`${baseClassName}__controls`}>{children}</div>}\n        </header>\n    );\n};\n","export const BASE_CLASS = 'adyen-pe-transaction-totals';\nexport const ITEM_CLASS = 'adyen-pe-transaction-totals__item';\n","export const BASE_CLASS = 'adyen-pe-expandable-card';\nexport const CONTAINER_CLASS = BASE_CLASS + '__container';\nexport const CONTAINER_BUTTON_CLASS = CONTAINER_CLASS + '--button';\nexport const CONTAINER_FILLED_CLASS = CONTAINER_CLASS + '--filled';\nexport const CONTAINER_HIDDEN_CLASS = CONTAINER_CLASS + '--hidden';\nexport const CONTAINER_OVERLAY_CLASS = CONTAINER_CLASS + '--overlay';\nexport const CONTAINER_OVERLAY_ID = CONTAINER_OVERLAY_CLASS;\nexport const CONTENT_CLASS = BASE_CLASS + '__content';\nexport const CONTENT_EXPANDABLE_CLASS = CONTENT_CLASS + '--expandable';\nexport const CHEVRON_CLASS = BASE_CLASS + '__chevron';\n","export const DEFAULT_BASE_BUTTON_CLASSNAME = 'adyen-pe-base-button';\n","import useButton from '../Button/hooks/useButton';\nimport { DEFAULT_BASE_BUTTON_CLASSNAME } from './constants';\nimport { fixedForwardRef, parseBooleanProp, parseClassName } from '../../../utils/preact';\nimport { Ref } from 'preact';\nimport { useMemo } from 'preact/hooks';\nimport { ButtonProps } from './types';\nimport './BaseButton.scss';\n\nfunction BaseButton(\n    { disabled = false, onClick, classNameModifiers = [], type = 'button', children, className, fullWidth, ...restAttributes }: ButtonProps,\n    ref: Ref<HTMLButtonElement>\n) {\n    const classNameValue = useMemo(() => parseClassName('', className) || '', [className]);\n    const disabledValue = useMemo(() => parseBooleanProp(disabled), [disabled]);\n\n    const { classes, click } = useButton(\n        classNameValue,\n        [...classNameModifiers, ...(fullWidth ? ['full-width'] : [])],\n        DEFAULT_BASE_BUTTON_CLASSNAME,\n        disabledValue,\n        onClick\n    );\n\n    return (\n        <button className={classes} type={type} disabled={disabled} onClick={click} ref={ref} {...restAttributes}>\n            {children}\n        </button>\n    );\n}\n\nexport default fixedForwardRef(BaseButton);\n","import { ExpandableCardProps } from './types';\nimport { PropsWithChildren } from 'preact/compat';\nimport classNames from 'classnames';\nimport { useCallback, useEffect, useRef, useState } from 'preact/hooks';\nimport './ExpandableCard.scss';\nimport ChevronUp from '../SVGIcons/ChevronUp';\nimport ChevronDown from '../SVGIcons/ChevronDown';\nimport {\n    BASE_CLASS,\n    CHEVRON_CLASS,\n    CONTAINER_BUTTON_CLASS,\n    CONTAINER_CLASS,\n    CONTAINER_FILLED_CLASS,\n    CONTAINER_HIDDEN_CLASS,\n    CONTAINER_OVERLAY_CLASS,\n    CONTAINER_OVERLAY_ID,\n    CONTENT_CLASS,\n    CONTENT_EXPANDABLE_CLASS,\n} from './constants';\nimport useCoreContext from '../../../core/Context/useCoreContext';\nimport { useClickOutside } from '../../../hooks/element/useClickOutside';\nimport BaseButton from '../BaseButton';\n\nconst ExpandableCard = ({ renderHeader, children, filled, fullWidth, ...listeners }: PropsWithChildren<ExpandableCardProps>) => {\n    const { i18n } = useCoreContext();\n    const [isOpen, setIsOpen] = useState(false);\n    const toggleIsOpen = useCallback(() => setIsOpen(isOpen => !isOpen), [setIsOpen]);\n    const expandButtonRef = useRef<HTMLButtonElement>(null);\n    const isClosedFromOutside = useRef(false);\n    const isOpenRef = useRef(isOpen);\n\n    const clickOutsideRef = useClickOutside<HTMLElement>(\n        undefined,\n        useCallback(() => {\n            if (isOpen) {\n                toggleIsOpen();\n                isClosedFromOutside.current = true;\n            }\n        }, [isOpen, toggleIsOpen])\n    );\n\n    useEffect(() => {\n        if (isOpen) {\n            clickOutsideRef.current?.focus();\n        } else {\n            // We want to manually focus the expand button only when the card is collapsed by inside clicks\n            // Therefore we skip the manual focus initially when isOpen is false and when we have outside clicks\n            if (isOpenRef.current !== isOpen && !isClosedFromOutside.current) {\n                expandButtonRef.current?.focus();\n            }\n            isClosedFromOutside.current = false;\n        }\n        isOpenRef.current = isOpen;\n    }, [isOpen, clickOutsideRef]);\n\n    return (\n        <div className={BASE_CLASS}>\n            {children ? (\n                <>\n                    <BaseButton\n                        className={classNames(CONTAINER_CLASS, CONTAINER_BUTTON_CLASS, { [CONTAINER_FILLED_CLASS]: filled })}\n                        disabled={isOpen}\n                        fullWidth={fullWidth}\n                        aria-controls={CONTAINER_OVERLAY_ID}\n                        aria-expanded={isOpen}\n                        aria-hidden={isOpen}\n                        onClick={toggleIsOpen}\n                        ref={expandButtonRef}\n                        data-testid={'expand-button'}\n                        {...listeners}\n                    >\n                        <span className=\"adyen-pe-sr-only\">{i18n.get('expandableCard.expand')}</span>\n                        <div className={classNames(CONTENT_CLASS, CONTENT_EXPANDABLE_CLASS)}>{renderHeader}</div>\n                        <div className={CHEVRON_CLASS}>\n                            <ChevronDown role=\"presentation\" />\n                        </div>\n                    </BaseButton>\n                    <BaseButton\n                        id={CONTAINER_OVERLAY_ID}\n                        className={classNames(CONTAINER_CLASS, CONTAINER_BUTTON_CLASS, CONTAINER_OVERLAY_CLASS, {\n                            [CONTAINER_FILLED_CLASS]: filled,\n                            [CONTAINER_HIDDEN_CLASS]: !isOpen,\n                        })}\n                        disabled={!isOpen}\n                        fullWidth={fullWidth}\n                        aria-controls={CONTAINER_OVERLAY_ID}\n                        aria-expanded={isOpen}\n                        aria-hidden={!isOpen}\n                        onClick={toggleIsOpen}\n                        ref={clickOutsideRef}\n                        data-testid={'collapse-button'}\n                        {...listeners}\n                    >\n                        <span className=\"adyen-pe-sr-only\">{i18n.get('expandableCard.collapse')}</span>\n                        <div className={classNames(CONTENT_CLASS, CONTENT_EXPANDABLE_CLASS)}>\n                            {renderHeader}\n                            <div>{children}</div>\n                        </div>\n                        <div className={CHEVRON_CLASS}>\n                            <ChevronUp role=\"presentation\" />\n                        </div>\n                    </BaseButton>\n                </>\n            ) : (\n                <div className={classNames(CONTAINER_CLASS, { [CONTAINER_FILLED_CLASS]: filled })} {...listeners}>\n                    <div className={CONTENT_CLASS}>{renderHeader}</div>\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default ExpandableCard;\n","export const BASE_CLASS = 'adyen-pe-amount-skeleton';\nexport const MARGIN_CLASS = BASE_CLASS + '--has-margin';\nexport const LOADING_CLASS = BASE_CLASS + '--loading';\n","import classNames from 'classnames';\nimport { BASE_CLASS, LOADING_CLASS, MARGIN_CLASS } from './constants';\nimport './AmountSkeleton.scss';\nimport { FC } from 'preact/compat';\nimport { AmountSkeletonProps } from './types';\n\nexport const AmountSkeleton: FC<AmountSkeletonProps> = ({ hasMargin = false, isLoading = false, width }) => {\n    return <span className={classNames(BASE_CLASS, { [LOADING_CLASS]: isLoading, [MARGIN_CLASS]: hasMargin })} style={{ width }}></span>;\n};\n\nexport default AmountSkeleton;\n","export const BASE_CLASS = 'adyen-pe-summary-item';\nexport const LABEL_CONTAINER_CLASS = BASE_CLASS + '__label-container';\nexport const LABEL_CONTAINER_CLASS_LOADING = LABEL_CONTAINER_CLASS + '--loading';\nexport const BODY_CLASS = BASE_CLASS + '--body';\nexport const LABEL_CLASS = BASE_CLASS + '__label';\nexport const PLACEHOLDER_CLASS = BASE_CLASS + '__placeholder';\nexport const AMOUNT_CLASS = BASE_CLASS + '__amount';\n","import { LABEL_CLASS, LABEL_CONTAINER_CLASS, LABEL_CONTAINER_CLASS_LOADING } from './constants';\nimport { SummaryItemLabelProps } from './types';\nimport { TypographyVariant } from '../../../../internal/Typography/types';\nimport Typography from '../../../../internal/Typography/Typography';\nimport { fixedForwardRef } from '../../../../../utils/preact';\nimport classNames from 'classnames';\nimport { ForwardedRef } from 'preact/compat';\n\nexport const SummaryItemLabel = fixedForwardRef(\n    ({ config, i18n, isSkeletonVisible, className, ...restArgs }: SummaryItemLabelProps, ref: ForwardedRef<HTMLSpanElement>) => {\n        return (\n            <span\n                className={classNames(LABEL_CONTAINER_CLASS, className, { [LABEL_CONTAINER_CLASS_LOADING]: isSkeletonVisible })}\n                style={{ cursor: 'default' }}\n                ref={ref}\n                {...restArgs}\n            >\n                {config.labelKey && (\n                    <Typography variant={TypographyVariant.CAPTION} className={LABEL_CLASS}>\n                        {i18n.get(config.labelKey)}\n                    </Typography>\n                )}\n            </span>\n        );\n    }\n);\n","import AmountSkeleton from '../AmountSkeleton/AmountSkeleton';\nimport { AMOUNT_CLASS, BASE_CLASS, BODY_CLASS, LABEL_CLASS, PLACEHOLDER_CLASS } from './constants';\nimport { SummaryItemLabel } from './SummaryItemLabel';\nimport { SummaryItemColumnConfig, SummaryItemProps } from './types';\nimport { Tooltip } from '../../../../internal/Tooltip/Tooltip';\nimport { TypographyVariant } from '../../../../internal/Typography/types';\nimport Typography from '../../../../internal/Typography/Typography';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport classNames from 'classnames';\nimport { useCallback, useEffect } from 'preact/hooks';\nimport './SummaryItem.scss';\nimport { mediaQueries, useResponsiveViewport } from '../../../../../hooks/useResponsiveViewport';\n\nexport const SummaryItem = ({\n    columnConfigs,\n    isHeader = false,\n    isHovered = false,\n    isSkeletonVisible = false,\n    isLoading = false,\n    widths,\n    onWidthsSet,\n    isEmpty,\n}: SummaryItemProps) => {\n    const { i18n } = useCoreContext();\n\n    useEffect(() => {\n        const newWidths = columnConfigs.map(config => config.ref?.current?.getBoundingClientRect().width ?? 0);\n        onWidthsSet(newWidths);\n        // We need columnConfigs only for the refs, therefore we don't need to include them in effect dependencies\n        // If we do include it though, we run into an infinite loop of re-rendering\n        // TODO: Check what causes the infinite loop\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [onWidthsSet]);\n\n    const getColumnStyle = (index: number) => ({ width: widths && widths[index] ? widths[index] : 'auto' });\n\n    const isXsScreen = useResponsiveViewport(mediaQueries.only.xs);\n\n    const typographyVariant = useCallback(\n        (config: SummaryItemColumnConfig, isLongValue: boolean) => {\n            if (config.valueHasLabelStyle) {\n                return TypographyVariant.CAPTION;\n            }\n            return isLongValue && !isXsScreen ? TypographyVariant.BODY : TypographyVariant.TITLE;\n        },\n        [isXsScreen]\n    );\n\n    return (\n        <div className={classNames(BASE_CLASS, { [BODY_CLASS]: !isHeader })}>\n            {columnConfigs.map((config, index) => {\n                const value = config.getValue();\n                const isLongValue = !!value && value.length > 12;\n                return (\n                    <div key={index}>\n                        {isHeader &&\n                            (config.tooltipLabel ? (\n                                <Tooltip content={i18n.get(`${config.tooltipLabel}`)} isContainerHovered={isHovered}>\n                                    <SummaryItemLabel config={config} i18n={i18n} isSkeletonVisible={isSkeletonVisible} />\n                                </Tooltip>\n                            ) : (\n                                <SummaryItemLabel config={config} i18n={i18n} isSkeletonVisible={isSkeletonVisible} />\n                            ))}\n                        {isSkeletonVisible ? (\n                            <AmountSkeleton isLoading={isLoading} hasMargin={config.hasSkeletonMargin} width={config.skeletonWidth + 'px'} />\n                        ) : isEmpty ? (\n                            <span className={classNames([BASE_CLASS, PLACEHOLDER_CLASS])}></span>\n                        ) : (\n                            <div ref={config.ref} style={getColumnStyle(index)}>\n                                <Typography\n                                    variant={typographyVariant(config, isLongValue)}\n                                    className={classNames({ [LABEL_CLASS]: config.valueHasLabelStyle, [AMOUNT_CLASS]: !config.valueHasLabelStyle })}\n                                >\n                                    {value}\n                                </Typography>\n                            </div>\n                        )}\n                    </div>\n                );\n            })}\n        </div>\n    );\n};\n","import { TransactionTotalItemProps } from './types';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport { useMemo, useRef } from 'preact/hooks';\nimport { SummaryItemColumnConfig } from '../SummaryItem/types';\nimport { SummaryItem } from '../SummaryItem/SummaryItem';\n\nexport const TransactionTotalItem = ({\n    total,\n    hiddenField,\n    isHeader = false,\n    isHovered = false,\n    isSkeleton = false,\n    isLoading = false,\n    widths,\n    onWidthsSet,\n}: TransactionTotalItemProps) => {\n    const { i18n } = useCoreContext();\n    const incomingRef = useRef<HTMLDivElement>(null);\n    const expenseRef = useRef<HTMLDivElement>(null);\n    const currencyRef = useRef<HTMLDivElement>(null);\n\n    const columnConfigs: SummaryItemColumnConfig[] = useMemo(() => {\n        const incomingsConfig: SummaryItemColumnConfig = {\n            labelKey: 'totalIncoming',\n            ref: incomingRef,\n            skeletonWidth: 80,\n            getValue: () => total && i18n.amount(total.incomings, total.currency),\n            tooltipLabel: 'tooltip.totalIncoming',\n        };\n\n        const expensesConfig: SummaryItemColumnConfig = {\n            labelKey: 'totalOutgoing',\n            ref: expenseRef,\n            skeletonWidth: 80,\n            getValue: () => total && i18n.amount(total.expenses, total.currency),\n            tooltipLabel: 'tooltip.totalOutgoing',\n        };\n\n        return [\n            ...(hiddenField !== 'incomings' ? [incomingsConfig] : []),\n            ...(hiddenField !== 'expenses' ? [expensesConfig] : []),\n            {\n                ref: currencyRef,\n                skeletonWidth: 40,\n                valueHasLabelStyle: true,\n                getValue: () => total?.currency,\n            },\n        ];\n    }, [total, hiddenField, i18n]);\n\n    return (\n        <SummaryItem\n            isHovered={isHovered}\n            isEmpty={!total}\n            columnConfigs={columnConfigs}\n            isHeader={isHeader}\n            isSkeletonVisible={isSkeleton}\n            isLoading={isLoading}\n            widths={widths}\n            onWidthsSet={onWidthsSet}\n        />\n    );\n};\n","export const BASE_CLASS = 'adyen-pe-base-list';\n","import './BaseList.scss';\nimport { BASE_CLASS } from './constants';\nimport { FC } from 'preact/compat';\nimport { BaseListProps } from './types';\nimport cx from 'classnames';\n\nexport const BaseList: FC<BaseListProps> = ({ children, classNames }) => {\n    return <ul className={cx(BASE_CLASS, [classNames])}>{children}</ul>;\n};\n","import { useCallback, useState } from 'preact/hooks';\n\nexport const useMaxWidthsState = (): [number[], (widths: number[]) => void] => {\n    const [maxWidths, setMaxWidths] = useState<number[]>([]);\n    const setMaxWidthsConditionally = useCallback((widths: number[]) => {\n        setMaxWidths(currentMaxWidths =>\n            widths.every(width => !width)\n                ? widths\n                : widths.map((width, index) => {\n                      const currentMaxWidth = currentMaxWidths[index];\n                      return !currentMaxWidth || width > currentMaxWidth ? width : currentMaxWidth;\n                  })\n        );\n    }, []);\n    return [maxWidths, setMaxWidthsConditionally];\n};\n","import { useMemo, useState } from 'preact/hooks';\nimport ExpandableCard from '../../../../internal/ExpandableCard/ExpandableCard';\nimport { memo } from 'preact/compat';\nimport { TransactionTotalItem } from '../TransactionTotalItem/TransactionTotalItem';\nimport { BaseList } from '../../../../internal/BaseList/BaseList';\nimport { useMaxWidthsState } from '../../hooks/useMaxWidths';\nimport './TransactionTotals.scss';\nimport { ITransactionTotalWithKey, TotalsCardProps } from './types';\n\nexport const TotalsCard = memo(({ totals, isLoading, hiddenField, fullWidth }: TotalsCardProps) => {\n    const [maxWidths, setMaxWidths] = useMaxWidthsState();\n    const [isHovered, setIsHovered] = useState(false);\n\n    const [firstTotal, ...restOfTotals] = useMemo(() => {\n        return totals.map((t: Partial<ITransactionTotalWithKey>) => {\n            t['key'] = `${t.currency}-${Math.random()}`;\n            return t as ITransactionTotalWithKey;\n        });\n    }, [totals]);\n\n    return (\n        <ExpandableCard\n            renderHeader={\n                <TransactionTotalItem\n                    isHovered={isHovered}\n                    total={firstTotal}\n                    hiddenField={hiddenField}\n                    widths={maxWidths}\n                    isHeader\n                    isSkeleton={isLoading}\n                    isLoading={isLoading}\n                    onWidthsSet={setMaxWidths}\n                />\n            }\n            fullWidth={fullWidth}\n            onMouseEnter={() => setIsHovered(true)}\n            onFocus={() => setIsHovered(true)}\n            onMouseLeave={() => setIsHovered(false)}\n            onBlur={() => setIsHovered(false)}\n        >\n            {!isLoading && restOfTotals.length && (\n                <BaseList>\n                    {restOfTotals.map(total => (\n                        <li key={total.key}>\n                            <TransactionTotalItem\n                                isHovered={isHovered}\n                                total={total}\n                                hiddenField={hiddenField}\n                                widths={maxWidths}\n                                onWidthsSet={setMaxWidths}\n                            />\n                        </li>\n                    ))}\n                </BaseList>\n            )}\n        </ExpandableCard>\n    );\n});\n","import { useCallback, useMemo } from 'preact/hooks';\nimport { EMPTY_OBJECT } from '../../../../../utils';\nimport { useAuthContext } from '../../../../../core/Auth';\nimport { useFetch } from '../../../../../hooks/useFetch';\nimport { OperationParameters } from '../../../../../types/api/endpoints';\nimport { WithPartialField } from '../../../../../utils/types';\nimport { BASE_CLASS, ITEM_CLASS } from './constants';\nimport { memo } from 'preact/compat';\nimport { ITransaction } from '../../../../../types';\nimport { mediaQueries, useResponsiveViewport } from '../../../../../hooks/useResponsiveViewport';\nimport './TransactionTotals.scss';\nimport { TotalsCard } from './TotalsCard';\n\ntype TransactionTotalsProps = Required<OperationParameters<'getTransactionTotals'>['query']> & {\n    isAvailableCurrenciesFetching: boolean;\n    availableCurrencies: ITransaction['amount']['currency'][] | undefined;\n    fullWidth?: boolean;\n};\n\nconst TransactionTotals = memo(\n    ({\n        availableCurrencies,\n        isAvailableCurrenciesFetching,\n        balanceAccountId,\n        createdSince,\n        createdUntil,\n        categories,\n        statuses,\n        maxAmount,\n        minAmount,\n        currencies,\n        fullWidth,\n    }: WithPartialField<TransactionTotalsProps, 'balanceAccountId' | 'minAmount' | 'maxAmount'>) => {\n        const { getTransactionTotals } = useAuthContext().endpoints;\n\n        const fetchCallback = useCallback(async () => {\n            return getTransactionTotals?.(EMPTY_OBJECT, {\n                query: {\n                    createdSince,\n                    createdUntil,\n                    categories,\n                    statuses,\n                    maxAmount,\n                    minAmount,\n                    currencies,\n                    balanceAccountId: balanceAccountId!,\n                },\n            });\n        }, [balanceAccountId, categories, createdSince, createdUntil, currencies, getTransactionTotals, maxAmount, minAmount, statuses]);\n\n        const { data, isFetching } = useFetch({\n            fetchOptions: useMemo(() => ({ enabled: !!balanceAccountId && !!getTransactionTotals }), [balanceAccountId, getTransactionTotals]),\n            queryFn: fetchCallback,\n        });\n        const isLoading = !balanceAccountId || isFetching || isAvailableCurrenciesFetching;\n\n        const getTotals = useCallback(() => {\n            if (!availableCurrencies || !data) {\n                return data?.data;\n            }\n\n            const partialTotals = availableCurrencies.map(currency => {\n                const totalOfCurrency = data.data.find(total => total.currency === currency);\n                return totalOfCurrency || { currency, incomings: 0, expenses: 0 };\n            });\n\n            return partialTotals.concat(data.data.filter(total => !partialTotals.includes(total)));\n        }, [availableCurrencies, data]);\n\n        const totals = getTotals() ?? [];\n        const isXsScreen = useResponsiveViewport(mediaQueries.only.xs);\n\n        return (\n            <div className={BASE_CLASS}>\n                {isXsScreen ? (\n                    <>\n                        <div className={ITEM_CLASS}>\n                            <TotalsCard totals={totals} isLoading={isLoading} hiddenField=\"expenses\" fullWidth={fullWidth} />\n                        </div>\n                        <div className={ITEM_CLASS}>\n                            <TotalsCard totals={totals} isLoading={isLoading} hiddenField=\"incomings\" fullWidth={fullWidth} />\n                        </div>\n                    </>\n                ) : (\n                    <TotalsCard totals={totals} isLoading={isLoading} fullWidth={fullWidth} />\n                )}\n            </div>\n        );\n    }\n);\n\nexport default TransactionTotals;\n","export const BASE_CLASS = 'adyen-pe-balances';\n","import useCoreContext from '../../../../../core/Context/useCoreContext';\nimport { useMemo, useRef } from 'preact/hooks';\nimport { BalanceItemProps } from './types';\nimport { SummaryItemColumnConfig } from '../SummaryItem/types';\nimport { SummaryItem } from '../SummaryItem/SummaryItem';\n\nexport const BalanceItem = ({ balance, isHeader = false, isSkeleton = false, isLoading = false, widths, onWidthsSet, isEmpty }: BalanceItemProps) => {\n    const { i18n } = useCoreContext();\n    const amountRef = useRef<HTMLDivElement>(null);\n    const currencyRef = useRef<HTMLDivElement>(null);\n    const columnConfigs: SummaryItemColumnConfig[] = useMemo(\n        () => [\n            {\n                labelKey: 'accountBalance',\n                ref: amountRef,\n                skeletonWidth: 80,\n                getValue: () => balance && i18n.amount(balance.value, balance.currency),\n            },\n            {\n                ref: currencyRef,\n                skeletonWidth: 40,\n                valueHasLabelStyle: true,\n                getValue: () => balance?.currency,\n            },\n        ],\n        [balance, amountRef, i18n]\n    );\n\n    return (\n        <SummaryItem\n            isEmpty={isEmpty}\n            columnConfigs={columnConfigs}\n            isHeader={isHeader}\n            isSkeletonVisible={isSkeleton}\n            isLoading={isLoading}\n            widths={widths}\n            onWidthsSet={onWidthsSet}\n        />\n    );\n};\n","import { useCallback, useEffect, useMemo } from 'preact/hooks';\nimport { EMPTY_OBJECT } from '../../../../../utils';\nimport { useAuthContext } from '../../../../../core/Auth';\nimport { useFetch } from '../../../../../hooks/useFetch';\nimport { memo } from 'preact/compat';\nimport { BASE_CLASS } from './constants';\nimport ExpandableCard from '../../../../internal/ExpandableCard/ExpandableCard';\nimport { BaseList } from '../../../../internal/BaseList/BaseList';\nimport { BalanceItem } from '../BalanceItem/BalanceItem';\nimport { useMaxWidthsState } from '../../hooks/useMaxWidths';\nimport { BalancesProps, IBalanceWithKey } from './types';\n\nexport const Balances = memo(({ balanceAccountId, defaultCurrencyCode, onCurrenciesChange, fullWidth }: BalancesProps) => {\n    const { getBalances: getAccountsBalance } = useAuthContext().endpoints;\n\n    const fetchCallback = useCallback(async () => {\n        return getAccountsBalance?.(EMPTY_OBJECT, {\n            path: { balanceAccountId: balanceAccountId! },\n        });\n    }, [balanceAccountId, getAccountsBalance]);\n\n    const { data, error, isFetching } = useFetch({\n        fetchOptions: useMemo(() => ({ enabled: !!balanceAccountId && !!getAccountsBalance }), [balanceAccountId, getAccountsBalance]),\n        queryFn: fetchCallback,\n    });\n\n    const isLoading = !balanceAccountId || isFetching;\n    const isEmpty = !!error || !data?.data.length;\n\n    const balances = useMemo(() => {\n        return (\n            data?.data &&\n            [...data.data].sort(({ currency: firstCurrency }, { currency: secondCurrency }) => {\n                if (defaultCurrencyCode) {\n                    if (firstCurrency === defaultCurrencyCode) return -1;\n                    if (secondCurrency === defaultCurrencyCode) return 1;\n                }\n                return firstCurrency.localeCompare(secondCurrency);\n            })\n        );\n    }, [data?.data, defaultCurrencyCode]);\n\n    const [firstBalance, ...restOfBalances] = useMemo(() => {\n        return (\n            balances?.map((t: Partial<IBalanceWithKey>) => {\n                t['key'] = `${t.currency}-${Math.random()}`;\n                return t as IBalanceWithKey;\n            }) ?? []\n        );\n    }, [balances]);\n\n    const [maxWidths, setMaxWidths] = useMaxWidthsState();\n\n    useEffect(() => {\n        const currencies = new Set(balances?.map(({ currency }) => currency) || []);\n        onCurrenciesChange(Array.from(currencies), isFetching);\n    }, [balances, isFetching, onCurrenciesChange]);\n\n    return (\n        <div className={BASE_CLASS}>\n            <ExpandableCard\n                renderHeader={\n                    <BalanceItem\n                        isEmpty={isEmpty}\n                        balance={firstBalance}\n                        widths={maxWidths}\n                        isHeader\n                        isSkeleton={isLoading}\n                        isLoading={isLoading}\n                        onWidthsSet={setMaxWidths}\n                    />\n                }\n                filled\n                fullWidth={fullWidth}\n            >\n                {restOfBalances.length && (\n                    <BaseList>\n                        {restOfBalances.map(balance => (\n                            <li key={balance.key}>\n                                <BalanceItem balance={balance} widths={maxWidths} onWidthsSet={setMaxWidths} />\n                            </li>\n                        ))}\n                    </BaseList>\n                )}\n            </ExpandableCard>\n        </div>\n    );\n});\n","import { FilterParam } from '../../../types';\nimport { ITransaction } from '../../../../types';\nimport {\n    DEFAULT_TRANSACTIONS_OVERVIEW_MULTI_SELECTION_FILTER_PARAMS as defaultFilters,\n    TRANSACTION_CATEGORIES,\n    TRANSACTION_STATUSES,\n    TransactionsOverviewMultiSelectionFilterParam,\n    useMultiSelectionFilter,\n    UseMultiSelectionFilterConfig,\n} from '../components/MultiSelectionFilter';\n\nconst useTransactionsOverviewMultiSelectionFilters = (\n    filtersConfig: Pick<UseMultiSelectionFilterConfig<TransactionsOverviewMultiSelectionFilterParam>, 'filters' | 'updateFilters'>,\n    currencies: ITransaction['amount']['currency'][] | undefined\n) => {\n    const categoriesFilter = useMultiSelectionFilter({\n        filterParam: FilterParam.CATEGORIES,\n        filterValues: TRANSACTION_CATEGORIES,\n        defaultFilters,\n        ...filtersConfig,\n    });\n    const statusesFilter = useMultiSelectionFilter({\n        filterParam: FilterParam.STATUSES,\n        filterValues: TRANSACTION_STATUSES,\n        defaultFilters,\n        ...filtersConfig,\n    });\n\n    const currenciesFilter = useMultiSelectionFilter({\n        filterParam: FilterParam.CURRENCIES,\n        filterValues: currencies,\n        defaultFilters,\n        ...filtersConfig,\n    });\n\n    return {\n        categoriesFilter,\n        currenciesFilter,\n        statusesFilter,\n    } as const;\n};\n\nexport default useTransactionsOverviewMultiSelectionFilters;\n","export const AMOUNT_MULTIPLIER = 100000;\n","import { FilterEditModalRenderProps } from '../BaseFilter/types';\nimport { RangeFilterBody } from './types';\nimport InputBase from '../../../FormFields/InputBase';\nimport './AmountFilter.scss';\nimport { useCallback, useEffect, useMemo, useState } from 'preact/hooks';\nimport { CommitAction } from '../../../../../hooks/useCommitAction';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport { AMOUNT_MULTIPLIER } from './constants';\nimport { isUndefined } from '../../../../../utils';\n\nexport const RangeSelection = ({\n    onChange,\n    editAction,\n    onValueUpdated,\n    selectedCurrencies,\n    availableCurrencies,\n    value,\n    ...props\n}: FilterEditModalRenderProps<RangeFilterBody>) => {\n    const { i18n } = useCoreContext();\n\n    const [minAmount, setMinAmount] = useState<number | undefined>(\n        !isUndefined(props.minAmount) ? parseFloat(props.minAmount) / AMOUNT_MULTIPLIER : undefined\n    );\n    const [maxAmount, setMaxAmount] = useState<number | undefined>(\n        !isUndefined(props.maxAmount) ? parseFloat(props.maxAmount) / AMOUNT_MULTIPLIER : undefined\n    );\n\n    const applyFilter = useCallback(() => {\n        onChange({ minAmount, maxAmount });\n    }, [maxAmount, minAmount, onChange]);\n\n    const clearFilter = useCallback(() => {\n        onChange({ minAmount: undefined, maxAmount: undefined });\n        setMaxAmount(undefined);\n        setMinAmount(undefined);\n    }, [onChange]);\n\n    useEffect(() => {\n        if (editAction === CommitAction.APPLY) applyFilter();\n        if (editAction === CommitAction.CLEAR) clearFilter();\n    }, [applyFilter, clearFilter, editAction]);\n\n    const filterValue = useMemo(() => ({ minAmount: Number(minAmount), maxAmount: Number(maxAmount) }), [maxAmount, minAmount]);\n\n    useEffect(() => {\n        const { maxAmount, minAmount } = filterValue;\n        if ((isUndefined(maxAmount) && isUndefined(minAmount)) || minAmount > maxAmount) {\n            onValueUpdated(null);\n        } else onValueUpdated(`${minAmount}-${maxAmount}`);\n    }, [filterValue, onValueUpdated]);\n\n    return (\n        <div className=\"adyen-pe-range-selection-filter\">\n            <div className=\"adyen-pe-range-selection-filter__input\">\n                <label htmlFor=\"minValue\">{`${i18n.get('from')}:`}</label>\n                <InputBase\n                    data-testid={'minValueFilter'}\n                    lang={i18n.locale}\n                    name={'minValue'}\n                    type=\"number\"\n                    value={minAmount}\n                    onInput={e => {\n                        e.currentTarget && setMinAmount(e.currentTarget.value !== '' ? (e.currentTarget.value as any) : undefined);\n                    }}\n                    min={0}\n                    isInvalid={minAmount ? minAmount < 0 : false}\n                    errorMessage={i18n.get('noNegativeNumbersAllowed')}\n                />\n            </div>\n            <div className=\"adyen-pe-range-selection-filter__input\">\n                <label htmlFor=\"maxValue\">{`${i18n.get('to')}:`}</label>\n                <InputBase\n                    data-testid={'maxValueFilter'}\n                    lang={i18n.locale}\n                    name={'maxValue'}\n                    type=\"number\"\n                    value={maxAmount}\n                    onInput={e => {\n                        e.currentTarget && setMaxAmount(e.currentTarget.value !== '' ? (e.currentTarget.value as any) : undefined);\n                    }}\n                    min={minAmount}\n                    isInvalid={!isUndefined(maxAmount) && !isUndefined(minAmount) && maxAmount < minAmount}\n                    errorMessage={i18n.get('toValueShouldBeGreaterThanTheFromValue')}\n                />\n            </div>\n        </div>\n    );\n};\n","import BaseFilter from '../BaseFilter';\nimport { FilterProps } from '../BaseFilter/types';\nimport { RangeFilterProps } from './types';\nimport { RangeSelection } from './RangeSelection';\nimport { useCallback, useMemo, useState } from 'preact/hooks';\nimport { EMPTY_OBJECT, isUndefined } from '../../../../../utils';\nimport { PopoverContainerSize } from '../../../Popover/types';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport { AMOUNT_MULTIPLIER } from './constants';\n\nexport const AmountFilter = ({ updateFilters, selectedCurrencies, availableCurrencies, ...props }: FilterProps<RangeFilterProps>) => {\n    const { i18n } = useCoreContext();\n    const [value, setValue] = useState<{ minAmount: number | undefined; maxAmount: number | undefined } | undefined>();\n    const [formattedValue, setValueFormattedValue] = useState<string | undefined>();\n\n    const showCurrencySymbol = useMemo(() => {\n        return selectedCurrencies?.length === 1 || availableCurrencies?.length === 1;\n    }, [availableCurrencies?.length, selectedCurrencies?.length]);\n\n    const formatAmount = useCallback(\n        (amount: number, showSymbol: boolean) => {\n            const currencyCode = selectedCurrencies?.[0] || availableCurrencies?.[0];\n            const options =\n                showSymbol && currencyCode\n                    ? {\n                          style: 'currency',\n                          currency: currencyCode,\n                          currencyDisplay: 'symbol',\n                      }\n                    : undefined;\n            return amount.toLocaleString(i18n.locale, options);\n        },\n        [availableCurrencies, i18n, selectedCurrencies]\n    );\n\n    const onFilterChange = useCallback(\n        (params: { minAmount: number | undefined; maxAmount: number | undefined; filterValue: string | undefined }) => {\n            const { minAmount, maxAmount } = params ?? EMPTY_OBJECT;\n            setValue({ minAmount, maxAmount });\n\n            if (isUndefined(minAmount) && isUndefined(maxAmount)) setValueFormattedValue(undefined);\n            updateFilters({\n                minAmount: !isUndefined(minAmount) ? String(Math.round(minAmount * AMOUNT_MULTIPLIER)) : undefined,\n                maxAmount: !isUndefined(maxAmount) ? String(Math.round(maxAmount * AMOUNT_MULTIPLIER)) : undefined,\n            });\n        },\n        [updateFilters]\n    );\n    if (value && (value.minAmount || value.maxAmount)) {\n        const { minAmount, maxAmount } = value ?? {};\n        if (!isUndefined(minAmount) && !isUndefined(maxAmount) && minAmount <= maxAmount) {\n            setValueFormattedValue(\n                `${formatAmount(minAmount, showCurrencySymbol)} ${i18n.get('to').toLowerCase()} ${formatAmount(maxAmount, showCurrencySymbol)}`\n            );\n        } else if (!isUndefined(minAmount) && isUndefined(maxAmount) && minAmount >= 0) {\n            setValueFormattedValue(`${i18n.get('from')} ${formatAmount(minAmount, showCurrencySymbol)}`);\n        } else if (isUndefined(minAmount) && !isUndefined(maxAmount)) {\n            setValueFormattedValue(`${i18n.get('to')} ${formatAmount(maxAmount, showCurrencySymbol)}`);\n        } else {\n            setValueFormattedValue(undefined);\n        }\n    }\n\n    return (\n        <BaseFilter<RangeFilterProps>\n            {...props}\n            updateFilters={updateFilters}\n            minAmount={props.minAmount}\n            maxAmount={props.maxAmount}\n            onChange={onFilterChange}\n            value={formattedValue}\n            label={formattedValue ? formattedValue : props.label}\n            type={'text'}\n            containerSize={PopoverContainerSize.MEDIUM}\n            selectedCurrencies={selectedCurrencies}\n            availableCurrencies={availableCurrencies}\n            render={RangeSelection}\n        />\n    );\n};\n","const _BASE_CLASS = 'adyen-pe-transactions';\n\nexport const BASE_CLASS = `${_BASE_CLASS}-overview`;\nexport const BASE_CLASS_DETAILS = `${_BASE_CLASS}-details`;\nexport const SUMMARY_CLASS = `${BASE_CLASS}__summary`;\nexport const SUMMARY_ITEM_CLASS = `${SUMMARY_CLASS}-item`;\n\nexport const MAX_TRANSACTIONS_DATE_RANGE_MONTHS = 24;\n","import { useCallback, useEffect, useState } from 'preact/hooks';\nimport { OnDataRetrievedCallback } from '../components/types';\n\nexport const useCustomColumnsData = <T>({\n    records,\n    onDataRetrieved,\n    mergeCustomData,\n}: {\n    records: T[];\n    onDataRetrieved: OnDataRetrievedCallback<T> | undefined;\n    mergeCustomData: (args: { retrievedData: Awaited<ReturnType<OnDataRetrievedCallback<T>>>; records: T[] }) => (T & Record<string, any>)[];\n}) => {\n    const [customRecords, setCustomRecords] = useState<T[] | (T & Record<string, any>)[]>(records);\n    const [loadingCustomRecords, setLoadingCustomRecords] = useState(false);\n\n    const mergedRecords = useCallback(\n        (data: T[]) => async () => {\n            try {\n                const retrievedData = onDataRetrieved ? await onDataRetrieved(data) : [];\n\n                setCustomRecords(mergeCustomData({ records, retrievedData }));\n            } catch (error) {\n                setCustomRecords(records);\n                console.error(error);\n            } finally {\n                setLoadingCustomRecords(false);\n            }\n        },\n        [onDataRetrieved, records, mergeCustomData]\n    );\n\n    useEffect(() => {\n        if (onDataRetrieved && records.length) {\n            setLoadingCustomRecords(true);\n            mergedRecords(records)();\n        }\n    }, [onDataRetrieved, mergedRecords, records]);\n\n    return { customRecords, loadingCustomRecords } as const;\n};\n","import { DataDetailsModal } from '../../../../internal/DataOverviewDisplay/DataDetailsModal';\nimport { TransactionsTable } from '../TransactionsTable/TransactionsTable';\nimport useBalanceAccountSelection from '../../../../../hooks/useBalanceAccountSelection';\nimport BalanceAccountSelector from '../../../../internal/FormFields/Select/BalanceAccountSelector';\nimport DateFilter from '../../../../internal/FilterBar/filters/DateFilter/DateFilter';\nimport FilterBar, { FilterBarMobileSwitch, useFilterBarState } from '../../../../internal/FilterBar';\nimport { TransactionOverviewComponentProps, ExternalUIComponentProps, FilterParam, CustomDataRetrieved } from '../../../../types';\nimport useModalDetails from '../../../../../hooks/useModalDetails/useModalDetails';\nimport { useAuthContext } from '../../../../../core/Auth';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport { useCallback, useEffect, useMemo, useState } from 'preact/hooks';\nimport { useCursorPaginatedRecords } from '../../../../internal/Pagination/hooks';\nimport { Header } from '../../../../internal/Header';\nimport { IBalanceAccountBase, ITransaction } from '../../../../../types';\nimport { EMPTY_OBJECT, isFunction, isUndefined, listFrom } from '../../../../../utils';\nimport { DEFAULT_PAGE_LIMIT, LIMIT_OPTIONS } from '../../../../internal/Pagination/constants';\nimport TransactionTotals from '../TransactionTotals/TransactionTotals';\nimport { Balances } from '../Balances/Balances';\nimport MultiSelectionFilter from '../MultiSelectionFilter';\nimport useDefaultOverviewFilterParams from '../../../../../hooks/useDefaultOverviewFilterParams';\nimport useTransactionsOverviewMultiSelectionFilters from '../../hooks/useTransactionsOverviewMultiSelectionFilters';\nimport AdyenPlatformExperienceError from '../../../../../core/Errors/AdyenPlatformExperienceError';\nimport { AmountFilter } from '../../../../internal/FilterBar/filters/AmountFilter/AmountFilter';\nimport { BASE_CLASS, BASE_CLASS_DETAILS, MAX_TRANSACTIONS_DATE_RANGE_MONTHS, SUMMARY_CLASS, SUMMARY_ITEM_CLASS } from './constants';\nimport { mediaQueries, useResponsiveViewport } from '../../../../../hooks/useResponsiveViewport';\nimport { useCustomColumnsData } from '../../../../../hooks/useCustomColumnsData';\nimport './TransactionsOverview.scss';\n\nexport const TransactionsOverview = ({\n    onFiltersChanged,\n    balanceAccounts,\n    allowLimitSelection,\n    preferredLimit = DEFAULT_PAGE_LIMIT,\n    onRecordSelection,\n    showDetails,\n    isLoadingBalanceAccount,\n    onContactSupport,\n    hideTitle,\n    columns,\n    onDataRetrieved,\n}: ExternalUIComponentProps<\n    TransactionOverviewComponentProps & { balanceAccounts: IBalanceAccountBase[] | undefined; isLoadingBalanceAccount: boolean }\n>) => {\n    const { i18n } = useCoreContext();\n    const { getTransactions: transactionsEndpointCall } = useAuthContext().endpoints;\n    const { activeBalanceAccount, balanceAccountSelectionOptions, onBalanceAccountSelection } = useBalanceAccountSelection(balanceAccounts);\n    const { defaultParams, nowTimestamp, refreshNowTimestamp } = useDefaultOverviewFilterParams('transactions', activeBalanceAccount);\n\n    const getTransactions = useCallback(\n        async ({ balanceAccount, ...pageRequestParams }: Record<FilterParam | 'cursor', string>, signal?: AbortSignal) => {\n            const requestOptions = { signal, errorLevel: 'error' } as const;\n\n            return transactionsEndpointCall!(requestOptions, {\n                query: {\n                    ...pageRequestParams,\n                    statuses: listFrom<ITransaction['status']>(pageRequestParams[FilterParam.STATUSES]),\n                    categories: listFrom<ITransaction['category']>(pageRequestParams[FilterParam.CATEGORIES]),\n                    currencies: listFrom<ITransaction['amount']['currency']>(pageRequestParams[FilterParam.CURRENCIES]),\n                    createdSince:\n                        pageRequestParams[FilterParam.CREATED_SINCE] ?? defaultParams.current.defaultFilterParams[FilterParam.CREATED_SINCE],\n                    createdUntil:\n                        pageRequestParams[FilterParam.CREATED_UNTIL] ?? defaultParams.current.defaultFilterParams[FilterParam.CREATED_UNTIL],\n                    sortDirection: 'desc' as const,\n                    balanceAccountId: activeBalanceAccount?.id ?? '',\n                    minAmount: !isUndefined(pageRequestParams.minAmount) ? parseFloat(pageRequestParams.minAmount) : undefined,\n                    maxAmount: !isUndefined(pageRequestParams.maxAmount) ? parseFloat(pageRequestParams.maxAmount) : undefined,\n                },\n            });\n        },\n        [activeBalanceAccount?.id, defaultParams, transactionsEndpointCall]\n    );\n\n    // FILTERS\n    const filterBarState = useFilterBarState();\n    const _onFiltersChanged = useMemo(() => (isFunction(onFiltersChanged) ? onFiltersChanged : void 0), [onFiltersChanged]);\n    const preferredLimitOptions = useMemo(() => (allowLimitSelection ? LIMIT_OPTIONS : undefined), [allowLimitSelection]);\n\n    //TODO - Infer the return type of getTransactions instead of having to specify it\n    const { canResetFilters, error, fetching, filters, limit, limitOptions, records, resetFilters, updateFilters, updateLimit, ...paginationProps } =\n        useCursorPaginatedRecords<ITransaction, 'data', string, FilterParam>({\n            fetchRecords: getTransactions,\n            dataField: 'data',\n            filterParams: defaultParams.current.defaultFilterParams,\n            initialFiltersSameAsDefault: true,\n            onFiltersChanged: _onFiltersChanged,\n            preferredLimit,\n            preferredLimitOptions,\n            enabled: !!activeBalanceAccount?.id && !!transactionsEndpointCall,\n        });\n\n    const [availableCurrencies, setAvailableCurrencies] = useState<ITransaction['amount']['currency'][] | undefined>([]);\n    const [isAvailableCurrenciesFetching, setIsAvailableCurrenciesFetching] = useState(false);\n    const handleCurrenciesChange = useCallback((currencies: ITransaction['amount']['currency'][] | undefined, isFetching: boolean) => {\n        setAvailableCurrencies(currencies);\n        setIsAvailableCurrenciesFetching(isFetching);\n    }, []);\n    const { categoriesFilter, currenciesFilter, statusesFilter } = useTransactionsOverviewMultiSelectionFilters(\n        {\n            filters,\n            updateFilters,\n        },\n        availableCurrencies\n    );\n\n    useEffect(() => {\n        setAvailableCurrencies(undefined);\n        updateFilters({\n            [FilterParam.BALANCE_ACCOUNT]: activeBalanceAccount?.id,\n            [FilterParam.CURRENCIES]: undefined,\n        });\n    }, [updateFilters, activeBalanceAccount?.id]);\n\n    useEffect(() => {\n        refreshNowTimestamp();\n    }, [filters, refreshNowTimestamp]);\n\n    // Set status filter's value fixed as \"Booked\" temporarily\n    useEffect(() => {\n        statusesFilter.updateSelection({ target: { value: 'Booked', name: 'status' } });\n    }, [statusesFilter]);\n\n    const isNarrowViewport = useResponsiveViewport(mediaQueries.down.sm);\n\n    const hasMultipleCurrencies = !!availableCurrencies && availableCurrencies.length > 1;\n\n    const transactionDetails = useMemo(\n        () => ({\n            showDetails: showDetails ?? true,\n            callback: onRecordSelection,\n        }),\n        [showDetails, onRecordSelection]\n    );\n\n    const modalOptions = useMemo(() => ({ transaction: transactionDetails }), [transactionDetails]);\n\n    const mergeCustomData = useCallback(\n        ({ records, retrievedData }: { records: ITransaction[]; retrievedData: CustomDataRetrieved[] }) =>\n            records.map(record => {\n                const retrievedItem = retrievedData.find(item => item.id === record.id);\n                return { ...retrievedItem, ...record };\n            }),\n        []\n    );\n\n    const { customRecords: transactions, loadingCustomRecords } = useCustomColumnsData<ITransaction>({ records, onDataRetrieved, mergeCustomData });\n    const { updateDetails, resetDetails, selectedDetail } = useModalDetails(modalOptions);\n\n    const getExtraFieldsById = useCallback(\n        ({ id }: { id: string }) => {\n            const record = records.find(r => r.id === id);\n            const retrievedItem = transactions.find(item => item.id === id) as Record<string, any>;\n\n            if (record && retrievedItem) {\n                // Extract fields from 'retrievedItem' that are not in 'record'\n                const extraFields = Object.keys(retrievedItem).reduce((acc, key) => {\n                    if (!(key in record)) {\n                        acc[key] = retrievedItem[key];\n                    }\n                    return acc;\n                }, {} as Partial<CustomDataRetrieved>);\n                return extraFields;\n            }\n\n            // If no matching 'retrievedItem' or 'record' is found, return null or empty object\n            return null;\n        },\n        [records, transactions]\n    );\n\n    const onRowClick = useCallback(\n        ({ id }: ITransaction) => {\n            updateDetails({\n                selection: {\n                    type: 'transaction',\n                    data: id,\n                    balanceAccount: activeBalanceAccount || '',\n                    extraDetails: getExtraFieldsById({ id }) ?? EMPTY_OBJECT,\n                },\n                modalSize: 'small',\n            }).callback({ id });\n        },\n        [activeBalanceAccount, updateDetails, getExtraFieldsById]\n    );\n\n    const sinceDate = useMemo(() => {\n        const date = new Date(nowTimestamp);\n        date.setMonth(date.getMonth() - MAX_TRANSACTIONS_DATE_RANGE_MONTHS);\n        return date.toString();\n    }, [nowTimestamp]);\n\n    return (\n        <div className={BASE_CLASS}>\n            <Header hideTitle={hideTitle} titleKey=\"transactionsOverviewTitle\">\n                <FilterBarMobileSwitch {...filterBarState} />\n            </Header>\n            <FilterBar {...filterBarState}>\n                <BalanceAccountSelector\n                    activeBalanceAccount={activeBalanceAccount}\n                    balanceAccountSelectionOptions={balanceAccountSelectionOptions}\n                    onBalanceAccountSelection={onBalanceAccountSelection}\n                />\n                <DateFilter\n                    canResetFilters={canResetFilters}\n                    defaultParams={defaultParams}\n                    filters={filters}\n                    nowTimestamp={nowTimestamp}\n                    refreshNowTimestamp={refreshNowTimestamp}\n                    sinceDate={sinceDate}\n                    timezone={activeBalanceAccount?.timeZone}\n                    updateFilters={updateFilters}\n                />\n                {/* Remove status filter temporarily */}\n                {/* <MultiSelectionFilter {...statusesFilter} placeholder={i18n.get('filterPlaceholder.status')} /> */}\n                <MultiSelectionFilter {...categoriesFilter} placeholder={i18n.get('filterPlaceholder.category')} />\n                <AmountFilter\n                    availableCurrencies={availableCurrencies}\n                    selectedCurrencies={listFrom(filters[FilterParam.CURRENCIES])}\n                    name={'range'}\n                    label={i18n.get('amount')}\n                    minAmount={filters[FilterParam.MIN_AMOUNT]}\n                    maxAmount={filters[FilterParam.MAX_AMOUNT]}\n                    updateFilters={updateFilters}\n                    onChange={updateFilters}\n                />\n                <MultiSelectionFilter {...currenciesFilter} placeholder={i18n.get('filterPlaceholder.currency')} />\n            </FilterBar>\n            <div className={SUMMARY_CLASS}>\n                <div className={SUMMARY_ITEM_CLASS}>\n                    <TransactionTotals\n                        availableCurrencies={availableCurrencies}\n                        isAvailableCurrenciesFetching={isAvailableCurrenciesFetching}\n                        balanceAccountId={activeBalanceAccount?.id}\n                        statuses={statusesFilter.selection}\n                        categories={categoriesFilter.selection}\n                        createdUntil={filters[FilterParam.CREATED_UNTIL]!}\n                        createdSince={filters[FilterParam.CREATED_SINCE]!}\n                        currencies={currenciesFilter.selection}\n                        minAmount={filters[FilterParam.MIN_AMOUNT] ? parseFloat(filters[FilterParam.MIN_AMOUNT]) : undefined}\n                        maxAmount={filters[FilterParam.MAX_AMOUNT] ? parseFloat(filters[FilterParam.MAX_AMOUNT]) : undefined}\n                        fullWidth={isNarrowViewport}\n                    />\n                </div>\n                <div className={SUMMARY_ITEM_CLASS}>\n                    <Balances\n                        balanceAccountId={activeBalanceAccount?.id}\n                        onCurrenciesChange={handleCurrenciesChange}\n                        defaultCurrencyCode={activeBalanceAccount?.defaultCurrencyCode}\n                        fullWidth={isNarrowViewport}\n                    />\n                </div>\n            </div>\n\n            <DataDetailsModal\n                selectedDetail={selectedDetail as ReturnType<typeof useModalDetails>['selectedDetail']}\n                resetDetails={resetDetails}\n                className={BASE_CLASS_DETAILS}\n            >\n                <TransactionsTable\n                    activeBalanceAccount={activeBalanceAccount}\n                    availableCurrencies={availableCurrencies}\n                    error={error as AdyenPlatformExperienceError}\n                    hasMultipleCurrencies={hasMultipleCurrencies}\n                    limit={limit}\n                    limitOptions={limitOptions}\n                    loading={fetching || isLoadingBalanceAccount || !balanceAccounts || loadingCustomRecords}\n                    onContactSupport={onContactSupport}\n                    onLimitSelection={updateLimit}\n                    onRowClick={onRowClick}\n                    showPagination={true}\n                    transactions={onDataRetrieved ? transactions : records}\n                    customColumns={columns}\n                    {...paginationProps}\n                />\n            </DataDetailsModal>\n        </div>\n    );\n};\n","export const BASE_CLASS = 'adyen-pe-transactions-overview-container';\n","import useBalanceAccounts from '../../../../../hooks/useBalanceAccounts';\nimport DataOverviewContainer from '../../../../internal/DataOverviewContainer/DataOverviewContainer';\nimport type { TransactionOverviewComponentProps, ExternalUIComponentProps } from '../../../../types';\nimport { TransactionsOverview } from '../TransactionsOverview/TransactionsOverview';\nimport { BASE_CLASS } from './constants';\n\nfunction TransactionsOverviewContainer({ ...props }: ExternalUIComponentProps<TransactionOverviewComponentProps>) {\n    const { balanceAccounts, isBalanceAccountIdWrong, isFetching, error } = useBalanceAccounts(props.balanceAccountId);\n\n    return (\n        <DataOverviewContainer\n            balanceAccountsError={error}\n            className={BASE_CLASS}\n            errorMessage={'weCouldNotLoadTheTransactionsOverview'}\n            isBalanceAccountIdWrong={isBalanceAccountIdWrong}\n            onContactSupport={props.onContactSupport}\n        >\n            <TransactionsOverview {...props} balanceAccounts={balanceAccounts} isLoadingBalanceAccount={isFetching} />\n        </DataOverviewContainer>\n    );\n}\n\nexport default TransactionsOverviewContainer;\n","import { _UIComponentProps, ExternalComponentType, TransactionOverviewComponentProps } from '../../types';\nimport Transactions from './components/TransactionsOverviewContainer/TransactionsOverviewContainer';\nimport UIElement from '../UIElement/UIElement';\n\nexport class TransactionsElement extends UIElement<TransactionOverviewComponentProps> {\n    public static type: ExternalComponentType = 'transactions';\n\n    constructor(props: _UIComponentProps<TransactionOverviewComponentProps>) {\n        super(props);\n        this.componentToRender = this.componentToRender.bind(this);\n    }\n\n    public componentToRender = () => {\n        return (\n            <Transactions\n                {...this.props}\n                balanceAccountId={this.props.balanceAccountId}\n                ref={(ref: UIElement<TransactionOverviewComponentProps>) => void (this.componentRef = ref)}\n            ></Transactions>\n        );\n    };\n}\n\nexport default TransactionsElement;\n","export const CAPITAL_OFFER_CLASS_NAMES = {\n    base: 'adyen-pe-capital-offer',\n};\n","import { FunctionalComponent } from 'preact';\nimport { Header, HeaderProps } from '../Header';\n\nexport type CapitalHeaderProps = Omit<HeaderProps, 'subtitleKey'>;\n\nexport const CapitalHeader: FunctionalComponent<CapitalHeaderProps> = props => {\n    return <Header {...props} subtitleKey={'capital.poweredByAdyen'} />;\n};\n","import cx from 'classnames';\nimport './InfoBox.scss';\nimport { ComponentChildren, JSX } from 'preact';\n\ninterface InfoBoxProps {\n    /**\n     * Optional custom class name to apply additional styles to the InfoBox component.\n     */\n    className?: string;\n    /**\n     * The HTML tag to be used for rendering the InfoBox.\n     *\n     * @default 'div'\n     */\n    el?: JSX.ElementType;\n    /**\n     * Children elements to be rendered inside the InfoBox.\n     */\n    children?: ComponentChildren;\n}\n\nconst InfoBox = ({ className, el: InfoBoxTag = 'div', children }: InfoBoxProps) => (\n    <InfoBoxTag className={cx('adyen-pe-info-box', className)}>{children}</InfoBoxTag>\n);\n\nexport default InfoBox;\n","import { DAY_MS } from '../../../../internal/Calendar/calendar/constants';\nimport { parseDate } from '../../../../../utils';\n\nconst dateStartUTCTimestampOffset = (date: Date | number | string, numberOfDays = 0) => {\n    return new Date(new Date(date).setUTCHours(0, 0, 0, 0) + Math.floor(numberOfDays) * DAY_MS);\n};\n\nexport const getExpectedRepaymentDate = (expectedRepaymentPeriodDays: number) => {\n    return parseDate(dateStartUTCTimestampOffset(new Date(), expectedRepaymentPeriodDays));\n};\n\nexport const calculateMaximumRepaymentPeriodInMonths = (days?: number) => (days ? Math.ceil(days / 30) : null);\n\ninterface DebouncedFunction<T extends (...args: any[]) => any> {\n    (...args: Parameters<T>): void;\n    cancel: () => void;\n}\n\nexport const debounce = <T extends (...args: any[]) => any>(func: T, delay: number): DebouncedFunction<T> => {\n    let timeoutId: ReturnType<typeof setTimeout> | undefined;\n    let lastArgs: Parameters<T> | undefined;\n\n    function debounced(...args: Parameters<T>): void {\n        clearTimeout(timeoutId);\n        lastArgs = args;\n\n        timeoutId = setTimeout(() => {\n            func(lastArgs);\n            lastArgs = undefined;\n        }, delay);\n    }\n\n    debounced.cancel = () => {\n        if (timeoutId) {\n            clearTimeout(timeoutId);\n            timeoutId = undefined;\n            lastArgs = undefined;\n        }\n    };\n\n    return debounced;\n};\n\nexport const getPaymentRatePercentage = (rate: number) => {\n    return rate / 100;\n};\n","import { clamp } from '../../../utils';\n\n/**\n * Calculates the progress percentage of a slider based on the current value, min/max range, and step size.\n * This method ensures the value snaps to the nearest step,\n * handles invalid ranges, and clamps the progress between 0% and 100%.\n *\n * @param currentValue - The current value of the slider.\n * @param min - The minimum allowed value of the slider.\n * @param max - The maximum allowed value of the slider.\n * @param step - The step size that defines the increment/decrement of the slider value.\n * @returns The progress percentage (from 0% to 100%) based on the snapped value.\n */\n\nexport function calculateProgress(currentValue: number, min: number, max: number, step: number): number {\n    // If the min is greater than max, return 0% progress as it's an invalid range.\n    if (min >= max) return 0;\n\n    // Handle zero step size\n    const effectiveStep = step > 0 ? step : 1;\n\n    // Check for cases where step cannot be accommodated in the range\n    if (effectiveStep > max - min) return 0;\n\n    // Snap the current value to the nearest step\n    const snappedValue = Math.round((currentValue - min) / effectiveStep) * effectiveStep + min;\n\n    // Calculate the raw progress percentage by checking how far the snapped value is between min and max.\n    const percentage = ((snappedValue - min) * 100) / (max - min);\n\n    // Clamp the percentage between 0% and 100% to handle out-of-bounds values.\n    return Number(clamp(0, percentage, 100).toFixed(2));\n}\n","import { useMemo } from 'preact/hooks';\nimport './Slider.scss';\nimport { JSX } from 'preact';\nimport { calculateProgress } from './calculateProgress';\nimport cx from 'classnames';\n\nexport function calculateSliderAdjustedMidValue(minValue: number, maxValue: number, step: number) {\n    const mid = maxValue / 2;\n    let adjustedMid = Math.round(mid / step) * step;\n\n    if (adjustedMid < minValue) {\n        adjustedMid = minValue;\n    } else if (adjustedMid > maxValue) {\n        adjustedMid = maxValue;\n    }\n\n    return adjustedMid;\n}\n\n/**\n * Props for the Slider component.\n */\ninterface SliderProps {\n    /**\n     * Minimum value of the slider.\n     * @default 0\n     */\n    min?: number;\n\n    /**\n     * Maximum value of the slider.\n     * @default 100\n     */\n    max?: number;\n\n    /**\n     * Step value for the slider.\n     * Defines the increment/decrement amount when the slider is moved.\n     * @default 1\n     */\n    step?: number;\n\n    /**\n     * The current value of the slider.\n     * @default min\n     */\n    value?: number;\n\n    /**\n     * Callback function that is called when the slider value changes.\n     * @param value - The new value of the slider.\n     */\n    onChange?: (event: JSX.TargetedEvent<HTMLInputElement, Event>) => void;\n\n    /**\n     * Optional class name(s) for styling the Slider.\n     */\n    className?: string;\n\n    /**\n     * Any additional attributes or properties that can be passed to the Slider element\n     */\n    [key: string]: any;\n}\n\nconst Slider = ({ min = 0, max = 100, step = 1, value = min, onChange, className, ...restOfProps }: SliderProps) => {\n    const progress = useMemo(() => {\n        return calculateProgress(value, min, max, step);\n    }, [value, min, max, step]);\n\n    return (\n        <input\n            type=\"range\"\n            className={cx('adyen-pe-slider', className)}\n            min={min}\n            max={max}\n            step={step}\n            value={value}\n            onChange={onChange}\n            style={{ backgroundSize: `${progress}% 100%` }}\n            {...restOfProps}\n        />\n    );\n};\n\nexport default Slider;\n","import './CapitalSlider.scss';\nimport Slider from '../Slider';\nimport { JSX } from 'preact';\nimport uniqueId from '../../../utils/random/uniqueId';\nimport Typography from '../Typography/Typography';\nimport { TypographyVariant } from '../Typography/types';\nimport useCoreContext from '../../../core/Context/useCoreContext';\nimport { IDynamicOffersConfig } from '../../../types';\nimport cx from 'classnames';\n\n/**\n * Props for the CapitalSlider component.\n */\ninterface CapitalSliderProps {\n    /**\n     * The dynamic Capital offer\n     */\n    dynamicOffersConfig: IDynamicOffersConfig;\n\n    /**\n     * The current value of the CapitalSlider.\n     * @default dynamicCapitalOffer.minAmount.value\n     */\n    value?: number;\n\n    /**\n     * Callback function that is called when the slider value changes.\n     * @param value - The new value of the slider.\n     */\n    onValueChange?: (value: number) => void;\n\n    /**\n     * Called when the user releases the slider after changing its value.\n     * @param value - The final value of the slider when released.\n     */\n    onRelease?: (value: number) => void;\n\n    /**\n     * Optional class name(s) for styling the Slider.\n     */\n    className?: string;\n}\n\nconst CapitalSlider = ({\n    dynamicOffersConfig,\n    value = dynamicOffersConfig.minAmount.value,\n    onValueChange,\n    onRelease,\n    className,\n}: CapitalSliderProps) => {\n    const id = uniqueId();\n    const { i18n } = useCoreContext();\n\n    const handleValueChange = (event: JSX.TargetedEvent<HTMLInputElement, Event>) => {\n        const value = Number((event.target as HTMLInputElement).value);\n        onValueChange?.(value);\n    };\n\n    const handleRelease = (event: JSX.TargetedKeyboardEvent<HTMLInputElement>) => {\n        const value = Number((event.target as HTMLInputElement).value);\n        onRelease?.(value);\n    };\n\n    return (\n        <div className={cx('adyen-pe-capital-slider', className)}>\n            <label htmlFor={id} className=\"adyen-pe-capital-slider__label\">\n                <Typography variant={TypographyVariant.BODY} stronger>\n                    {i18n.get('capital.howMuchMoneyDoYouNeed')}\n                </Typography>\n            </label>\n            <div>\n                <output htmlFor={id} className=\"adyen-pe-capital-slider__value\" aria-live=\"polite\">\n                    <Typography variant={TypographyVariant.TITLE} strongest>\n                        {i18n.amount(value, dynamicOffersConfig.minAmount.currency, { maximumFractionDigits: 0 })}\n                    </Typography>\n                </output>\n                <Slider\n                    id={id}\n                    value={value}\n                    min={dynamicOffersConfig.minAmount.value}\n                    max={dynamicOffersConfig.maxAmount.value}\n                    step={dynamicOffersConfig.step}\n                    onChange={handleValueChange}\n                    onMouseUp={handleRelease}\n                    onTouchEnd={handleRelease}\n                    onKeyUp={handleRelease}\n                    className=\"adyen-pe-capital-slider__input\"\n                />\n            </div>\n            <div className=\"adyen-pe-capital-slider__labels\">\n                <label>\n                    <Typography variant={TypographyVariant.CAPTION}>{i18n.get('min')}</Typography>\n                    <Typography variant={TypographyVariant.BODY}>\n                        {i18n.amount(dynamicOffersConfig.minAmount.value, dynamicOffersConfig.minAmount.currency, { maximumFractionDigits: 0 })}\n                    </Typography>\n                </label>\n                <label>\n                    <Typography variant={TypographyVariant.CAPTION}>{i18n.get('max')}</Typography>\n                    <Typography variant={TypographyVariant.BODY}>\n                        {i18n.amount(dynamicOffersConfig.maxAmount.value, dynamicOffersConfig.maxAmount.currency, { maximumFractionDigits: 0 })}\n                    </Typography>\n                </label>\n            </div>\n        </div>\n    );\n};\n\nexport default CapitalSlider;\n","import AdyenPlatformExperienceError from '../../../core/Errors/AdyenPlatformExperienceError';\nimport { ErrorMessage, getCommonErrorMessage } from '../getCommonErrorCode';\nimport CopyText from '../../internal/CopyText/CopyText';\n\nexport const COMMON_CAPITAL_ERROR_MESSAGE = {\n    contactSupportForHelp: 'contactSupportForHelp',\n    couldNotLoadOffers: 'capital.weCouldNotLoadFinancialOffers',\n    tryRefreshingThePage: 'tryRefreshingThePageOrComeBackLater',\n    somethingWentWrong: 'somethingWentWrong',\n} as const;\n\nconst UNKNOWN_ERROR = {\n    title: COMMON_CAPITAL_ERROR_MESSAGE.somethingWentWrong,\n    message: [COMMON_CAPITAL_ERROR_MESSAGE.couldNotLoadOffers, COMMON_CAPITAL_ERROR_MESSAGE.tryRefreshingThePage],\n    refreshComponent: true,\n};\n\nexport const getCapitalErrorMessage = (error: AdyenPlatformExperienceError | undefined, onContactSupport?: () => void): ErrorMessage => {\n    if (!error) return UNKNOWN_ERROR;\n    const commonError = getCommonErrorMessage(error, onContactSupport);\n    if (commonError) return commonError;\n\n    const errorCodeMessage = onContactSupport ? 'theErrorCodeIs' : 'contactSupportForHelpAndShareErrorCode';\n\n    switch (error.errorCode) {\n        case undefined:\n            return { ...UNKNOWN_ERROR, ...(onContactSupport ? { onContactSupport } : {}) };\n        case '30_016': {\n            return {\n                title: COMMON_CAPITAL_ERROR_MESSAGE.somethingWentWrong,\n                message: [COMMON_CAPITAL_ERROR_MESSAGE.couldNotLoadOffers, errorCodeMessage],\n                translationValues: {\n                    [errorCodeMessage]: error.requestId ? <CopyText textToCopy={error.requestId} /> : null,\n                },\n                onContactSupport,\n            };\n        }\n        case '30_011': {\n            return {\n                title: 'capital.accountIsInactive',\n                message: [COMMON_CAPITAL_ERROR_MESSAGE.couldNotLoadOffers, errorCodeMessage],\n                translationValues: {\n                    [errorCodeMessage]: error.requestId ? <CopyText textToCopy={error.requestId} /> : null,\n                },\n                onContactSupport,\n            };\n        }\n        case '30_600': {\n            return {\n                title: COMMON_CAPITAL_ERROR_MESSAGE.somethingWentWrong,\n                message: ['capital.weCouldNotContinueWithTheOffer', errorCodeMessage],\n                translationValues: {\n                    [errorCodeMessage]: error.requestId ? <CopyText textToCopy={error.requestId} /> : null,\n                },\n                onContactSupport,\n            };\n        }\n        case 'EMPTY_CONFIG': {\n            return {\n                title: COMMON_CAPITAL_ERROR_MESSAGE.somethingWentWrong,\n                message: ['capital.weCouldNotContinueWithTheOffer', COMMON_CAPITAL_ERROR_MESSAGE.contactSupportForHelp],\n                onContactSupport,\n            };\n        }\n        default:\n            return { ...UNKNOWN_ERROR, refreshComponent: true };\n    }\n};\n","import { getCapitalErrorMessage } from '../../../../utils/capital/getCapitalErrorMessage';\nimport AdyenPlatformExperienceError from '../../../../../core/Errors/AdyenPlatformExperienceError';\nimport { ErrorMessageDisplay } from '../../../../internal/ErrorMessageDisplay/ErrorMessageDisplay';\nimport { useCallback, useMemo } from 'preact/hooks';\nimport Button from '../../../../internal/Button/Button';\nimport { ButtonVariant } from '../../../../internal/Button/types';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport { AdyenErrorResponse } from '../../../../../core/Http/types';\nimport { ErrorTypes } from '../../../../../core/Http/utils';\n\nexport const CapitalErrorMessageDisplay = ({\n    emptyGrantOffer,\n    error,\n    onContactSupport,\n    onBack,\n}: {\n    emptyGrantOffer?: boolean;\n    error?: Error | AdyenErrorResponse;\n    onBack?: () => void;\n    onContactSupport?: () => void;\n}) => {\n    const { i18n } = useCoreContext();\n\n    const renderSecondaryButton = useCallback(\n        () => (\n            <>\n                {onBack && (\n                    <Button variant={ButtonVariant.SECONDARY} onClick={onBack}>\n                        {i18n.get('back')}\n                    </Button>\n                )}\n            </>\n        ),\n        [i18n, onBack]\n    );\n\n    const capitalError = useMemo(() => {\n        if (emptyGrantOffer) {\n            return new AdyenPlatformExperienceError(ErrorTypes.ERROR, 'EmptyConfig', 'Empty Configuration', 'EMPTY_CONFIG');\n        }\n        return error;\n    }, [emptyGrantOffer, error]);\n    return (\n        <ErrorMessageDisplay\n            absolutePosition={false}\n            withImage\n            renderSecondaryButton={renderSecondaryButton}\n            outlined={false}\n            {...getCapitalErrorMessage(capitalError as AdyenPlatformExperienceError, onContactSupport)}\n        />\n    );\n};\n","export const CAPITAL_REPAYMENT_FREQUENCY = 30;\n","import InfoBox from '../../../../internal/InfoBox';\nimport Typography from '../../../../internal/Typography/Typography';\nimport { TypographyElement, TypographyVariant } from '../../../../internal/Typography/types';\nimport StructuredList from '../../../../internal/StructuredList';\nimport Button from '../../../../internal/Button/Button';\nimport { ButtonVariant } from '../../../../internal/Button/types';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport { useCallback, useMemo, useState } from 'preact/hooks';\nimport { useEffect } from 'preact/compat';\nimport { useAuthContext } from '../../../../../core/Auth';\nimport useMutation from '../../../../../hooks/useMutation/useMutation';\nimport { IDynamicOffersConfig, IGrantOfferResponseDTO } from '../../../../../types';\nimport './CapitalOfferSelection.scss';\nimport { debounce, getExpectedRepaymentDate, getPaymentRatePercentage } from '../utils/utils';\nimport CapitalSlider from '../../../../internal/CapitalSlider';\nimport { CapitalErrorMessageDisplay } from '../utils/CapitalErrorMessageDisplay';\nimport { calculateSliderAdjustedMidValue } from '../../../../internal/Slider/Slider';\nimport { CAPITAL_REPAYMENT_FREQUENCY } from '../../../../constants';\n\ntype CapitalOfferSelectionProps = {\n    dynamicOffersConfig: IDynamicOffersConfig | undefined;\n    dynamicOffersConfigError?: Error;\n    emptyGrantOffer: boolean;\n    onContactSupport?: () => void;\n    onOfferDismiss?: () => void;\n    onOfferSelect: (data: IGrantOfferResponseDTO) => void;\n    requestedAmount: number | undefined;\n};\n\nconst LoadingSkeleton = () => (\n    <div className=\"adyen-pe-capital-offer-selection__loading-container\">\n        {[...Array(4)].map((_, index) => (\n            <div key={index} className=\"adyen-pe-capital-offer-selection__loading-skeleton\"></div>\n        ))}\n    </div>\n);\n\nconst InformationDisplay = ({ data }: { data: IGrantOfferResponseDTO }) => {\n    const { i18n } = useCoreContext();\n    const expectedRepaymentDate = useMemo(() => {\n        const date = data.expectedRepaymentPeriodDays && getExpectedRepaymentDate(data.expectedRepaymentPeriodDays);\n        if (date) return i18n.date(date, { month: 'long' });\n        return null;\n    }, [data, i18n]);\n    return (\n        <div className=\"adyen-pe-capital-offer-selection__information\">\n            <Typography el={TypographyElement.SPAN} variant={TypographyVariant.BODY} wide={true}>\n                {expectedRepaymentDate &&\n                    i18n.get('capital.youWillNeedToRepayAMinimumOfXEveryXDaysToPayOffTheFunds', {\n                        values: {\n                            amount: i18n.amount(data.thresholdAmount.value, data.thresholdAmount.currency),\n                            days: CAPITAL_REPAYMENT_FREQUENCY,\n                            date: expectedRepaymentDate,\n                        },\n                    })}\n            </Typography>\n            <StructuredList\n                renderValue={val => (\n                    <Typography el={TypographyElement.SPAN} stronger variant={TypographyVariant.CAPTION}>\n                        {val}\n                    </Typography>\n                )}\n                renderLabel={val => (\n                    <Typography el={TypographyElement.SPAN} variant={TypographyVariant.CAPTION}>\n                        {val}\n                    </Typography>\n                )}\n                items={[\n                    { key: 'capital.fees', value: i18n.amount(data.feesAmount.value, data.feesAmount.currency) },\n                    {\n                        key: 'capital.dailyRepaymentRate',\n                        value: `${i18n.get('capital.xPercent', {\n                            values: { percentage: getPaymentRatePercentage(data.repaymentRate) },\n                        })}`,\n                    },\n                    {\n                        key: 'capital.expectedRepaymentPeriod',\n                        value: i18n.get('capital.xDays', { values: { days: data.expectedRepaymentPeriodDays } }),\n                    },\n                ]}\n            />\n        </div>\n    );\n};\n\nexport const CapitalOfferSelection = ({\n    dynamicOffersConfig,\n    dynamicOffersConfigError,\n    emptyGrantOffer,\n    onContactSupport,\n    onOfferDismiss,\n    onOfferSelect,\n    requestedAmount,\n}: CapitalOfferSelectionProps) => {\n    const { i18n } = useCoreContext();\n\n    const initialValue = useMemo(() => {\n        if (dynamicOffersConfig)\n            return calculateSliderAdjustedMidValue(\n                dynamicOffersConfig.minAmount.value,\n                dynamicOffersConfig.maxAmount.value,\n                dynamicOffersConfig.step\n            );\n        return undefined;\n    }, [dynamicOffersConfig]);\n\n    const [requestedValue, setRequestedValue] = useState<number | undefined>(undefined);\n\n    const currency = useMemo(() => dynamicOffersConfig?.minAmount.currency, [dynamicOffersConfig?.minAmount.currency]);\n\n    const { createGrantOffer, getDynamicGrantOffer } = useAuthContext().endpoints;\n    const getDynamicGrantOfferMutation = useMutation({\n        queryFn: getDynamicGrantOffer,\n        options: {\n            retry: 1,\n            shouldRetry: useCallback((error: any) => {\n                return error.status === 500;\n            }, []),\n            onSettled: useCallback(() => {\n                setIsLoading(false);\n            }, []),\n        },\n    });\n\n    const reviewOfferMutation = useMutation({\n        queryFn: createGrantOffer,\n        options: {\n            onSuccess: data => onOfferSelect(data),\n        },\n    });\n\n    const onReview = useCallback(() => {\n        void reviewOfferMutation.mutate({\n            body: {\n                amount: getDynamicGrantOfferMutation.data?.grantAmount.value || requestedValue!,\n                currency: getDynamicGrantOfferMutation.data?.grantAmount.currency || currency!,\n            },\n            contentType: 'application/json',\n        });\n    }, [currency, getDynamicGrantOfferMutation.data, requestedValue, reviewOfferMutation]);\n\n    const getOffer = useCallback(\n        (amount: number) => getDynamicGrantOfferMutation.mutate({}, { query: { amount, currency: currency! } }),\n        [currency, getDynamicGrantOfferMutation]\n    );\n\n    const [isLoading, setIsLoading] = useState(false);\n\n    const debouncedGetOfferCall = debounce(getOffer, 300);\n\n    const onChangeHandler = useCallback(\n        (val: number) => {\n            debouncedGetOfferCall.cancel();\n            setIsLoading(true);\n            setRequestedValue(val);\n        },\n        [debouncedGetOfferCall]\n    );\n\n    const handleSliderRelease = (val: number) => debouncedGetOfferCall(val);\n\n    useEffect(() => {\n        if (dynamicOffersConfig && !getDynamicGrantOfferMutation.data && !requestedValue) {\n            setRequestedValue(prev =>\n                !prev ? (requestedAmount ? Number(requestedAmount) : initialValue || dynamicOffersConfig.minAmount.value) : prev\n            );\n            void getOffer(requestedValue || initialValue || dynamicOffersConfig.minAmount.value);\n        }\n    }, [dynamicOffersConfig, getDynamicGrantOfferMutation.data, getOffer, initialValue, requestedAmount, requestedValue]);\n\n    const loadingButtonState = useMemo(\n        () => reviewOfferMutation.isLoading || getDynamicGrantOfferMutation.isLoading || isLoading,\n        [getDynamicGrantOfferMutation.isLoading, isLoading, reviewOfferMutation.isLoading]\n    );\n\n    return (\n        <div className=\"adyen-pe-capital-offer-selection\">\n            {reviewOfferMutation.error || getDynamicGrantOfferMutation.error || emptyGrantOffer || dynamicOffersConfigError ? (\n                <CapitalErrorMessageDisplay\n                    error={reviewOfferMutation.error || getDynamicGrantOfferMutation.error || dynamicOffersConfigError}\n                    onBack={onOfferDismiss}\n                    onContactSupport={onContactSupport}\n                    emptyGrantOffer={emptyGrantOffer}\n                />\n            ) : (\n                <>\n                    {dynamicOffersConfig && (\n                        <CapitalSlider\n                            value={requestedValue}\n                            dynamicOffersConfig={dynamicOffersConfig}\n                            onValueChange={onChangeHandler}\n                            onRelease={handleSliderRelease}\n                        />\n                    )}\n                    <InfoBox className=\"adyen-pe-capital-offer-selection__details\">\n                        {!getDynamicGrantOfferMutation.data || getDynamicGrantOfferMutation.isLoading || isLoading ? (\n                            <LoadingSkeleton />\n                        ) : getDynamicGrantOfferMutation.data ? (\n                            <InformationDisplay data={getDynamicGrantOfferMutation.data} />\n                        ) : null}\n                    </InfoBox>\n                    <div className=\"adyen-pe-capital-offer-selection__buttons\">\n                        {onOfferDismiss && (\n                            <Button variant={ButtonVariant.SECONDARY} onClick={onOfferDismiss}>\n                                {i18n.get('back')}\n                            </Button>\n                        )}\n                        <Button\n                            variant={ButtonVariant.PRIMARY}\n                            state={loadingButtonState ? 'loading' : undefined}\n                            onClick={onReview}\n                            disabled={reviewOfferMutation.isLoading || !dynamicOffersConfig?.minAmount}\n                        >\n                            {i18n.get(loadingButtonState ? 'loading' : 'capital.reviewOffer')}\n                        </Button>\n                    </div>\n                </>\n            )}\n        </div>\n    );\n};\n","import InfoBox from '../../../../internal/InfoBox';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport { IGrant, IGrantOfferResponseDTO } from '../../../../../types';\nimport { useCallback, useMemo } from 'preact/hooks';\nimport { calculateMaximumRepaymentPeriodInMonths, getExpectedRepaymentDate, getPaymentRatePercentage } from '../utils/utils';\nimport Typography from '../../../../internal/Typography/Typography';\nimport { TypographyElement, TypographyVariant } from '../../../../internal/Typography/types';\nimport StructuredList from '../../../../internal/StructuredList';\nimport './CapitalOfferSummary.scss';\nimport Button from '../../../../internal/Button/Button';\nimport { ButtonVariant } from '../../../../internal/Button/types';\nimport useMutation from '../../../../../hooks/useMutation/useMutation';\nimport { useAuthContext } from '../../../../../core/Auth';\nimport { Tooltip } from '../../../../internal/Tooltip/Tooltip';\nimport { EMPTY_OBJECT } from '../../../../../utils';\nimport { AdyenErrorResponse } from '../../../../../core/Http/types';\nimport { AlertTypeOption } from '../../../../internal/Alert/types';\nimport Alert from '../../../../internal/Alert/Alert';\nimport Icon from '../../../../internal/Icon';\nimport { CapitalErrorMessageDisplay } from '../utils/CapitalErrorMessageDisplay';\nimport cx from 'classnames';\nimport { StructuredListItem } from '../../../../internal/StructuredList/types';\nimport { CAPITAL_REPAYMENT_FREQUENCY } from '../../../../constants';\n\nconst errorMessageWithAlert = ['30_013'];\n\nexport const CapitalOfferSummary = ({\n    grantOffer,\n    onBack,\n    onFundsRequest,\n    onContactSupport,\n}: {\n    grantOffer: IGrantOfferResponseDTO;\n    onBack: () => void;\n    onFundsRequest?: (data: IGrant) => void;\n    onContactSupport?: () => void;\n}) => {\n    const { i18n } = useCoreContext();\n    const expectedRepaymentDate = useMemo(() => {\n        const date = getExpectedRepaymentDate(grantOffer.expectedRepaymentPeriodDays);\n        return date ? i18n.date(date, { month: 'long' }) : null;\n    }, [grantOffer, i18n]);\n\n    const { requestFunds } = useAuthContext().endpoints;\n\n    const requestFundsMutation = useMutation({\n        queryFn: requestFunds,\n        options: {\n            onSuccess: data => onFundsRequest?.(data),\n        },\n    });\n\n    const requestFundsCallback = useCallback(\n        (id: string) => {\n            void requestFundsMutation.mutate(EMPTY_OBJECT, { path: { grantOfferId: id } });\n        },\n        [requestFundsMutation]\n    );\n\n    const onRequestFundsHandler = useCallback(() => {\n        grantOffer.id && requestFundsCallback(grantOffer.id);\n    }, [grantOffer.id, requestFundsCallback]);\n\n    const maximumRepaymentPeriod = useMemo(\n        () => calculateMaximumRepaymentPeriodInMonths(grantOffer.maximumRepaymentPeriodDays),\n        [grantOffer.maximumRepaymentPeriodDays]\n    );\n\n    const requestErrorAlert = useMemo<{ title: string; message: string; errorCode?: string } | null>(() => {\n        const err = requestFundsMutation.error ? (requestFundsMutation.error as AdyenErrorResponse) : null;\n\n        if (err && errorMessageWithAlert.includes(err.errorCode)) {\n            switch (err.errorCode) {\n                case '30_013':\n                    return {\n                        title: i18n.get('capital.thereIsNoPrimaryAccountConfigured'),\n                        message: i18n.get('capital.weCouldNotContinueWithTheOfferContactSupportForHelp'),\n                        errorCode: '30_013',\n                    };\n                default:\n                    return {\n                        title: i18n.get('somethingWentWrong'),\n                        message: i18n.get('capital.weCouldNotLoadFinancialOffers'),\n                    };\n            }\n        }\n\n        return null;\n    }, [i18n, requestFundsMutation.error]);\n\n    const structuredListItems = useMemo(() => {\n        const summaryItems: StructuredListItem[] = [\n            {\n                key: 'capital.fees',\n                value: i18n.amount(grantOffer.feesAmount.value, grantOffer.feesAmount.currency),\n            },\n            {\n                key: 'capital.totalRepaymentAmount',\n                value: i18n.amount(grantOffer.totalAmount.value, grantOffer.totalAmount.currency),\n            },\n            {\n                key: 'capital.repaymentThreshold',\n                value: i18n.amount(grantOffer.thresholdAmount.value, grantOffer.thresholdAmount.currency),\n            },\n            {\n                key: 'capital.dailyRepaymentRate',\n                value: i18n.get('capital.xPercent', { values: { percentage: getPaymentRatePercentage(grantOffer.repaymentRate) } }),\n            },\n            {\n                key: 'capital.expectedRepaymentPeriod',\n                value: i18n.get('capital.xDays', { values: { days: grantOffer.expectedRepaymentPeriodDays } }),\n            },\n            { key: 'account', value: i18n.get('capital.primaryAccount') },\n        ];\n\n        if (maximumRepaymentPeriod)\n            summaryItems.splice(4, 0, {\n                key: 'capital.maximumRepaymentPeriod',\n                value:\n                    maximumRepaymentPeriod === 1\n                        ? i18n.get('capital.oneMonth')\n                        : i18n.get('capital.xMonths', { values: { months: maximumRepaymentPeriod } }),\n            });\n        return summaryItems;\n    }, [grantOffer, i18n, maximumRepaymentPeriod]);\n\n    return !requestErrorAlert && requestFundsMutation.error ? (\n        <CapitalErrorMessageDisplay error={requestFundsMutation.error} onBack={onBack} onContactSupport={onContactSupport} />\n    ) : (\n        <div className=\"adyen-pe-capital-offer-summary\">\n            <InfoBox className=\"adyen-pe-capital-offer-summary__grant-summary\">\n                <Typography el={TypographyElement.PARAGRAPH} variant={TypographyVariant.BODY}>\n                    {i18n.get('capital.youAreRequestingFundingOf')}{' '}\n                    <strong>{`${i18n.amount(grantOffer.grantAmount.value, grantOffer.grantAmount.currency, { minimumFractionDigits: 0 })}.`}</strong>\n                </Typography>\n                <Typography el={TypographyElement.PARAGRAPH} variant={TypographyVariant.CAPTION}>\n                    {i18n.get('capital.youWillNeedToRepayAMinimumOfXEveryXDaysToPayOffTheFunds', {\n                        values: {\n                            amount: i18n.amount(grantOffer.thresholdAmount.value, grantOffer.thresholdAmount.currency),\n                            days: CAPITAL_REPAYMENT_FREQUENCY,\n                            date: expectedRepaymentDate ?? '',\n                        },\n                    })}\n                </Typography>\n            </InfoBox>\n            <StructuredList\n                classNames=\"adyen-pe-capital-offer-summary__details\"\n                renderLabel={(val, key) => {\n                    if (key === 'capital.repaymentThreshold') {\n                        return (\n                            <Tooltip\n                                isContainerHovered\n                                content={i18n.get('capital.minimumRepaymentToRepayTheFinancingOnTime', {\n                                    values: { days: CAPITAL_REPAYMENT_FREQUENCY },\n                                })}\n                            >\n                                <span>\n                                    <Typography\n                                        className={'adyen-pe-capital-offer-summary__list-label'}\n                                        el={TypographyElement.SPAN}\n                                        variant={TypographyVariant.CAPTION}\n                                    >\n                                        {val}\n                                    </Typography>\n                                </span>\n                            </Tooltip>\n                        );\n                    }\n                    return (\n                        <Typography\n                            className={'adyen-pe-capital-offer-summary__list-label'}\n                            el={TypographyElement.SPAN}\n                            variant={TypographyVariant.CAPTION}\n                        >\n                            {val}\n                        </Typography>\n                    );\n                }}\n                renderValue={(val, key) => {\n                    const showWarningIcon =\n                        key === 'account' && requestFundsMutation.error && requestErrorAlert && requestErrorAlert.errorCode === '30_013';\n\n                    return (\n                        <Typography\n                            className={cx({\n                                ['adyen-pe-capital-offer-summary__details--error']: showWarningIcon,\n                            })}\n                            el={TypographyElement.SPAN}\n                            variant={TypographyVariant.CAPTION}\n                            stronger\n                        >\n                            {showWarningIcon ? <Icon name={'warning-filled'} /> : null}\n                            {val}\n                        </Typography>\n                    );\n                }}\n                items={structuredListItems}\n            />\n            {requestErrorAlert && (\n                <Alert\n                    className={'adyen-pe-capital-offer-summary__error-alert'}\n                    type={AlertTypeOption.WARNING}\n                    title={requestErrorAlert.title}\n                    description={requestErrorAlert.message}\n                >\n                    {onContactSupport ? (\n                        <Button className={'adyen-pe-capital-offer-summary__error-alert-button'} onClick={onContactSupport}>\n                            {i18n.get('contactSupport')}\n                        </Button>\n                    ) : null}\n                </Alert>\n            )}\n            <div className=\"adyen-pe-capital-offer-summary__buttons\">\n                {requestFundsMutation.error && !requestErrorAlert ? null : (\n                    <Button variant={ButtonVariant.SECONDARY} onClick={onBack}>\n                        {i18n.get('back')}\n                    </Button>\n                )}\n                <Button\n                    variant={ButtonVariant.PRIMARY}\n                    state={requestFundsMutation.isLoading ? 'loading' : undefined}\n                    onClick={onRequestFundsHandler}\n                    disabled={requestFundsMutation.isLoading || !!requestFundsMutation.error}\n                >\n                    {i18n.get(requestFundsMutation.isLoading ? 'capital.requesting' : 'capital.requestFunds')}\n                </Button>\n            </div>\n        </div>\n    );\n};\n","import { FunctionalComponent } from 'preact';\nimport { useCallback, useMemo, useState } from 'preact/hooks';\nimport { ExternalUIComponentProps } from '../../../../types';\nimport { CapitalOfferProps } from '../../types';\nimport { CAPITAL_OFFER_CLASS_NAMES } from './constants';\nimport { CapitalHeader } from '../../../../internal/CapitalHeader';\nimport { CapitalOfferSelection } from '../CapitalOfferSelection/CapitalOfferSelection';\nimport { IDynamicOffersConfig, IGrantOfferResponseDTO } from '../../../../../types';\nimport { useAuthContext } from '../../../../../core/Auth';\nimport { useFetch } from '../../../../../hooks/useFetch';\nimport { EMPTY_OBJECT } from '../../../../../utils';\nimport { CapitalOfferSummary } from '../CapitalOfferSummary/CapitalOfferSummary';\n\ntype CapitalOfferState = 'OfferSelection' | 'OfferSummary';\n\nexport const CapitalOffer: FunctionalComponent<ExternalUIComponentProps<CapitalOfferProps>> = ({\n    externalDynamicOffersConfig,\n    hideTitle,\n    onContactSupport,\n    onFundsRequest,\n    onOfferDismiss,\n    onOfferSelect,\n}) => {\n    const { getDynamicGrantOffersConfiguration } = useAuthContext().endpoints;\n\n    const [emptyGrantOffer, setEmptyGrantOffer] = useState(false);\n    const onSuccess = useCallback((data: IDynamicOffersConfig | undefined) => {\n        if (data) {\n            setEmptyGrantOffer(false);\n        } else setEmptyGrantOffer(true);\n    }, []);\n\n    const { data: internalDynamicOffersConfig, error: dynamicOffersConfigError } = useFetch({\n        fetchOptions: {\n            enabled: !externalDynamicOffersConfig && !!getDynamicGrantOffersConfiguration,\n            onSuccess: onSuccess,\n        },\n        queryFn: useCallback(async () => {\n            return getDynamicGrantOffersConfiguration?.(EMPTY_OBJECT);\n        }, [getDynamicGrantOffersConfiguration]),\n    });\n\n    const config = externalDynamicOffersConfig || internalDynamicOffersConfig;\n\n    const [selectedOffer, setSelectedOffer] = useState<IGrantOfferResponseDTO>();\n\n    const [requestedAmount, setRequestedAmount] = useState<number>();\n\n    const onOfferSelectHandler = useCallback(\n        (data: IGrantOfferResponseDTO) => {\n            if (onOfferSelect) {\n                onOfferSelect(data);\n            } else {\n                setRequestedAmount(data?.grantAmount.value);\n                setSelectedOffer(data);\n            }\n        },\n        [onOfferSelect]\n    );\n\n    const capitalOfferState = useMemo<CapitalOfferState>(() => {\n        if (selectedOffer) {\n            return 'OfferSummary';\n        }\n        return 'OfferSelection';\n    }, [selectedOffer]);\n\n    return (\n        <div className={CAPITAL_OFFER_CLASS_NAMES.base}>\n            <CapitalHeader\n                hasDivider\n                hideTitle={hideTitle}\n                titleKey={capitalOfferState === 'OfferSummary' ? 'capital.businessFinancingSummary' : 'capital.businessFinancingOffer'}\n            />\n            {capitalOfferState === 'OfferSelection' && (\n                <CapitalOfferSelection\n                    requestedAmount={requestedAmount}\n                    dynamicOffersConfig={config}\n                    dynamicOffersConfigError={dynamicOffersConfigError}\n                    onOfferDismiss={onOfferDismiss}\n                    onOfferSelect={onOfferSelectHandler}\n                    emptyGrantOffer={emptyGrantOffer}\n                    onContactSupport={onContactSupport}\n                />\n            )}\n            {capitalOfferState === 'OfferSummary' && (\n                <CapitalOfferSummary\n                    grantOffer={selectedOffer!}\n                    onBack={() => setSelectedOffer(undefined)}\n                    onFundsRequest={onFundsRequest}\n                    onContactSupport={onContactSupport}\n                />\n            )}\n        </div>\n    );\n};\n","import { _UIComponentProps, ExternalComponentType } from '../../types';\nimport UIElement from '../UIElement/UIElement';\nimport { CapitalOfferElementProps } from './types';\nimport { CapitalOffer } from './components/CapitalOffer/CapitalOffer';\n\nexport class CapitalOfferElement extends UIElement<CapitalOfferElementProps> {\n    public static type: ExternalComponentType = 'capitalOffer';\n\n    constructor(props: _UIComponentProps<CapitalOfferElementProps>) {\n        super(props);\n        this.componentToRender = this.componentToRender.bind(this);\n        this.customClassNames = 'adyen-pe-capital-offer-component';\n    }\n\n    public componentToRender = () => {\n        return <CapitalOffer {...this.props} />;\n    };\n}\n\nexport default CapitalOfferElement;\n","import { useCallback, useEffect, useRef, useState } from 'preact/hooks';\n\nexport const useFreezePeriod = (timeout = 1000, initialState = false) => {\n    const [frozen, setFrozen] = useState(initialState);\n    const rafId = useRef<ReturnType<typeof requestAnimationFrame>>();\n    const timeoutId = useRef<ReturnType<typeof setTimeout>>();\n\n    const freeze = useCallback(() => {\n        if (frozen) return;\n\n        timeoutId.current = setTimeout(() => {\n            rafId.current = requestAnimationFrame(() => setFrozen(false));\n        }, timeout);\n\n        setFrozen(true);\n    }, [frozen, timeout]);\n\n    useEffect(() => {\n        return () => {\n            cancelAnimationFrame(rafId.current!);\n            clearTimeout(timeoutId.current!);\n            rafId.current = timeoutId.current = null!;\n        };\n    }, [timeout]);\n\n    return { freeze, frozen } as const;\n};\n\nexport default useFreezePeriod;\n","import { SVGProps } from 'preact/compat';\n\n/**\n * @deprecated This component is deprecated. Use <Icon name=\"download\"/> instead.\n */\nconst Download = ({ ...props }: Omit<SVGProps<SVGElement>, 'ref'>) => (\n    <svg width=\"15\" height=\"14\" viewBox=\"0 0 15 14\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" {...props}>\n        <path\n            d=\"M8.25 0.25V8.18957L10.5001 5.93945L11.5608 7.00011L7.50011 11.0608L3.43945 7.00011L4.50011 5.93945L6.75 8.18934V0.25H8.25Z\"\n            fill=\"currentColor\"\n        />\n        <path\n            d=\"M2.25 11.5V9.25H0.75V11.5C0.75 12.0967 0.987053 12.669 1.40901 13.091C1.83097 13.5129 2.40326 13.75 3 13.75H12C12.5967 13.75 13.169 13.5129 13.591 13.091C14.0129 12.669 14.25 12.0967 14.25 11.5V9.25H12.75V11.5C12.75 11.6989 12.671 11.8897 12.5303 12.0303C12.3897 12.171 12.1989 12.25 12 12.25H3C2.80109 12.25 2.61032 12.171 2.46967 12.0303C2.32902 11.8897 2.25 11.6989 2.25 11.5Z\"\n            fill=\"currentColor\"\n        />\n    </svg>\n);\n\nexport default Download;\n","import { useAuthContext } from '../../../../core/Auth';\nimport { useFetch } from '../../../../hooks/useFetch';\nimport { EndpointName } from '../../../../types/api/endpoints';\nimport { EMPTY_OBJECT } from '../../../../utils';\n\nconst useDownload = (endpointName: EndpointName, queryParam?: any, enabled?: boolean) => {\n    const downloadEndpoint = useAuthContext().endpoints[endpointName];\n\n    return useFetch({\n        fetchOptions: { enabled: !!downloadEndpoint && enabled, keepPrevData: true },\n        queryFn: async () => {\n            return downloadEndpoint!(EMPTY_OBJECT as any, { ...queryParam });\n        },\n    });\n};\n\nexport default useDownload;\n","import classNames from 'classnames';\nimport { VNode } from 'preact';\nimport { useEffect, useState } from 'preact/hooks';\nimport useCoreContext from '../../../../core/Context/useCoreContext';\nimport AdyenPlatformExperienceError from '../../../../core/Errors/AdyenPlatformExperienceError';\nimport { EndpointName } from '../../../../types/api/endpoints';\nimport { mediaQueries, useResponsiveViewport } from '../../../../hooks/useResponsiveViewport';\nimport Spinner from '../../Spinner';\nimport Download from '../../SVGIcons/Download';\nimport Button from '../Button';\nimport { ButtonVariant } from '../types';\nimport useDownload from './useDownload';\nimport './DownloadButton.scss';\n\ninterface DownloadButtonProps {\n    params: any;\n    endpointName: EndpointName;\n    className?: string;\n    disabled?: boolean;\n    onDownloadRequested?: () => void;\n    setError?: (error?: AdyenPlatformExperienceError) => any;\n    errorDisplay?: VNode<any>;\n}\n\nfunction downloadBlob({ blob, filename }: { blob: Blob; filename: string }) {\n    const a = document.createElement('a');\n    const url = URL.createObjectURL(blob);\n\n    a.href = url;\n    a.download = filename || 'download';\n\n    const clickHandler = () => {\n        setTimeout(() => {\n            URL.revokeObjectURL(url);\n        }, 150);\n    };\n\n    a.addEventListener('click', clickHandler, { once: true });\n    a.click();\n}\n\nfunction DownloadButton({ className, disabled, endpointName, params, setError, errorDisplay, onDownloadRequested }: DownloadButtonProps) {\n    const { i18n } = useCoreContext();\n    const [fetchData, setFetchData] = useState(false);\n    const isSmViewport = useResponsiveViewport(mediaQueries.down.xs);\n    const { data, error, isFetching } = useDownload(endpointName, params, fetchData);\n\n    useEffect(() => {\n        if (fetchData) {\n            setFetchData(false);\n        }\n    }, [fetchData]);\n\n    useEffect(() => {\n        if (data) {\n            // TODO: Fix the types to use type inference here\n            downloadBlob(data as { blob: Blob; filename: string });\n        }\n    }, [data]);\n\n    useEffect(() => {\n        if (setError && error) {\n            setError(error as AdyenPlatformExperienceError);\n        }\n    }, [error]);\n\n    const onClick = () => {\n        setFetchData(true);\n        onDownloadRequested?.();\n    };\n\n    return (\n        <div className=\"adyen-pe-download\">\n            {isSmViewport ? (\n                <Button iconButton={true} variant={ButtonVariant.TERTIARY} onClick={onClick}>\n                    {isFetching ? <Spinner size={'small'} /> : <Download />}\n                </Button>\n            ) : (\n                <Button\n                    className={classNames('adyen-pe-download__button', { 'adyen-pe-download__button--loading': isFetching }, className)}\n                    disabled={disabled || isFetching}\n                    variant={ButtonVariant.SECONDARY}\n                    onClick={onClick}\n                    iconLeft={isFetching ? <Spinner size={'small'} /> : <Download />}\n                >\n                    {isFetching ? `${i18n.get('downloading')}..` : i18n.get('download')}\n                </Button>\n            )}\n            {error && errorDisplay && <div className={'adyen-pe-download__error'}>{errorDisplay}</div>}\n        </div>\n    );\n}\n\nexport default DownloadButton;\n","import { SVGProps } from 'preact/compat';\n\n/**\n * @deprecated This component is deprecated. Use <Icon name=\"warning\"/> instead.\n */\nconst Warning = ({ ...props }: Omit<SVGProps<SVGElement>, 'ref'>) => (\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path d=\"M8.75 4.58008H7.25V9.08008H8.75V4.58008Z\" fill=\"currentColor\" />\n        <path\n            d=\"M8.71 10.6201C8.57 10.4801 8.39 10.3801 8.2 10.3501C8.01 10.3101 7.8 10.3301 7.62 10.4101C7.44 10.4901 7.28 10.6101 7.17 10.7801C7.06 10.9401 7 11.1401 7 11.3401C7 11.6101 7.11 11.8601 7.29 12.0501C7.48 12.2401 7.73 12.3401 8 12.3401C8.2 12.3401 8.39 12.2801 8.56 12.1701C8.72 12.0601 8.85 11.9001 8.93 11.7201C9.01 11.5401 9.03 11.3401 8.99 11.1401C8.95 10.9501 8.86 10.7701 8.72 10.6301L8.71 10.6201Z\"\n            fill=\"currentColor\"\n        />\n        <path\n            d=\"M9.9501 2.21008L15.3501 11.5301V11.5201C15.5501 11.8601 15.6501 12.2501 15.6501 12.6501C15.6501 13.0501 15.5501 13.4401 15.3501 13.7801C15.1501 14.1201 14.8601 14.4001 14.5201 14.6001C14.1801 14.8001 13.7901 14.9001 13.4001 14.9001H2.6001C2.2001 14.9001 1.8101 14.8001 1.4701 14.6001C1.1301 14.4101 0.850097 14.1201 0.650097 13.7801C0.450097 13.4501 0.350098 13.0601 0.350098 12.6601C0.350098 12.2601 0.450097 11.8701 0.650097 11.5301L6.0601 2.20008C6.2501 1.86008 6.5401 1.58008 6.8801 1.38008C7.5601 0.980078 8.4401 0.980078 9.1301 1.38008C9.4701 1.58008 9.7501 1.87008 9.9501 2.21008ZM13.7701 13.3001C13.8901 13.2401 13.9801 13.1401 14.0501 13.0301L14.0601 13.0401C14.1301 12.9201 14.1601 12.7901 14.1601 12.6601C14.1601 12.5301 14.1301 12.4001 14.0601 12.2901L8.6601 2.96008C8.5901 2.84008 8.5001 2.74008 8.3801 2.68008C8.2601 2.62008 8.1401 2.58008 8.0001 2.58008C7.8601 2.58008 7.7301 2.61008 7.6201 2.68008C7.5101 2.74008 7.4201 2.84008 7.3501 2.95008L1.9501 12.2901C1.8801 12.4001 1.8501 12.5301 1.8501 12.6601C1.8501 12.7901 1.8801 12.9201 1.9501 13.0301C2.0101 13.1401 2.1101 13.2401 2.2201 13.3001C2.3401 13.3601 2.4701 13.4001 2.6001 13.4001H13.3901C13.5301 13.4001 13.6601 13.3701 13.7701 13.3001Z\"\n            fill=\"currentColor\"\n        />\n    </svg>\n);\n\nexport default Warning;\n","export const DISABLED_BUTTONS_TIMEOUT = 1000; // 1 second\n\nexport const BASE_CLASS = 'adyen-pe-reports-table';\nexport const DATE_TYPE_CLASS = `${BASE_CLASS}-date-report-type`;\nexport const DATE_TYPE_DATE_SECTION_CLASS = `${DATE_TYPE_CLASS}--date`;\n","import { FC } from 'preact/compat';\nimport { useCallback, useMemo, useState } from 'preact/hooks';\nimport { useAuthContext } from '../../../../../core/Auth';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport AdyenPlatformExperienceError from '../../../../../core/Errors/AdyenPlatformExperienceError';\nimport { TranslationKey } from '../../../../../translations';\nimport { IReport } from '../../../../../types';\nimport useFreezePeriod from '../../../../../hooks/useFreezePeriod';\nimport useTimezoneAwareDateFormatting from '../../../../../hooks/useTimezoneAwareDateFormatting';\nimport Alert from '../../../../internal/Alert/Alert';\nimport { AlertTypeOption } from '../../../../internal/Alert/types';\nimport DownloadButton from '../../../../internal/Button/DownloadButton/DownloadButton';\nimport DataGrid from '../../../../internal/DataGrid';\nimport { CellTextPosition } from '../../../../internal/DataGrid/types';\nimport { DATE_FORMAT_REPORTS } from '../../../../../constants';\nimport DataOverviewError from '../../../../internal/DataOverviewError/DataOverviewError';\nimport Pagination from '../../../../internal/Pagination';\nimport { PaginationProps, WithPaginationLimitSelection } from '../../../../internal/Pagination/types';\nimport Warning from '../../../../internal/SVGIcons/Warning';\nimport { TypographyVariant } from '../../../../internal/Typography/types';\nimport Typography from '../../../../internal/Typography/Typography';\nimport { getLabel } from '../../../../utils/getLabel';\nimport { mediaQueries, useResponsiveViewport } from '../../../../../hooks/useResponsiveViewport';\nimport { BASE_CLASS, DATE_TYPE_CLASS, DATE_TYPE_DATE_SECTION_CLASS, DISABLED_BUTTONS_TIMEOUT } from './constants';\nimport './ReportsTable.scss';\n\nconst FIELDS = ['createdAt', 'dateAndReportType', 'reportType', 'reportFile'] as const;\ntype FieldsType = (typeof FIELDS)[number];\n\nexport interface ReportsTableProps extends WithPaginationLimitSelection<PaginationProps> {\n    balanceAccountId: string | undefined;\n    loading: boolean;\n    error?: AdyenPlatformExperienceError;\n    onContactSupport?: () => void;\n    showPagination: boolean;\n    data: IReport[] | undefined;\n}\n\nexport const ReportsTable: FC<ReportsTableProps> = ({\n    error,\n    loading,\n    balanceAccountId,\n    onContactSupport,\n    showPagination,\n    data,\n    ...paginationProps\n}) => {\n    const { i18n } = useCoreContext();\n    const { dateFormat } = useTimezoneAwareDateFormatting('UTC');\n    const { freeze, frozen } = useFreezePeriod(DISABLED_BUTTONS_TIMEOUT);\n    const [alert, setAlert] = useState<null | { title: string; description: string }>(null);\n    const { refreshing } = useAuthContext();\n    const isLoading = useMemo(() => loading || refreshing, [loading, refreshing]);\n    const isSmAndUpViewport = useResponsiveViewport(mediaQueries.up.sm);\n    const isXsAndDownViewport = useResponsiveViewport(mediaQueries.down.xs);\n\n    const fieldsVisibility: Partial<Record<FieldsType, boolean>> = useMemo(\n        () => ({\n            dateAndReportType: isXsAndDownViewport,\n            createdAt: isSmAndUpViewport,\n            reportType: isSmAndUpViewport,\n            reportFile: true,\n        }),\n        [isXsAndDownViewport, isSmAndUpViewport]\n    );\n\n    const columns = useMemo(\n        () =>\n            FIELDS.map(key => {\n                const label = i18n.get(getLabel(key));\n                return {\n                    key,\n                    label: label,\n                    position: isXsAndDownViewport && key === 'reportFile' ? CellTextPosition.RIGHT : undefined,\n                    visible: fieldsVisibility[key],\n                };\n            }),\n        [i18n, data, fieldsVisibility]\n    );\n\n    const removeAlert = useCallback(() => {\n        setAlert(null);\n    }, []);\n\n    const EMPTY_TABLE_MESSAGE = {\n        title: 'noReportsFound',\n        message: ['tryDifferentSearchOrResetYourFiltersAndWeWillTryAgain'],\n    } satisfies { title: TranslationKey; message: TranslationKey | TranslationKey[] };\n\n    const errorDisplay = useMemo(\n        () => () => <DataOverviewError error={error} errorMessage={'weCouldNotLoadYourReports'} onContactSupport={onContactSupport} />,\n        [error, onContactSupport]\n    );\n\n    const errorIcon = useMemo(() => <Warning />, []);\n\n    const onDownloadErrorAlert = useMemo(\n        () => (error?: AdyenPlatformExperienceError) => {\n            const alertDetails: Partial<{ key: number; description: string; title: string }> = {};\n            switch (error?.errorCode) {\n                case '999_429_001':\n                    alertDetails.title = i18n.get('error.somethingWentWrongWithDownload');\n                    alertDetails.description = i18n.get('reportsError.tooManyDownloads');\n                    break;\n                case '00_500':\n                default:\n                    alertDetails.title = i18n.get('error.somethingWentWrongWithDownload');\n                    alertDetails.description = i18n.get('error.pleaseTryAgainLater');\n                    break;\n            }\n            setAlert(alertDetails as { title: string; description: string });\n        },\n        [error, onContactSupport]\n    );\n\n    if (loading) setAlert(null);\n\n    return (\n        <div className={BASE_CLASS}>\n            {alert && <Alert onClose={removeAlert} type={AlertTypeOption.WARNING} className={'adyen-pe-reports-table-alert'} {...alert} />}\n            <DataGrid\n                errorDisplay={errorDisplay}\n                error={error}\n                columns={columns}\n                data={data}\n                loading={isLoading}\n                outline={false}\n                emptyTableMessage={EMPTY_TABLE_MESSAGE}\n                customCells={{\n                    createdAt: ({ value }) => {\n                        if (!value) return null;\n                        return value && <Typography variant={TypographyVariant.BODY}>{dateFormat(value, DATE_FORMAT_REPORTS)}</Typography>;\n                    },\n                    dateAndReportType: ({ item }) => {\n                        return (\n                            <div className={DATE_TYPE_CLASS}>\n                                <Typography variant={TypographyVariant.BODY} stronger>\n                                    {i18n.get(`reportType.${item?.['type']}`)}\n                                </Typography>\n                                <Typography className={DATE_TYPE_DATE_SECTION_CLASS} variant={TypographyVariant.BODY}>\n                                    {dateFormat(item.createdAt, DATE_FORMAT_REPORTS)}\n                                </Typography>\n                            </div>\n                        );\n                    },\n                    reportType: ({ item }) => {\n                        return item?.['type'] && <Typography variant={TypographyVariant.BODY}>{i18n.get(`reportType.${item?.['type']}`)}</Typography>;\n                    },\n                    reportFile: ({ item }) => {\n                        const queryParam = {\n                            query: { balanceAccountId: balanceAccountId, createdAt: item.createdAt, type: item.type },\n                        };\n                        return (\n                            <DownloadButton\n                                className={'adyen-pe-reports-table--download'}\n                                endpointName={'downloadReport'}\n                                disabled={frozen}\n                                params={queryParam}\n                                onDownloadRequested={freeze}\n                                setError={onDownloadErrorAlert}\n                                errorDisplay={errorIcon}\n                            />\n                        );\n                    },\n                }}\n            >\n                {showPagination && (\n                    <DataGrid.Footer>\n                        <Pagination {...paginationProps} />\n                    </DataGrid.Footer>\n                )}\n            </DataGrid>\n        </div>\n    );\n};\n","export const BASE_CLASS = 'adyen-pe-reports-overview';\nexport const EARLIEST_PAYOUT_SINCE_DATE = new Date('2024-04-16T00:00:00.000Z').toString();\n","import { useCallback, useEffect, useMemo } from 'preact/hooks';\nimport { useAuthContext } from '../../../../../core/Auth';\nimport AdyenPlatformExperienceError from '../../../../../core/Errors/AdyenPlatformExperienceError';\nimport { IBalanceAccountBase, IReport } from '../../../../../types';\nimport { isFunction } from '../../../../../utils';\nimport useBalanceAccountSelection from '../../../../../hooks/useBalanceAccountSelection';\nimport useDefaultOverviewFilterParams from '../../../../../hooks/useDefaultOverviewFilterParams';\nimport FilterBar, { FilterBarMobileSwitch, useFilterBarState } from '../../../../internal/FilterBar';\nimport DateFilter from '../../../../internal/FilterBar/filters/DateFilter/DateFilter';\nimport BalanceAccountSelector from '../../../../internal/FormFields/Select/BalanceAccountSelector';\nimport { DEFAULT_PAGE_LIMIT, LIMIT_OPTIONS } from '../../../../internal/Pagination/constants';\nimport { useCursorPaginatedRecords } from '../../../../internal/Pagination/hooks';\nimport { Header } from '../../../../internal/Header';\nimport { ExternalUIComponentProps, FilterParam, ReportsOverviewComponentProps } from '../../../../types';\nimport { ReportsTable } from '../ReportsTable/ReportsTable';\nimport { BASE_CLASS, EARLIEST_PAYOUT_SINCE_DATE } from './constants';\nimport './ReportsOverview.scss';\n\nexport const ReportsOverview = ({\n    onFiltersChanged,\n    balanceAccounts,\n    allowLimitSelection,\n    preferredLimit = DEFAULT_PAGE_LIMIT,\n    isLoadingBalanceAccount,\n    onContactSupport,\n    hideTitle,\n}: ExternalUIComponentProps<\n    ReportsOverviewComponentProps & { balanceAccounts: IBalanceAccountBase[] | undefined; isLoadingBalanceAccount: boolean }\n>) => {\n    const { getReports: reportsEndpointCall } = useAuthContext().endpoints;\n    const { activeBalanceAccount, balanceAccountSelectionOptions, onBalanceAccountSelection } = useBalanceAccountSelection(balanceAccounts);\n    const { defaultParams, nowTimestamp, refreshNowTimestamp } = useDefaultOverviewFilterParams('reports', activeBalanceAccount);\n\n    const getReports = useCallback(\n        async (pageRequestParams: Record<FilterParam | 'cursor', string>, signal?: AbortSignal) => {\n            const requestOptions = { signal, errorLevel: 'error' } as const;\n\n            return reportsEndpointCall!(requestOptions, {\n                query: {\n                    ...pageRequestParams,\n                    type: 'payout',\n                    createdSince:\n                        pageRequestParams[FilterParam.CREATED_SINCE] ?? defaultParams.current.defaultFilterParams[FilterParam.CREATED_SINCE],\n                    createdUntil:\n                        pageRequestParams[FilterParam.CREATED_UNTIL] ?? defaultParams.current.defaultFilterParams[FilterParam.CREATED_UNTIL],\n                    balanceAccountId: activeBalanceAccount?.id ?? '',\n                },\n            });\n        },\n        [activeBalanceAccount?.id, defaultParams, reportsEndpointCall]\n    );\n\n    // FILTERS\n    const filterBarState = useFilterBarState();\n    const _onFiltersChanged = useMemo(() => (isFunction(onFiltersChanged) ? onFiltersChanged : void 0), [onFiltersChanged]);\n    const preferredLimitOptions = useMemo(() => (allowLimitSelection ? LIMIT_OPTIONS : undefined), [allowLimitSelection]);\n\n    const { canResetFilters, error, fetching, filters, limit, limitOptions, records, resetFilters, updateFilters, updateLimit, ...paginationProps } =\n        useCursorPaginatedRecords<IReport, 'data', string, FilterParam>({\n            fetchRecords: getReports,\n            dataField: 'data',\n            filterParams: defaultParams.current.defaultFilterParams,\n            initialFiltersSameAsDefault: true,\n            onFiltersChanged: _onFiltersChanged,\n            preferredLimit,\n            preferredLimitOptions,\n            enabled: !!activeBalanceAccount?.id && !!reportsEndpointCall,\n        });\n\n    useEffect(() => {\n        refreshNowTimestamp();\n    }, [filters, refreshNowTimestamp]);\n\n    return (\n        <div className={BASE_CLASS}>\n            <Header hideTitle={hideTitle} titleKey=\"reportsTitle\" subtitleKey=\"reportsNotice\">\n                <FilterBarMobileSwitch {...filterBarState} />\n            </Header>\n            <FilterBar {...filterBarState}>\n                <BalanceAccountSelector\n                    activeBalanceAccount={activeBalanceAccount}\n                    balanceAccountSelectionOptions={balanceAccountSelectionOptions}\n                    onBalanceAccountSelection={onBalanceAccountSelection}\n                />\n                <DateFilter\n                    canResetFilters={canResetFilters}\n                    defaultParams={defaultParams}\n                    filters={filters}\n                    nowTimestamp={nowTimestamp}\n                    refreshNowTimestamp={refreshNowTimestamp}\n                    sinceDate={EARLIEST_PAYOUT_SINCE_DATE}\n                    timezone={'UTC'}\n                    updateFilters={updateFilters}\n                />\n            </FilterBar>\n\n            <ReportsTable\n                balanceAccountId={activeBalanceAccount?.id}\n                loading={fetching || isLoadingBalanceAccount || !balanceAccounts || !activeBalanceAccount}\n                data={records}\n                showPagination={true}\n                limit={limit}\n                limitOptions={limitOptions}\n                onContactSupport={onContactSupport}\n                onLimitSelection={updateLimit}\n                error={error as AdyenPlatformExperienceError}\n                {...paginationProps}\n            />\n        </div>\n    );\n};\n","export const BASE_CLASS = 'adyen-pe-reports-overview-container';\n","import useBalanceAccounts from '../../../../../hooks/useBalanceAccounts';\nimport DataOverviewContainer from '../../../../internal/DataOverviewContainer/DataOverviewContainer';\nimport type { ExternalUIComponentProps, ReportsOverviewComponentProps } from '../../../../types';\nimport { ReportsOverview } from '../ReportsOverview/ReportsOverview';\nimport { BASE_CLASS } from './constants';\n\nfunction ReportsOverviewContainer({ ...props }: ExternalUIComponentProps<ReportsOverviewComponentProps>) {\n    const { balanceAccounts, isBalanceAccountIdWrong, isFetching, error } = useBalanceAccounts(props.balanceAccountId);\n\n    return (\n        <DataOverviewContainer\n            balanceAccountsError={error}\n            className={BASE_CLASS}\n            errorMessage={'weCouldNotLoadTheReportsOverview'}\n            isBalanceAccountIdWrong={isBalanceAccountIdWrong}\n            onContactSupport={props.onContactSupport}\n        >\n            <ReportsOverview {...props} balanceAccounts={balanceAccounts} isLoadingBalanceAccount={isFetching} />\n        </DataOverviewContainer>\n    );\n}\nexport default ReportsOverviewContainer;\n","import { _UIComponentProps, ExternalComponentType, ReportsOverviewComponentProps } from '../../types';\nimport Reports from './components/ReportsOverviewContainer/ReportsOverviewContainer';\nimport UIElement from '../UIElement/UIElement';\n\nexport class ReportsElement extends UIElement<ReportsOverviewComponentProps> {\n    public static type: ExternalComponentType = 'reports';\n\n    constructor(props: _UIComponentProps<ReportsOverviewComponentProps>) {\n        super(props);\n        this.componentToRender = this.componentToRender.bind(this);\n    }\n\n    public componentToRender = () => {\n        return (\n            <Reports\n                {...this.props}\n                balanceAccountId={this.props.balanceAccountId}\n                ref={(ref: UIElement<ReportsOverviewComponentProps>) => {\n                    this.componentRef = ref;\n                }}\n            ></Reports>\n        );\n    };\n}\n\nexport default ReportsElement;\n","export const CAPITAL_OVERVIEW_CLASS_NAMES = {\n    base: 'adyen-pe-capital-overview',\n    title: 'adyen-pe-capital-overview__title',\n    skeleton: 'adyen-pe-capital-overview__skeleton',\n    headerSkeleton: 'adyen-pe-capital-overview__header-skeleton',\n    skeletonContainer: 'adyen-pe-capital-overview__header-skeleton-container',\n    preQualifiedGrant: 'adyen-pe-capital-overview__pre-qualified-grant',\n    preQualifiedGrantButton: 'adyen-pe-capital-overview__pre-qualified-grant-review-button',\n    errorContainer: 'adyen-pe-capital-overview__error-container',\n};\n","export default \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjU0IiBoZWlnaHQ9IjEzMiIgdmlld0JveD0iMCAwIDI1NCAxMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik02OC4wNzcyIDY5LjUyNTZDNjguMDI4NyA2OS4zOTMyIDY2LjY5NTcgNTguNDA1NiA2Ni42OTU3IDU4LjQwNTZDNjYuNTc2IDU3LjY4MiA2NC42NzAyIDU1LjAyOTYgNjQuNDA0OSA1NC41Njc2TDUzLjUwMTMgMzYuODk1OEM1Mi42MTggMzUuNjM5IDUxLjExOTkgMzYuMDk0NiA1MC40NzI4IDM2LjYyNDRDNDkuOTMyNSAzNy4wMzc5IDQ5LjQ2MDEgMzcuNzI5MyA1MC4zMjcyIDM5LjM3NjlDNTEuNzgzMiA0Mi4xNDg5IDU3LjQ4NDIgNTIuOTM5MyA1Ny40ODQyIDUyLjkzOTNMNTUuNzE0NCA1Ni4zMzQ4TDUyLjc5MjcgNTguOTg3MkM1Mi45ODM2IDU5LjMyMzEgNDguNjEyNCA1OC40OTkzIDQ4LjYxMjQgNTguNDk5M0M0OC40Nzk4IDU4LjMzMTMgNTAuOTc3NiA3MS4wMTE3IDU3LjQ0MjEgNzQuNzUyOUM1Ny40NDIxIDc0Ljc1MjkgNjUuMjU5MSA4Ny43MjQgNjUuMDI5NCA4Ny44Mjc0TDczLjE2MzUgNzguODM5N0w2OC4wNzcyIDY5LjUyODlWNjkuNTI1NloiIGZpbGw9IiNCMzRCMzYiIHN0cm9rZT0iIzAwMTEyQyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxwYXRoIGQ9Ik01MS41MzQgNTUuMjEwOEM1MS41MzQgNTUuMjEwOCA0Ny42ODA1IDU0Ljk3NSA0OC42MTU1IDU4LjQ5MzJDNDkuNTUwNiA2Mi4wMTQ2IDUzLjYwNzkgNjguMzk4NCA1NS40MDY5IDY2LjgzOEM1Ny4yMDU4IDY1LjI3NzYgNTMuMjg0NCA1OS41MjM4IDUzLjI4NDQgNTkuNTIzOCIgZmlsbD0iI0IzNEIzNiIvPgo8cGF0aCBkPSJNNTEuNTM0IDU1LjIxMDhDNTEuNTM0IDU1LjIxMDggNDcuNjgwNSA1NC45NzUgNDguNjE1NSA1OC40OTMyQzQ5LjU1MDYgNjIuMDE0NiA1My42MDc5IDY4LjM5ODQgNTUuNDA2OSA2Ni44MzhDNTcuMjA1OCA2NS4yNzc2IDUzLjI4NDQgNTkuNTIzOCA1My4yODQ0IDU5LjUyMzgiIHN0cm9rZT0iIzAwMTEyQyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxwYXRoIGQ9Ik01My42MDQ4IDUyLjI0NUM1My42MDQ4IDUyLjI0NSA0OS43NTEzIDUyLjAwOTIgNTAuNjg2MyA1NS41Mjc0QzUxLjYyMTQgNTkuMDQ4OCA1NS42Nzg3IDY1LjQzMjYgNTcuNDc3NyA2My44NzIyQzU5LjI3NjYgNjIuMzExOCA1NS4zNTUyIDU2LjU1OCA1NS4zNTUyIDU2LjU1OCIgZmlsbD0iI0IzNEIzNiIvPgo8cGF0aCBkPSJNNTMuNjA0OCA1Mi4yNDVDNTMuNjA0OCA1Mi4yNDUgNDkuNzUxMyA1Mi4wMDkyIDUwLjY4NjMgNTUuNTI3NEM1MS42MjE0IDU5LjA0ODggNTUuNjc4NyA2NS40MzI2IDU3LjQ3NzcgNjMuODcyMkM1OS4yNzY2IDYyLjMxMTggNTUuMzU1MiA1Ni41NTggNTUuMzU1MiA1Ni41NTgiIHN0cm9rZT0iIzAwMTEyQyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxwYXRoIGQ9Ik01Ni4xOTAzIDUwLjU0NTlDNTYuMTkwMyA1MC41NDU5IDUxLjgxOTEgNDkuMDQwNCA1Mi43NTQyIDUyLjU2MTlDNTMuNjg5MyA1Ni4wODMzIDU3Ljc0NjYgNjIuNDY3MSA1OS41NDU1IDYwLjkwNjdDNjEuMzQ0NSA1OS4zNDYzIDU2LjE5MDMgNTAuNTQ1OSA1Ni4xOTAzIDUwLjU0NTlaIiBmaWxsPSIjQjM0QjM2IiBzdHJva2U9IiMwMDExMkMiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8cGF0aCBkPSJNNjYuNjk1NSA1OC40MDI5QzY2LjY5NTUgNTguNDAyOSA2NS41MDgxIDQ5LjE0NyA2My43MjUzIDQ4LjA2MTVDNjEuOTQyNSA0Ni45NzU5IDU3Ljg4NTIgNDMuMzY0MSA1Ni44MTQyIDQ0LjA5MUM1NS43NDMzIDQ0LjgxNDYgNTYuMTE4NiA0Ni40ODQ5IDU2LjgzNjkgNDcuNDAyNEM1Ny41NTUyIDQ4LjMxOTkgNjEuMjQ2OSA1MS44MzgxIDYxLjI0NjkgNTEuODM4MUM2MS4yNDY5IDUxLjgzODEgNTYuMzY3NyA1OS4zMzY1IDU4Ljg3MiA2NC44NDgxIiBmaWxsPSIjQjM0QjM2Ii8+CjxwYXRoIGQ9Ik02Ni42OTU1IDU4LjQwMjlDNjYuNjk1NSA1OC40MDI5IDY1LjUwODEgNDkuMTQ3IDYzLjcyNTMgNDguMDYxNUM2MS45NDI1IDQ2Ljk3NTkgNTcuODg1MiA0My4zNjQxIDU2LjgxNDIgNDQuMDkxQzU1Ljc0MzMgNDQuODE0NiA1Ni4xMTg2IDQ2LjQ4NDkgNTYuODM2OSA0Ny40MDI0QzU3LjU1NTIgNDguMzE5OSA2MS4yNDY5IDUxLjgzODEgNjEuMjQ2OSA1MS44MzgxQzYxLjI0NjkgNTEuODM4MSA1Ni4zNjc3IDU5LjMzNjUgNTguODcyIDY0Ljg0ODEiIHN0cm9rZT0iIzAwMTEyQyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxwYXRoIGQ9Ik0xMTguODMzIDIzLjEzNjVDMTE2LjEwNSAyMC4zMTYxIDExNi4xNTcgMTcuMjQ3IDExNi44NTYgMTQuNzY5MUMxMTYuODYyIDE0Ljc0MzIgMTE2Ljg2OSAxNC43MjA2IDExNi44NzkgMTQuNjk0OEMxMTcuODY5IDExLjMxNTUgMTIxLjQ3OSA5LjQ4MDQ0IDEyNC44OSAxMC4zNzIxQzEyNy40NjUgMTEuMDQ3MyAxMzAuMjIyIDExLjE1NzIgMTMyLjkwNyAxMS4xNDQyQzEzNi43NDggMTEuMTI4MSAxNDAuNjYgMTAuOTExNiAxNDQuMzY0IDExLjkyNjFDMTQ4LjA2OSAxMi45MzczIDE1MC44MjkgMTQuNTM5NyAxNTEuODY3IDE4LjIyOTFDMTYzLjA3OCAyMy4wNTU3IDE1Ni40MSAzMy4zMzI1IDE1Ni40MSAzMy4zMzI1TDE1MC44MjIgNDIuMzM2NEwxMjcuMzgxIDM4LjgxODJDMTIxLjg1NSAzOC4xMjM2IDExNy44ODIgMzMuMTcxIDExOC40MDYgMjcuNjM2OEwxMTguODMzIDIzLjEzNjVaIiBmaWxsPSIjMEFCRjUzIiBzdHJva2U9IiMwMDExMkMiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8cGF0aCBkPSJNMTIzLjE3OCAyMy42ODI1QzEyMS4wNjIgMjIuMzcwOSAxMjAuNDY3IDE5LjI2MjkgMTIxLjY3NyAxNy4wODg3QzEyMi44ODcgMTQuOTE0NSAxMjUuNTYgMTMuNzc0IDEyOC4wMzUgMTQuMDM4OUMxMjkuNDg0IDE0LjE5NCAxMzAuODUzIDE0Ljc2NTggMTMyLjI1NyAxNS4xNTY4QzEzMy42NjEgMTUuNTQ3NyAxMzUuMjA1IDE1Ljc1MTIgMTM2LjU1MSAxNS4xODU4QzEzNy44OTMgMTQuNjIwNSAxMzguOTAzIDEzLjA2MzMgMTM4LjQyNCAxMS42ODciIHN0cm9rZT0iIzg1REZBOSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxwYXRoIGQ9Ik0xNTAuNzI1IDQwLjcyMTFDMTUwLjc4MyAzOS4yMzgyIDE1Mi4xNTggMzcuOTg0NyAxNTMuNjQgMzcuODgxM0MxNTUuMTIyIDM3Ljc3OCAxNTYuNTc0IDM4LjcxMTYgMTU3LjI3MyA0MC4wMjAxQzE1Ny45NzIgNDEuMzI4NSAxNTcuOTc1IDQyLjk0MzggMTU3LjQ3NCA0NC4zMzk1QzE1Ny4xMTUgNDUuMzM3NyAxNTYuNDg3IDQ2LjI2NSAxNTUuNTk0IDQ2Ljg0QzE1NC4zODQgNDcuNjE1NCAxNTIuNzkyIDQ3LjY1NDEgMTUxLjQ0OSA0Ny4xNDA1QzE1MC4xMDcgNDYuNjI2OCAxNDkuMDAzIDQ1LjYwOTEgMTQ4LjE3MiA0NC40Mzk2IiBmaWxsPSIjQjM0QjM2Ii8+CjxwYXRoIGQ9Ik0xNTAuNzI1IDQwLjcyMTFDMTUwLjc4MyAzOS4yMzgyIDE1Mi4xNTggMzcuOTg0NyAxNTMuNjQgMzcuODgxM0MxNTUuMTIyIDM3Ljc3OCAxNTYuNTc0IDM4LjcxMTYgMTU3LjI3MyA0MC4wMjAxQzE1Ny45NzIgNDEuMzI4NSAxNTcuOTc1IDQyLjk0MzggMTU3LjQ3NCA0NC4zMzk1QzE1Ny4xMTUgNDUuMzM3NyAxNTYuNDg3IDQ2LjI2NSAxNTUuNTk0IDQ2Ljg0QzE1NC4zODQgNDcuNjE1NCAxNTIuNzkyIDQ3LjY1NDEgMTUxLjQ0OSA0Ny4xNDA1QzE1MC4xMDcgNDYuNjI2OCAxNDkuMDAzIDQ1LjYwOTEgMTQ4LjE3MiA0NC40Mzk2IiBzdHJva2U9IiMwMDExMkMiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8cGF0aCBkPSJNMTIwLjY0MSAzNi45NDQzQzEyMC45NTEgMzUuNDkzNyAxMTkuOTMyIDMzLjkzNjUgMTE4LjUyMSAzMy40NzEzQzExNy4xMTEgMzMuMDA2MSAxMTUuNDc0IDMzLjU0ODkgMTE0LjQ3MSAzNC42NDQxQzExMy40NjggMzUuNzM5MyAxMTMuMDY2IDM3LjMwMjkgMTEzLjIwNSAzOC43NzkzQzExMy4zMDYgMzkuODM1OCAxMTMuNjg0IDQwLjg4OSAxMTQuNDA2IDQxLjY2NDNDMTE1LjM4NiA0Mi43MTQzIDExNi45MiA0My4xNDcyIDExOC4zNDcgNDIuOTc5MkMxMTkuNzc0IDQyLjgxMTIgMTIxLjA5NyA0Mi4xMDA1IDEyMi4xOTQgNDEuMTczMyIgZmlsbD0iI0IzNEIzNiIvPgo8cGF0aCBkPSJNMTIwLjY0MSAzNi45NDQzQzEyMC45NTEgMzUuNDkzNyAxMTkuOTMyIDMzLjkzNjUgMTE4LjUyMSAzMy40NzEzQzExNy4xMTEgMzMuMDA2MSAxMTUuNDc0IDMzLjU0ODkgMTE0LjQ3MSAzNC42NDQxQzExMy40NjggMzUuNzM5MyAxMTMuMDY2IDM3LjMwMjkgMTEzLjIwNSAzOC43NzkzQzExMy4zMDYgMzkuODM1OCAxMTMuNjg0IDQwLjg4OSAxMTQuNDA2IDQxLjY2NDNDMTE1LjM4NiA0Mi43MTQzIDExNi45MiA0My4xNDcyIDExOC4zNDcgNDIuOTc5MkMxMTkuNzc0IDQyLjgxMTIgMTIxLjA5NyA0Mi4xMDA1IDEyMi4xOTQgNDEuMTczMyIgc3Ryb2tlPSIjMDAxMTJDIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPHBhdGggZD0iTTE1My4zMTcgNjQuNjY2OUgxNTIuNTY3QzE0OC45MzcgNjQuNjY2OSAxNDUuOTk1IDYxLjcyNyAxNDUuOTk1IDU4LjEwNTRWNDkuMzUzNUgxMjUuMDk3VjU4LjEwNTRDMTI1LjA5NyA2MS43MzAyIDEyMi4xNTMgNjQuNjY2OSAxMTguNTI2IDY0LjY2NjlIMTE3Ljc3NUwxMzUuNTE2IDgwLjc5NzdMMTUzLjMyNCA2NC42NjY5SDE1My4zMTdaIiBmaWxsPSIjQjM0QjM2IiBzdHJva2U9IiMwMDExMkMiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8cGF0aCBkPSJNMTE4LjI5MyA0My4yMzgxTDEyMi4yNzMgNTIuNjM2MUMxMjIuNjY4IDUzLjU2NjYgMTIxLjk4MiA1NC41OTcxIDEyMC45NzIgNTQuNTk3MUgxMTMuMDEzQzExMiA1NC41OTcxIDExMS4zMTcgNTMuNTY2NiAxMTEuNzEyIDUyLjYzNjFMMTE1LjY5MiA0My4yMzgxQzExNi4xNzcgNDIuMDg4IDExNy44MDggNDIuMDg4IDExOC4yOTYgNDMuMjM4MUgxMTguMjkzWiIgZmlsbD0iIzg1REZBOSIgc3Ryb2tlPSIjMDAxMTJDIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPHBhdGggZD0iTTE1NS4xMzggNDcuNzQ0N0wxNTkuNTM1IDU2Ljk1NTNDMTU5Ljk3MiA1Ny44NjY0IDE1OS4zMzQgNTguOTI2IDE1OC4zMjIgNTguOTcxM0wxNTAuMzcyIDU5LjMyNjZDMTQ5LjM2MiA1OS4zNzE5IDE0OC42MzEgNTguMzczNiAxNDguOTg0IDU3LjQyN0wxNTIuNTM3IDQ3Ljg2MUMxNTIuOTcgNDYuNjkxNCAxNTQuNjAxIDQ2LjYxNzEgMTU1LjEzOCA0Ny43NDQ3WiIgZmlsbD0iIzg1REZBOSIgc3Ryb2tlPSIjMDAxMTJDIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPHBhdGggZD0iTTEyNS41NDMgNTYuNTU3NkwxMjUuMDk2IDU2LjE4MjhWNTMuMDc4MUgxNDUuOTI2VjU2LjE4MjhMMTQ1LjU3NCA1Ni40OEMxNDMuMDYzIDU4LjYwOSAxMzkuOTE4IDU5Ljg2NTggMTM2LjYyOCA2MC4wMDc5QzEzNS43NDEgNjAuMDQ2NyAxMzQuODUxIDYwLjA0MDIgMTMzLjk2OCA1OS45ODUzQzEzMC44NjggNTkuNzk0NyAxMjcuOTI0IDU4LjU0NzcgMTI1LjU0MyA1Ni41NTQzVjU2LjU1NzZaIiBmaWxsPSIjMDAxMTJDIiBzdHJva2U9IiMwMDExMkMiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8cGF0aCBkPSJNMTQ3LjcxMyAyMi4yOTY3QzE0MS40MjMgMjUuMjYyNCAxMzQuMjAyIDI2LjIzODEgMTI3LjM1NSAyNC45OTExQzEyNi4xNTggMjQuNzc0NiAxMjQuOTE5IDI0LjQzNTQgMTIzLjc3NyAyMy45Mzc5QzEyMS40NTcgMjYuOTIzIDExOS44MzMgMzAuNzE1OCAxMTkuMjk2IDM0Ljk2NzRDMTE3LjkyMSA0NS45IDEyNC4yNCA1NS42OTU0IDEzMy40MTYgNTYuODQ1NkMxNDIuNTg4IDU3Ljk5NTcgMTUxLjE0MyA1MC4wNjc2IDE1Mi41MTggMzkuMTM1QzE1My4zNDYgMzIuNTY3IDE1MS4zOTIgMjYuNDEyNiAxNDcuNzEgMjIuMjkzNUwxNDcuNzEzIDIyLjI5NjdaIiBmaWxsPSIjQjM0QjM2IiBzdHJva2U9IiMwMDExMkMiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8cGF0aCBkPSJNMTE5LjYyNSAyMC4zNzExQzEyMC43NTQgMjIuMjE1OCAxMjIuNTk1IDIzLjUyNzUgMTI0LjY1MyAyNC4yODAyIiBzdHJva2U9IiMwMDExMkMiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8cGF0aCBkPSJNMTMyLjI0OSAzNS42MjQzQzEzMi40NDQgMzQuMDc3MSAxMzEuMDg0IDMyLjYzMjEgMTI5LjIxMiAzMi4zOTdDMTI3LjM0IDMyLjE2MTggMTI1LjY2NCAzMy4yMjU0IDEyNS40NjkgMzQuNzcyN0MxMjUuMjc0IDM2LjMxOTkgMTI2LjYzNCAzNy43NjQ5IDEyOC41MDYgMzhDMTMwLjM3OCAzOC4yMzUyIDEzMi4wNTQgMzcuMTcxNiAxMzIuMjQ5IDM1LjYyNDNaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNMTMwLjQ5NyA0MS4zMzg5QzEzMC40OTcgNDEuMzM4OSAxMjguNjQ2IDQ0LjkxNTIgMTMzLjk0MyA0NS41Nzc1QzEzOS4yMzkgNDYuMjQzIDEzOC4wODQgNDIuMjg4NyAxMzguMDg0IDQyLjI4ODciIHN0cm9rZT0iIzAwMTEyQyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxwYXRoIGQ9Ik0xMjUuNDU5IDM0Ljc2NjlDMTI1LjQ1OSAzNC43NjY5IDEyNS44MTIgMzEuOTY1OSAxMjkuMTk5IDMyLjM5MjNDMTMyLjU4NyAzMi44MTg4IDEzMi4yMzQgMzUuNjE5OCAxMzIuMjM0IDM1LjYxOTgiIHN0cm9rZT0iIzAwMTEyQyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxwYXRoIGQ9Ik0xMjcuNzI2IDM2Ljk5MzFDMTI4Ljk2OCAzNi45OTMxIDEyOS45NzUgMzUuOTg3OCAxMjkuOTc1IDM0Ljc0NzhDMTI5Ljk3NSAzMy41MDc3IDEyOC45NjggMzIuNTAyNCAxMjcuNzI2IDMyLjUwMjRDMTI2LjQ4NCAzMi41MDI0IDEyNS40NzggMzMuNTA3NyAxMjUuNDc4IDM0Ljc0NzhDMTI1LjQ3OCAzNS45ODc4IDEyNi40ODQgMzYuOTkzMSAxMjcuNzI2IDM2Ljk5MzFaIiBmaWxsPSIjMDAxMTJDIiBzdHJva2U9IiMwMDExMkMiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8cGF0aCBkPSJNMTIzLjk0NCAzMy41NzUyQzEyMy45NDQgMzMuNTc1MiAxMjUuMDQ4IDM0LjkyNTYgMTI2LjE2MSAzNC43NjA5TDEyMy45NDQgMzMuNTc1MloiIGZpbGw9IiMwMDExMkMiLz4KPHBhdGggZD0iTTEyMy45NDQgMzMuNTc1MkMxMjMuOTQ0IDMzLjU3NTIgMTI1LjA0OCAzNC45MjU2IDEyNi4xNjEgMzQuNzYwOSIgc3Ryb2tlPSIjMDAxMTJDIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPHBhdGggZD0iTTE0Ni43NjUgMzYuNDM3NUMxNDYuNzY1IDM2LjQzNzUgMTQ1LjM2MSAzNy40NzEzIDE0NC4zMjUgMzcuMDM4NEwxNDYuNzY1IDM2LjQzNzVaIiBmaWxsPSIjMDAxMTJDIi8+CjxwYXRoIGQ9Ik0xNDYuNzY1IDM2LjQzNzVDMTQ2Ljc2NSAzNi40Mzc1IDE0NS4zNjEgMzcuNDcxMyAxNDQuMzI1IDM3LjAzODQiIHN0cm9rZT0iIzAwMTEyQyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxwYXRoIGQ9Ik0xNDQuOTQ5IDM3LjIxODFDMTQ1LjE0NCAzNS42NzA4IDE0My43ODUgMzQuMjI1OSAxNDEuOTEyIDMzLjk5MDdDMTQwLjA0IDMzLjc1NTUgMTM4LjM2NCAzNC44MTkyIDEzOC4xNjkgMzYuMzY2NEMxMzcuOTc0IDM3LjkxMzcgMTM5LjMzNCAzOS4zNTg2IDE0MS4yMDYgMzkuNTkzOEMxNDMuMDc5IDM5LjgyOSAxNDQuNzU0IDM4Ljc2NTMgMTQ0Ljk0OSAzNy4yMTgxWiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTEzOC4xNTggMzYuMzYzMUMxMzguMTU4IDM2LjM2MzEgMTM4LjUxMSAzMy41NjIxIDE0MS44OTggMzMuOTg4NUMxNDUuMjg2IDM0LjQxNSAxNDQuOTMzIDM3LjIxNiAxNDQuOTMzIDM3LjIxNiIgc3Ryb2tlPSIjMDAxMTJDIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPHBhdGggZD0iTTEzMy43ODQgNDYuOTg1M0MxMzAuNTgxIDQ2LjU4NDcgMTI5LjA2IDQ4LjEwMzEgMTI5LjA2IDQ4LjEwMzFDMTI5LjA2IDQ4LjEwMzEgMTI4LjgwMSA1MS42ODU5IDEzMy4yNjMgNTIuMjQ0OEMxMzcuNzI1IDUyLjgwMzcgMTM4LjAxMyA0OS4zNDM3IDEzOC4wMTMgNDkuMzQzN0MxMzguMDEzIDQ5LjM0MzcgMTM3LjIyMyA0Ny40MTUgMTMzLjc4NyA0Ni45ODJMMTMzLjc4NCA0Ni45ODUzWiIgZmlsbD0iIzg5MzgyQiIvPgo8cGF0aCBkPSJNMTI4LjM2MSA0Ny43MTI5QzEzMS41MjYgNDkuNjA5MyAxMzUuMzM0IDUwLjEyMyAxMzguODkgNDkuMTM0NEwxMzkuMTM2IDQ5LjA2NjUiIHN0cm9rZT0iIzAwMTEyQyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxwYXRoIGQ9Ik0xMjUuNDg1IDI5LjA2NTNDMTI2LjY5NSAyOC40ODM4IDEyOC4wODkgMjguMjk5NiAxMjkuNDEgMjguNTQxOUMxMzAuNzMgMjguNzg0MiAxMzEuOTY2IDI5LjQ1MyAxMzIuODkxIDMwLjQyNTQiIHN0cm9rZT0iIzAwMTEyQyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxwYXRoIGQ9Ik0xNDUuOTg0IDMwLjgwMzFDMTQ1LjExNCAyOS43ODU0IDE0My45MTMgMjkuMDUyIDE0Mi42MDYgMjguNzQxOUMxNDEuMzAyIDI4LjQzMTggMTM5Ljg5OCAyOC41NDQ4IDEzOC42NjIgMjkuMDU4NSIgc3Ryb2tlPSIjMDAxMTJDIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPHBhdGggZD0iTTE0MC41ODMgMzguNjA1NEMxNDEuODI1IDM4LjYwNTQgMTQyLjgzMSAzNy42MDAxIDE0Mi44MzEgMzYuMzYwMUMxNDIuODMxIDM1LjEyIDE0MS44MjUgMzQuMTE0NyAxNDAuNTgzIDM0LjExNDdDMTM5LjM0MSAzNC4xMTQ3IDEzOC4zMzQgMzUuMTIgMTM4LjMzNCAzNi4zNjAxQzEzOC4zMzQgMzcuNjAwMSAxMzkuMzQxIDM4LjYwNTQgMTQwLjU4MyAzOC42MDU0WiIgZmlsbD0iIzAwMTEyQyIgc3Ryb2tlPSIjMDAxMTJDIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPHBhdGggZD0iTTE1NC4yODUgMjMuMDJDMTU0LjI4NSAyMy4wMiAxNTYuNjg2IDI1LjMzIDE1NS4yMjMgMzAuODAyNyIgc3Ryb2tlPSIjODVERkE5IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPHBhdGggZD0iTTEyNC43MDggNjQuODQ0N0MxMjMuMjQ1IDY0LjEwMTYgMTIxLjY3OSA2My42MDA5IDEyMC4wNTUgNjMuMzU4NkMxMTUuNzIzIDYyLjcxMjQgMTA3LjI5NCA2Ni44MTIxIDEwMC4wMTEgNzAuOTYwM0M4OS44NjQ1IDc2Ljc0IDgwLjMyNjIgOTAuMDAxOSA4MC4zMjYyIDkwLjAwMTlMNjkuNjA3IDY5LjgzMjhDNjkuMjE4NyA2OS4xMDU5IDY4LjIyMjIgNjguOTkyOSA2Ny42ODUxIDY5LjYxNjRDNjQuMzc4NCA3My40NDQ3IDU0LjkwODEgODQuNTc0NCA1NS4xNDc1IDg2LjI0NDdDNTUuNDM1NSA4OC4yNjcxIDY3LjMwMzMgMTI4LjQzNyA4MS4xOTY2IDEyMC4zNDhDOTUuMDg5OSAxMTIuMjU4IDEwNi4wODcgMTAyLjcxOCAxMDYuMDg3IDEwMi43MThMMTA3Ljk1MSAxMzEuNDk0SDEzOC4xMTlDMTM4LjExOSAxMzEuNDk0IDEzOC4yMTYgNzguOTgyMSAxMzguMjE2IDc3LjUzOEMxMzguMjE2IDc2LjQxMzcgMTI4Ljg0MyA2Ni45NDE0IDEyNC43MDQgNjQuODQxNEwxMjQuNzA4IDY0Ljg0NDdaIiBmaWxsPSIjMDAxMTJDIiBzdHJva2U9IiMwMDExMkMiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8cGF0aCBkPSJNMTUyLjU2NiA2NC42NjY1TDEzOC4yMTcgNzcuNTQwOEwxMzguMTIgMTMxLjQ5NkgxNjkuODk5VjEwNC4zNTlMMTg1Ljg0IDEzMS40OTZIMjExLjI5N0MyMTEuMjk3IDEzMS40OTYgMTkzLjQ3MyA4OS4wMzIzIDE3OS43NjcgNzQuMjQ4N0MxNzIuNTAzIDY2LjQxMTEgMTUyLjU2NiA2NC42NjY1IDE1Mi41NjYgNjQuNjY2NVoiIGZpbGw9IiMwMDExMkMiIHN0cm9rZT0iIzAwMTEyQyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxwYXRoIGQ9Ik0xNS45OTg3IDFIMTMuMzAwM1Y0OS4xMjc0SDE1Ljk5ODdWMVoiIGZpbGw9IiMwMDExMkMiIHN0cm9rZT0iIzAwMTEyQyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxwYXRoIGQ9Ik0xMyAyNC42MjE2TDEgMjQuNjIxNiIgc3Ryb2tlPSIjMDAxMTJDIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPHBhdGggb3BhY2l0eT0iMC43NSIgZD0iTTgwLjI2NTEgMS4yMjYwN0gxNi4wMDE1VjQ5LjM1MzVIODAuMjY1MVYxLjIyNjA3WiIgZmlsbD0id2hpdGUiIHN0cm9rZT0iIzAwMTEyQyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxwYXRoIGQ9Ik04MC4yNjUxIDFIMTYuMDAxNVY0OS4xMjc0SDgwLjI2NTFWMVoiIHN0cm9rZT0iIzAwMTEyQyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxwYXRoIGQ9Ik0yOS44NDMzIDI1LjA2MjJDMjkuODQzMyAyMy44Mzc4IDMwLjgzOTggMjIuODQyOCAzMi4wNjYxIDIyLjg0MjhDMzMuMjkyMyAyMi44NDI4IDM0LjI4ODkgMjMuODM3OCAzNC4yODg5IDI1LjA2MjJDMzQuMjg4OSAyNi4yODY3IDMzLjI5MjMgMjcuMjgxNyAzMi4wNjYxIDI3LjI4MTdDMzAuODM5OCAyNy4yODE3IDI5Ljg0MzMgMjYuMjg2NyAyOS44NDMzIDI1LjA2MjJaIiBmaWxsPSIjRjdGOEY5IiBzdHJva2U9IiMwMDExMkMiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8cGF0aCBkPSJNNjQuMTk4NCAyNy4yODE3QzY1LjQyNiAyNy4yODE3IDY2LjQyMTIgMjYuMjg4IDY2LjQyMTIgMjUuMDYyMkM2Ni40MjEyIDIzLjgzNjUgNjUuNDI2IDIyLjg0MjggNjQuMTk4NCAyMi44NDI4QzYyLjk3MDggMjIuODQyOCA2MS45NzU2IDIzLjgzNjUgNjEuOTc1NiAyNS4wNjIyQzYxLjk3NTYgMjYuMjg4IDYyLjk3MDggMjcuMjgxNyA2NC4xOTg0IDI3LjI4MTdaIiBmaWxsPSIjRjdGOEY5IiBzdHJva2U9IiMwMDExMkMiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8cGF0aCBkPSJNNDguMTM0NCAyNy4yODE3QzQ5LjM2MiAyNy4yODE3IDUwLjM1NzIgMjYuMjg4IDUwLjM1NzIgMjUuMDYyMkM1MC4zNTcyIDIzLjgzNjUgNDkuMzYyIDIyLjg0MjggNDguMTM0NCAyMi44NDI4QzQ2LjkwNjggMjIuODQyOCA0NS45MTE2IDIzLjgzNjUgNDUuOTExNiAyNS4wNjIyQzQ1LjkxMTYgMjYuMjg4IDQ2LjkwNjggMjcuMjgxNyA0OC4xMzQ0IDI3LjI4MTdaIiBmaWxsPSIjRjdGOEY5IiBzdHJva2U9IiMwMDExMkMiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8cGF0aCBvcGFjaXR5PSIwLjc1IiBkPSJNMjI2LjEyNSAxMDYuNTgxVjQ2LjYzOTJIMTgxLjFWMTA2LjU4MUgyMjYuMTI1WiIgZmlsbD0id2hpdGUiIHN0cm9rZT0iIzAwMTEyQyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxwYXRoIGQ9Ik0xODAuOTkgNDYuNjM5MkgxNzguNDY5VjEwNi41ODFIMTgwLjk5VjQ2LjYzOTJaIiBmaWxsPSIjMDAxMTJDIiBzdHJva2U9IiMwMDExMkMiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8cGF0aCBkPSJNMjUzIDc2LjYyMTZIMjI2IiBzdHJva2U9IiMwMDExMkMiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8cGF0aCBkPSJNMjI1Ljg2NiA0Ni42MzkySDIxMi4zNDVWNjAuMTQwMkgyMjUuODY2VjQ2LjYzOTJaIiBmaWxsPSIjMDAxMTJDIiBzdHJva2U9IiMwMDExMkMiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8cGF0aCBkPSJNMjQ0Ljc3OSAyNy41NzU3SDIxNC43NjNWNTcuNTQ2N0gyNDQuNzc5VjI3LjU3NTdaIiBmaWxsPSIjMEFCRjUzIiBzdHJva2U9IiMwMDExMkMiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8cGF0aCBkPSJNMjI1LjQ5OSA0My40ODY4TDIyOC40NDMgNDYuNDIzNUwyMzYuMTc2IDM4LjcwMjEiIHN0cm9rZT0id2hpdGUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8cGF0aCBkPSJNMjIwLjkxOSAxMTYuOTQ5TDIxNi4xNjMgOTYuMjE3OEwyMzQuODMyIDEwNi4xMTNMMjIwLjkxOSAxMTYuOTQ5WiIgZmlsbD0iIzAwMTEyQyIgc3Ryb2tlPSIjMDAxMTJDIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPC9zdmc+Cg==\"","import useCoreContext from '../../../../core/Context/useCoreContext';\nimport unqualifiedImage from '../../../../images/generic-use-first-touch.svg';\nimport Typography from '../../../internal/Typography/Typography';\nimport { TypographyElement, TypographyVariant } from '../../../internal/Typography/types';\nimport { CapitalHeader } from '../../../internal/CapitalHeader';\n\nconst Unqualified = ({ hideTitle }: { hideTitle?: boolean }) => {\n    const { i18n } = useCoreContext();\n\n    return (\n        <>\n            <CapitalHeader hideTitle={hideTitle} titleKey={'capital.needSomeExtraMoney'} />\n            <div className={'adyen-pe-capital-overview__unqualified-state'}>\n                <div className=\"adyen-pe-capital-overview__unqualified-state-img\">\n                    <img srcSet={unqualifiedImage} alt=\"\" />\n                </div>\n                <Typography el={TypographyElement.PARAGRAPH} variant={TypographyVariant.BODY} large>\n                    {i18n.get('capital.youWillSoonQualifyForAFinancialOffer')}\n                </Typography>\n            </div>\n        </>\n    );\n};\n\nexport default Unqualified;\n","import { CAPITAL_OVERVIEW_CLASS_NAMES } from '../constants';\nimport InfoBox from '../../../internal/InfoBox';\nimport Button from '../../../internal/Button/Button';\nimport useCoreContext from '../../../../core/Context/useCoreContext';\nimport { IDynamicOffersConfig } from '../../../../types';\nimport { CapitalHeader } from '../../../internal/CapitalHeader';\nimport Typography from '../../../internal/Typography/Typography';\nimport { TypographyVariant } from '../../../internal/Typography/types';\n\nconst PreQualifiedIntro = ({\n    dynamicOffer,\n    onSeeOptions,\n    hideTitle,\n}: {\n    dynamicOffer: Required<IDynamicOffersConfig>;\n    onSeeOptions: () => void;\n    hideTitle?: boolean;\n}) => {\n    const { i18n } = useCoreContext();\n\n    return (\n        <>\n            <CapitalHeader hideTitle={hideTitle} titleKey={'capital.needSomeExtraMoney'} />\n            <div className={CAPITAL_OVERVIEW_CLASS_NAMES.preQualifiedGrant}>\n                <InfoBox>\n                    <Typography variant={TypographyVariant.BODY}>\n                        {i18n.get('capital.youHaveBeenPrequalifiedForBusinessFinancingUpToX.part1')}\n                        <strong>\n                            {i18n.get('capital.youHaveBeenPrequalifiedForBusinessFinancingUpToX.part2', {\n                                values: {\n                                    amount: i18n.amount(dynamicOffer.maxAmount.value, dynamicOffer.maxAmount.currency, { minimumFractionDigits: 0 }),\n                                },\n                            })}\n                        </strong>\n                    </Typography>\n                </InfoBox>\n                <Button className={CAPITAL_OVERVIEW_CLASS_NAMES.preQualifiedGrantButton} onClick={onSeeOptions}>\n                    {i18n.get('capital.seeOptions')}\n                </Button>\n            </div>\n        </>\n    );\n};\n\nexport default PreQualifiedIntro;\n","import { IDynamicOffersConfig, IGrant } from '../../../../../types';\nimport PreQualifiedIntro from '../PreQualifiedIntro';\nimport { useCallback, useMemo, useState } from 'preact/hooks';\nimport { CapitalOffer } from '../../../CapitalOffer/components/CapitalOffer/CapitalOffer';\n\ntype PreQualifiedProps = {\n    dynamicOffer: Required<IDynamicOffersConfig>;\n    hideTitle: boolean | undefined;\n    onFundsRequest: (data: IGrant) => void;\n    onOfferDismiss?: () => void;\n    onOfferOptionsRequest?: () => void;\n    skipPreQualifiedIntro?: boolean;\n};\n\ntype PreQualifiedState = 'Intro' | 'CapitalOffer';\n\nexport const PreQualified = ({\n    hideTitle,\n    dynamicOffer,\n    skipPreQualifiedIntro,\n    onOfferOptionsRequest,\n    onFundsRequest,\n    onOfferDismiss,\n}: PreQualifiedProps) => {\n    const [capitalOfferSelection, setCapitalOfferSelection] = useState<boolean>(!!skipPreQualifiedIntro);\n    const goToCapitalOffer = useCallback(() => setCapitalOfferSelection(true), []);\n    const onSeeOptionsHandler = useCallback(() => {\n        onOfferOptionsRequest ? onOfferOptionsRequest() : goToCapitalOffer();\n    }, [goToCapitalOffer, onOfferOptionsRequest]);\n\n    const goBackToPreviousStep = useCallback(() => setCapitalOfferSelection(false), []);\n    const goBackToIntro = useCallback(() => {\n        onOfferDismiss ? onOfferDismiss() : goBackToPreviousStep();\n    }, [goBackToPreviousStep, onOfferDismiss]);\n\n    const state: PreQualifiedState = useMemo(() => {\n        if (skipPreQualifiedIntro || capitalOfferSelection) {\n            return 'CapitalOffer';\n        }\n        return 'Intro';\n    }, [capitalOfferSelection, skipPreQualifiedIntro]);\n\n    return (\n        <>\n            {state === 'Intro' ? (\n                <PreQualifiedIntro hideTitle={hideTitle} dynamicOffer={dynamicOffer} onSeeOptions={onSeeOptionsHandler} />\n            ) : state === 'CapitalOffer' ? (\n                <CapitalOffer onFundsRequest={onFundsRequest} onOfferDismiss={goBackToIntro} externalDynamicOffersConfig={dynamicOffer} />\n            ) : null}\n        </>\n    );\n};\n","import { useMemo } from 'preact/hooks';\nimport cx from 'classnames';\nimport './ProgressBar.scss';\nimport Typography from '../Typography/Typography';\nimport { TypographyElement, TypographyVariant } from '../Typography/types';\nimport { clamp } from '../../../utils';\nimport { Tooltip } from '../Tooltip/Tooltip';\n\ninterface ProgressBarProps {\n    /**\n     * Maximum value for the progress bar.\n     *\n     * @default 1\n     */\n    max?: number;\n\n    /**\n     * Current value of the progress bar.\n     */\n    value: number;\n\n    /**\n     * Labels for the progress bar\n     */\n    labels?: {\n        /**\n         * The label that describes the current value of the progress bar.\n         */\n        current?: string;\n\n        /**\n         * The label that describes the maximum value of the progress bar.\n         */\n        max?: string;\n\n        /**\n         * Accessible label for the progress bar (optional).\n         */\n        ariaLabel?: string;\n    };\n\n    /**\n     * Tooltips for the progress bar segments.\n     */\n    tooltips?: {\n        /**\n         * Tooltip content to describe the filled portion of the progress bar (progress).\n         */\n        progress?: string;\n\n        /**\n         * Tooltip content to describe the remaining portion of the progress bar.\n         */\n        remaining?: string;\n    };\n\n    /**\n     * Optional custom class name to apply additional styles to the progress bar component.\n     */\n    className?: string;\n}\n\n/**\n * Accessible custom ProgressBar component\n * @param props - ProgressBarProps\n */\nconst ProgressBar = ({ max = 1, value, labels, tooltips, className }: ProgressBarProps) => {\n    const percentage = useMemo(() => clamp(0, (value * 100) / max, 100), [value, max]);\n    const shouldDisplayLegend = !!(labels?.current || labels?.max);\n    const ariaLabel = labels?.ariaLabel ?? (labels?.current ? `${labels.current}: ${value}` : `${value}/${max}`);\n\n    return (\n        <div\n            role=\"progressbar\"\n            aria-valuenow={value}\n            aria-valuemin={0}\n            aria-valuemax={max}\n            aria-valuetext={`${percentage}%`}\n            aria-label={ariaLabel}\n            className={cx('adyen-pe-progress-bar', className)}\n        >\n            <div className=\"adyen-pe-progress-bar__track\">\n                <div className=\"adyen-pe-progress-bar__track-background\"></div>\n                <ProgressBarSegment\n                    tooltipContent={tooltips?.progress}\n                    title={labels?.current}\n                    percentage={percentage}\n                    className=\"adyen-pe-progress-bar__track-fill\"\n                />\n                <ProgressBarSegment\n                    tooltipContent={tooltips?.remaining}\n                    title={labels?.max}\n                    percentage={100 - percentage}\n                    className=\"adyen-pe-progress-bar__track-remaining\"\n                />\n            </div>\n\n            {shouldDisplayLegend && (\n                <div className=\"adyen-pe-progress-bar__legend\" aria-hidden=\"true\">\n                    {labels.current && (\n                        <Typography el={TypographyElement.SPAN} variant={TypographyVariant.CAPTION} className=\"adyen-pe-progress-bar__legend-label\">\n                            {labels.current}\n                        </Typography>\n                    )}\n                    {labels.max && (\n                        <Typography el={TypographyElement.SPAN} variant={TypographyVariant.CAPTION} className=\"adyen-pe-progress-bar__legend-label\">\n                            {labels.max}\n                        </Typography>\n                    )}\n                </div>\n            )}\n        </div>\n    );\n};\ninterface ProgressBarSegmentProps {\n    tooltipContent?: string;\n    title?: string;\n    percentage: number;\n    className: string;\n}\nconst ProgressBarSegment = ({ tooltipContent, title, percentage, className }: ProgressBarSegmentProps) => {\n    const getContent = (title?: string) => <div className={className} title={title} style={{ width: `${percentage}%` }} />;\n    return tooltipContent ? <Tooltip content={tooltipContent}>{getContent()}</Tooltip> : getContent(title);\n};\n\nexport default ProgressBar;\n","export const GRANT_ITEM_CLASS_NAMES = {\n    base: 'adyen-pe-grant-item',\n    alert: 'adyen-pe-grant-item__alert',\n    cardContent: 'adyen-pe-grant-item__card-content',\n    grantID: 'adyen-pe-grant-item__grant-id',\n    overview: 'adyen-pe-grant-item__overview',\n    progressBar: 'adyen-pe-grant-item__progress-bar',\n    statusContainer: 'adyen-pe-grant-item__status-container',\n    textSecondary: 'adyen-pe-grant-item__text--secondary',\n};\n","import { IGrant, IGrantStatus } from '../../../../../types';\nimport { TranslationKey } from '../../../../../translations';\nimport { TagVariant } from '../../../../internal/Tag/types';\n\nconst getHasDetails = (status: IGrantStatus) => status === 'Active';\n\nconst getIsBackgroundFilled = (status: IGrantStatus) => status === 'Repaid';\n\nconst getAmountLabelKey = (status: IGrantStatus): TranslationKey => (status === 'Active' ? 'capital.remaining' : 'capital.requestedFunds');\n\nconst getAmount = (grant: IGrant) => (grant.status === 'Active' ? grant.remainingTotalAmount : grant.grantAmount);\n\nconst getStatusKey = ({ status, missingActions }: IGrant): TranslationKey | undefined => {\n    switch (status) {\n        case 'Active':\n            return undefined;\n        case 'Failed':\n            return 'capital.failed';\n        case 'Pending':\n            return missingActions && missingActions.length ? 'capital.actionNeeded' : 'capital.pending';\n        case 'Repaid':\n            return 'capital.fullyRepaid';\n        case 'Revoked':\n            return 'capital.revoked';\n        case 'WrittenOff':\n            return 'capital.writtenOff';\n    }\n};\n\nconst getStatusTagVariant = ({ status, missingActions }: IGrant): TagVariant => {\n    switch (status) {\n        case 'Failed':\n            return TagVariant.ERROR;\n        case 'Pending':\n            return missingActions?.length ? TagVariant.WARNING : TagVariant.DEFAULT;\n        case 'Repaid':\n            return TagVariant.LIGHT;\n        case 'Revoked':\n        case 'WrittenOff':\n            return TagVariant.WARNING;\n        default:\n            return TagVariant.DEFAULT;\n    }\n};\n\nconst getRepaymentPeriodEndDate = (repaymentPeriodLeft: number) => {\n    const today = new Date();\n    const endDate = new Date();\n    endDate.setDate(today.getDate() + repaymentPeriodLeft);\n    return endDate;\n};\n\nexport const getStatusTooltipKey = (grant: IGrant): TranslationKey | undefined => {\n    const pendingToS = grant.missingActions?.some(action => action.type === 'signToS') || false;\n\n    switch (grant.status) {\n        case 'Pending':\n            return grant.missingActions?.length\n                ? pendingToS\n                    ? 'capital.signTheTermsToReceiveYourFunds'\n                    : undefined\n                : 'capital.youShouldGetTheFundsWithinOneBusinessDay';\n        case 'Failed':\n            return 'capital.weCouldNotProcessThisRequestTryAgain';\n        case 'WrittenOff':\n            return 'capital.youAcceptedTheseFundsButDidNotRepayThem';\n        case 'Revoked':\n            return 'capital.youAcceptedButThenReturnedTheseFunds';\n        default:\n            return undefined;\n    }\n};\n\nexport const getGrantConfig = (grant: IGrant) => {\n    const isGrantActive = grant.status === 'Active';\n    const isGrantPending = grant.status === 'Pending';\n\n    return {\n        amount: getAmount(grant),\n        amountLabelKey: getAmountLabelKey(grant.status),\n        hasAlerts: isGrantPending,\n        hasDetails: getHasDetails(grant.status),\n        isAmountColorSecondary: !isGrantActive,\n        isBackgroundFilled: getIsBackgroundFilled(grant.status),\n        isGrantIdVisible: !isGrantActive,\n        isLabelColorSecondary: isGrantActive,\n        isProgressBarVisible: isGrantActive,\n        repaymentPeriodEndDate: getRepaymentPeriodEndDate(grant.repaymentPeriodLeft),\n        statusKey: getStatusKey(grant),\n        statusTagVariant: getStatusTagVariant(grant),\n        statusTooltipKey: getStatusTooltipKey(grant),\n    };\n};\n","export const GRANT_DETAILS_CLASS_NAMES = {\n    base: 'adyen-pe-grant-details',\n    content: 'adyen-pe-grant-details__content',\n    header: 'adyen-pe-grant-details__header',\n    label: 'adyen-pe-grant-details__label',\n};\n","export const EXPANDABLE_CONTAINER_CLASS_NAMES = {\n    base: 'adyen-pe-expandable-container',\n    content: 'adyen-pe-expandable-container__content',\n    toggleButtonIcon: 'adyen-pe-expandable-container__toggle-button-icon',\n};\n","import { ExpandableContainerProps } from './types';\nimport { useCallback, useState } from 'preact/hooks';\nimport './ExpandableContainer.scss';\nimport useCoreContext from '../../../core/Context/useCoreContext';\nimport { FunctionalComponent } from 'preact';\nimport { EXPANDABLE_CONTAINER_CLASS_NAMES } from './constants';\nimport cx from 'classnames';\nimport Button from '../Button/Button';\nimport { ButtonVariant } from '../Button/types';\nimport Icon from '../Icon';\nimport uuid from '../../../utils/random/uuid';\n\nexport const ExpandableContainer: FunctionalComponent<ExpandableContainerProps> = ({ className, children }) => {\n    const { i18n } = useCoreContext();\n    const [isOpen, setIsOpen] = useState(false);\n    const contentId = uuid();\n\n    const toggleIsOpen = useCallback(() => {\n        setIsOpen(prevIsOpen => !prevIsOpen);\n    }, []);\n\n    return (\n        <div className={cx(EXPANDABLE_CONTAINER_CLASS_NAMES.base, className)} data-testid=\"expandable-container\">\n            {isOpen && (\n                <div id={contentId} className={EXPANDABLE_CONTAINER_CLASS_NAMES.content}>\n                    {children}\n                </div>\n            )}\n            <Button\n                variant={ButtonVariant.TERTIARY_WITH_BACKGROUND}\n                condensed\n                fullWidth\n                onClick={toggleIsOpen}\n                aria-controls={contentId}\n                aria-expanded={isOpen}\n                aria-label={i18n.get(isOpen ? 'expandableCard.collapse' : 'expandableCard.expand')}\n            >\n                <Icon name={isOpen ? 'chevron-up' : 'chevron-down'} className={EXPANDABLE_CONTAINER_CLASS_NAMES.toggleButtonIcon} />\n            </Button>\n        </div>\n    );\n};\n","import { FunctionalComponent } from 'preact';\nimport { useCallback, useMemo } from 'preact/hooks';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport Typography from '../../../../internal/Typography/Typography';\nimport { TypographyElement, TypographyVariant } from '../../../../internal/Typography/types';\nimport { GRANT_DETAILS_CLASS_NAMES } from './constants';\nimport { GrantDetailsProps } from './types';\nimport './GrantDetails.scss';\nimport { ExpandableContainer } from '../../../../internal/ExpandableContainer/ExpandableContainer';\nimport StructuredList from '../../../../internal/StructuredList';\nimport { StructuredListItem } from '../../../../internal/StructuredList/types';\nimport { getPaymentRatePercentage } from '../../../CapitalOffer/components/utils/utils';\nimport { Tooltip } from '../../../../internal/Tooltip/Tooltip';\nimport { CAPITAL_REPAYMENT_FREQUENCY } from '../../../../constants';\n\nexport const GrantDetails: FunctionalComponent<GrantDetailsProps> = ({ grant }) => {\n    const { i18n } = useCoreContext();\n    const formatAmount = useCallback((amount: { value: number; currency: string }) => i18n.amount(amount.value, amount.currency), [i18n]);\n    const structuredListItems = useMemo<StructuredListItem[]>(() => {\n        const maximumRepaymentPeriodMonths = grant.maximumRepaymentPeriodDays ? Math.ceil(grant.maximumRepaymentPeriodDays / 30) : null;\n        const items: StructuredListItem[] = [\n            {\n                key: 'capital.remainingAmount',\n                value: i18n.amount(grant.remainingGrantAmount.value, grant.remainingGrantAmount.currency),\n            },\n            { key: 'capital.remainingFees', value: formatAmount(grant.remainingFeesAmount) },\n            { key: 'capital.repaidAmount', value: formatAmount(grant.repaidGrantAmount) },\n            { key: 'capital.repaidFees', value: formatAmount(grant.repaidFeesAmount) },\n            {\n                key: 'capital.dailyRepaymentRate',\n                value: `${i18n.get('capital.xPercent', {\n                    values: { percentage: getPaymentRatePercentage(grant.repaymentRate) },\n                })}`,\n            },\n            {\n                key: 'capital.expectedRepaymentPeriod',\n                value: i18n.get('capital.daysAndDaysLeft', {\n                    values: {\n                        days: grant.expectedRepaymentPeriodDays,\n                        daysLeft: grant.repaymentPeriodLeft,\n                    },\n                }),\n            },\n            { key: 'capital.totalFees', value: formatAmount(grant.feesAmount) },\n            { key: 'capital.totalRepaymentAmount', value: formatAmount(grant.totalAmount) },\n            { key: 'capital.repaymentThreshold', value: formatAmount(grant.thresholdAmount) },\n            { key: 'capital.grantID', value: grant.id },\n            { key: 'accountDescription', value: grant.balanceAccountDescription },\n            { key: 'accountID', value: grant.balanceAccountCode },\n        ];\n\n        if (maximumRepaymentPeriodMonths) {\n            items.splice(5, 0, {\n                key: 'capital.maximumRepaymentPeriod',\n                value: i18n.get('capital.xMonths', { values: { months: maximumRepaymentPeriodMonths } }),\n            });\n        }\n\n        return items;\n    }, [grant, formatAmount, i18n]);\n\n    return (\n        <ExpandableContainer className={GRANT_DETAILS_CLASS_NAMES.base}>\n            <div className={GRANT_DETAILS_CLASS_NAMES.content}>\n                <div className={GRANT_DETAILS_CLASS_NAMES.header}>\n                    <Typography el={TypographyElement.SPAN} variant={TypographyVariant.BODY}>\n                        {i18n.get('capital.yourRequestedFundsWere')}\n                    </Typography>\n                    <Typography el={TypographyElement.SPAN} variant={TypographyVariant.BODY} strongest>\n                        {i18n.amount(grant.grantAmount.value, grant.grantAmount.currency)}\n                    </Typography>\n                </div>\n                <StructuredList\n                    renderLabel={(val, key) =>\n                        key === 'capital.repaymentThreshold' ? (\n                            <Tooltip\n                                isContainerHovered\n                                content={i18n.get('capital.minimumRepaymentToRepayTheFinancingOnTime', {\n                                    values: { days: CAPITAL_REPAYMENT_FREQUENCY },\n                                })}\n                            >\n                                <span>\n                                    <Typography\n                                        className={GRANT_DETAILS_CLASS_NAMES.label}\n                                        el={TypographyElement.SPAN}\n                                        variant={TypographyVariant.CAPTION}\n                                    >\n                                        {val}\n                                    </Typography>\n                                </span>\n                            </Tooltip>\n                        ) : (\n                            <Typography className={GRANT_DETAILS_CLASS_NAMES.label} el={TypographyElement.SPAN} variant={TypographyVariant.CAPTION}>\n                                {val}\n                            </Typography>\n                        )\n                    }\n                    renderValue={val => (\n                        <Typography el={TypographyElement.SPAN} stronger variant={TypographyVariant.CAPTION}>\n                            {val}\n                        </Typography>\n                    )}\n                    items={structuredListItems}\n                />\n            </div>\n        </ExpandableContainer>\n    );\n};\n","export const GRANT_ACTION_CLASS_NAMES = {\n    button: 'adyen-pe-grant-action__button',\n};\n","/**\n * Gets the href from the topmost window (useful when we're inside an iframe).\n *\n * @returns The href from the topmost window\n */\nexport const getTopWindowHref = () => {\n    // To get the top level href\n    return window.top?.location.href || window.location.href;\n};\n\n/**\n * Sets the href of the topmost window (useful when we're inside an iframe)\n *\n * @param href - The href value to be set\n */\nexport const setTopWindowHref = (href: string) => {\n    if (window.top) {\n        // To set the top level href (useful when component is rendered inside an iframe)\n        window.top.location.href = href;\n    } else {\n        window.location.href = href;\n    }\n};\n","import { FunctionalComponent } from 'preact';\nimport { useCallback, useMemo, useState } from 'preact/hooks';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport useTimezoneAwareDateFormatting from '../../../../../hooks/useTimezoneAwareDateFormatting';\nimport { DATE_FORMAT_CAPITAL_OVERVIEW } from '../../../../../constants';\nimport { GRANT_ACTION_CLASS_NAMES } from './constants';\nimport { GrantActionProps } from './types';\nimport './GrantAction.scss';\nimport Alert from '../../../../internal/Alert/Alert';\nimport { AlertTypeOption } from '../../../../internal/Alert/types';\nimport Button from '../../../../internal/Button';\nimport { useAuthContext } from '../../../../../core/Auth';\nimport { EMPTY_OBJECT } from '../../../../../utils';\nimport { useFetch } from '../../../../../hooks/useFetch';\nimport { useEffect } from 'preact/compat';\nimport { getTopWindowHref, setTopWindowHref } from './utils';\n\nexport const GrantAction: FunctionalComponent<GrantActionProps> = ({ action, className, offerExpiresAt }) => {\n    const { i18n, updateCore } = useCoreContext();\n    const { dateFormat } = useTimezoneAwareDateFormatting();\n    const { signToSActionDetails } = useAuthContext().endpoints;\n    const [shouldRedirectToToS, setShouldRedirectToToS] = useState(false);\n\n    const fetchCallback = useCallback(async () => {\n        if (action.type === 'signToS') {\n            return signToSActionDetails?.(EMPTY_OBJECT, {\n                query: {\n                    redirectUrl: getTopWindowHref(),\n                    locale: i18n.locale,\n                },\n            });\n        }\n    }, [action, i18n.locale, signToSActionDetails]);\n\n    const { data, isFetching, error } = useFetch({\n        fetchOptions: useMemo(() => ({ enabled: !!signToSActionDetails && shouldRedirectToToS }), [signToSActionDetails, shouldRedirectToToS]),\n        queryFn: fetchCallback,\n    });\n\n    useEffect(() => {\n        const url = data?.url;\n        if (url) {\n            setTopWindowHref(url);\n        }\n    }, [data, shouldRedirectToToS]);\n\n    return error ? (\n        <Alert\n            className={className}\n            type={AlertTypeOption.CRITICAL}\n            title={i18n.get('somethingWentWrongTryRefreshingOrComeBackLater')}\n            description={\n                <Button className={GRANT_ACTION_CLASS_NAMES.button} onClick={updateCore}>\n                    {i18n.get('refresh')}\n                </Button>\n            }\n        />\n    ) : (\n        <Alert\n            className={className}\n            type={AlertTypeOption.WARNING}\n            title={`${i18n.get('capital.signTermsAndConditionsToReceiveFunds')}${\n                offerExpiresAt\n                    ? ` ${i18n.get('capital.thisOfferExpiresOn', {\n                          values: {\n                              date: dateFormat(offerExpiresAt, DATE_FORMAT_CAPITAL_OVERVIEW),\n                          },\n                      })}`\n                    : ''\n            }`}\n            description={\n                <Button\n                    className={GRANT_ACTION_CLASS_NAMES.button}\n                    onClick={() => setShouldRedirectToToS(true)}\n                    disabled={isFetching}\n                    state={isFetching ? 'loading' : undefined}\n                >\n                    {i18n.get('capital.goToTermsAndConditions')}\n                </Button>\n            }\n        />\n    );\n};\n","import { FunctionalComponent } from 'preact';\nimport { useMemo } from 'preact/hooks';\nimport cx from 'classnames';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport useTimezoneAwareDateFormatting from '../../../../../hooks/useTimezoneAwareDateFormatting';\nimport Typography from '../../../../internal/Typography/Typography';\nimport { TypographyElement, TypographyVariant } from '../../../../internal/Typography/types';\nimport Card from '../../../../internal/Card/Card';\nimport { Tag } from '../../../../internal/Tag/Tag';\nimport ProgressBar from '../../../../internal/ProgressBar';\nimport { DATE_FORMAT_CAPITAL_OVERVIEW } from '../../../../../constants';\nimport { GRANT_ITEM_CLASS_NAMES } from './constants';\nimport { getGrantConfig } from './utils';\nimport { GrantItemProps } from './types';\nimport './GrantItem.scss';\nimport { GrantDetails } from '../GrantDetails/GrantDetails';\nimport { GrantAction } from '../GrantAction/GrantAction';\nimport CopyText from '../../../../internal/CopyText/CopyText';\nimport { Tooltip } from '../../../../internal/Tooltip/Tooltip';\nimport Alert from '../../../../internal/Alert/Alert';\nimport { AlertTypeOption } from '../../../../internal/Alert/types';\n\nexport const GrantItem: FunctionalComponent<GrantItemProps> = ({ grant }) => {\n    const { i18n } = useCoreContext();\n    const { dateFormat } = useTimezoneAwareDateFormatting();\n    const grantConfig = useMemo(() => getGrantConfig(grant), [grant]);\n\n    return (\n        <div className={GRANT_ITEM_CLASS_NAMES.base}>\n            <Card classNameModifiers={[GRANT_ITEM_CLASS_NAMES.overview]} filled={grantConfig.isBackgroundFilled} testId={'grant-container'}>\n                <div className={GRANT_ITEM_CLASS_NAMES.cardContent}>\n                    <div className={GRANT_ITEM_CLASS_NAMES.statusContainer}>\n                        <Typography\n                            variant={TypographyVariant.CAPTION}\n                            className={cx({ [GRANT_ITEM_CLASS_NAMES.textSecondary]: grantConfig.isLabelColorSecondary })}\n                            testId={'grant-amount-label'}\n                        >\n                            {i18n.get(grantConfig.amountLabelKey)}\n                        </Typography>\n                        <div>\n                            {grant.status === 'Active' ? (\n                                <>\n                                    <Typography variant={TypographyVariant.CAPTION} el={TypographyElement.SPAN}>\n                                        {i18n.get('capital.termEnds')}\n                                    </Typography>\n                                    <Typography variant={TypographyVariant.CAPTION} stronger el={TypographyElement.SPAN}>\n                                        {dateFormat(grantConfig.repaymentPeriodEndDate, DATE_FORMAT_CAPITAL_OVERVIEW)}\n                                    </Typography>\n                                </>\n                            ) : grantConfig.statusKey ? (\n                                grantConfig.statusTooltipKey ? (\n                                    <Tooltip content={i18n.get(grantConfig.statusTooltipKey)}>\n                                        <div>\n                                            <Tag label={i18n.get(grantConfig.statusKey)} variant={grantConfig.statusTagVariant} />\n                                        </div>\n                                    </Tooltip>\n                                ) : (\n                                    <Tag label={i18n.get(grantConfig.statusKey)} variant={grantConfig.statusTagVariant} />\n                                )\n                            ) : null}\n                        </div>\n                    </div>\n                    <Typography\n                        variant={TypographyVariant.TITLE}\n                        medium\n                        className={cx({\n                            [GRANT_ITEM_CLASS_NAMES.textSecondary]: grantConfig.isAmountColorSecondary,\n                        })}\n                    >\n                        {i18n.amount(grantConfig.amount.value, grantConfig.amount.currency)}\n                    </Typography>\n                    {grantConfig.isProgressBarVisible && (\n                        <ProgressBar\n                            className={GRANT_ITEM_CLASS_NAMES.progressBar}\n                            value={grant.repaidTotalAmount.value}\n                            max={grant.totalAmount.value}\n                            labels={{ current: i18n.get('capital.repaid'), max: i18n.get('capital.remaining') }}\n                            tooltips={{\n                                remaining: `${i18n.amount(grant.remainingTotalAmount.value, grant.remainingTotalAmount.currency)} ${i18n\n                                    .get('capital.remaining')\n                                    ?.toLowerCase()}`,\n                                progress: `${i18n.amount(grant.repaidTotalAmount.value, grant.repaidTotalAmount.currency)} ${i18n\n                                    .get('capital.repaid')\n                                    ?.toLowerCase()}`,\n                            }}\n                        />\n                    )}\n                    {grantConfig.isGrantIdVisible ? (\n                        <div className={GRANT_ITEM_CLASS_NAMES.grantID}>\n                            <CopyText textToCopy={grant.id} buttonLabel={i18n.get('capital.grantID')} isHovered type={'Text'} />\n                        </div>\n                    ) : null}\n                </div>\n            </Card>\n            {grantConfig.hasDetails && <GrantDetails grant={grant} />}\n            {grantConfig.hasAlerts && (\n                <>\n                    {grant.missingActions && grant.missingActions.length ? (\n                        grant.missingActions.map(action => (\n                            <GrantAction\n                                key={action.type}\n                                action={action}\n                                className={GRANT_ITEM_CLASS_NAMES.alert}\n                                offerExpiresAt={grant.offerExpiresAt}\n                            />\n                        ))\n                    ) : (\n                        <Alert\n                            className={GRANT_ITEM_CLASS_NAMES.alert}\n                            type={AlertTypeOption.HIGHLIGHT}\n                            title={i18n.get('capital.weReceivedYourRequestAndWeAreWorkingOnItNowCheckBackSoon')}\n                        />\n                    )}\n                </>\n            )}\n        </div>\n    );\n};\n","import { useCallback, useMemo, useRef, useState } from 'preact/hooks';\nimport './Tabs.scss';\nimport useCoreContext from '../../../core/Context/useCoreContext';\nimport { TabComponentProps, TabProps } from './types';\nimport Typography from '../Typography/Typography';\nimport { TypographyElement, TypographyVariant } from '../Typography/types';\nimport { InteractionKeyCode } from '../../types';\n\nfunction Tabs<T extends TabProps[]>(props: TabComponentProps<T>) {\n    const availableTabs = props.tabs;\n    const { i18n } = useCoreContext();\n    const defaultTab = !props.defaultActiveTab ? 0 : props.tabs.findIndex(tab => tab.id === props.defaultActiveTab);\n    const [selectedIndex, setSelectedIndex] = useState(defaultTab === -1 ? 0 : defaultTab);\n    const tabRefs = useRef<Record<number, HTMLButtonElement | null>>({});\n    const setIndex = useCallback((index: number) => {\n        const tab = tabRefs.current[index];\n        tab?.focus();\n    }, []);\n\n    const onKeyDown = useMemo(() => {\n        const count = availableTabs.length;\n        const keyMap: Record<KeyboardEvent['key'], () => void> = {\n            [InteractionKeyCode.ARROW_RIGHT]: () => setIndex((selectedIndex + 1) % count),\n            [InteractionKeyCode.ARROW_LEFT]: () => setIndex((selectedIndex - 1 + count) % count),\n            [InteractionKeyCode.HOME]: () => setIndex(0),\n            [InteractionKeyCode.END]: () => setIndex(count - 1),\n        };\n\n        return (event: KeyboardEvent) => {\n            if (keyMap[event.key]) {\n                event.preventDefault();\n                keyMap[event.key]?.();\n            }\n        };\n    }, [availableTabs.length, selectedIndex, setIndex]);\n\n    return (\n        <section aria-label={i18n.get('tabs')}>\n            <div className=\"adyen-fp-tabs\" role=\"tablist\" aria-orientation=\"horizontal\">\n                {availableTabs.map((tab, index) => (\n                    <button\n                        id={`tab-id-${tab.id}`}\n                        key={`tab-${tab.id}`}\n                        name={tab.id}\n                        className=\"adyen-fp-tabs__tab\"\n                        role=\"tab\"\n                        aria-controls={`panel-id-${tab.id}`}\n                        aria-selected={selectedIndex === index}\n                        ref={el => (tabRefs.current[index] = el)}\n                        onKeyDown={onKeyDown}\n                        onClick={index === selectedIndex ? undefined : () => setSelectedIndex(index)}\n                        onFocus={() => setSelectedIndex(index)}\n                        tabIndex={selectedIndex === index ? 0 : -1}\n                        disabled={tab.disabled}\n                    >\n                        <Typography\n                            variant={TypographyVariant.BODY}\n                            el={TypographyElement.SPAN}\n                            stronger\n                            className=\"adyen-fp-tabs__tab-content-tab-label\"\n                        >\n                            {i18n.get(tab.label)}\n                        </Typography>\n                    </button>\n                ))}\n            </div>\n            <div className=\"adyen-fp-tabpanel__wrapper\">\n                {availableTabs.map((tab, index) => (\n                    <section\n                        name={tab.id}\n                        className=\"adyen-fp-tabpanel__content\"\n                        id={`panel-id-${tab.id}`}\n                        key={`tabpanel-${tab.id}`}\n                        hidden={selectedIndex !== index}\n                        role=\"tabpanel\"\n                        aria-labelledby={`tab-id-${tab.id}`}\n                    >\n                        {tab.content}\n                    </section>\n                ))}\n            </div>\n        </section>\n    );\n}\nexport default Tabs;\n","import { IGrant } from '../../../../../types';\nimport { BaseList } from '../../../../internal/BaseList/BaseList';\nimport { GrantItem } from '../GrantItem/GrantItem';\nimport { FunctionalComponent } from 'preact';\nimport { GrantsProps } from './types';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport { useMemo } from 'preact/hooks';\nimport { CapitalHeader } from '../../../../internal/CapitalHeader';\nimport Button from '../../../../internal/Button/Button';\nimport { ButtonVariant } from '../../../../internal/Button/types';\nimport Tabs from '../../../../internal/Tabs/Tabs';\n\nconst List = ({ grants }: { grants: IGrant[] }) => {\n    return (\n        <BaseList classNames={'adyen-pe-grant-list__items'}>\n            {grants.map(grant => (\n                <li key={grant.id}>\n                    <GrantItem grant={grant} />\n                </li>\n            ))}\n        </BaseList>\n    );\n};\n\nexport const GrantsDisplay: FunctionalComponent<GrantsProps> = ({ grantList, hideTitle, newOfferAvailable, onNewOfferRequest }) => {\n    const { i18n } = useCoreContext();\n\n    const [activeGrants, inactiveGrants] = useMemo(() => {\n        const active: IGrant[] = [];\n        const inactive: IGrant[] = [];\n\n        grantList?.forEach(grant => {\n            if (grant.status === 'Active' || grant.status === 'Pending') {\n                active.push(grant);\n            } else {\n                inactive.push(grant);\n            }\n        });\n\n        return [active, inactive];\n    }, [grantList]);\n\n    const displayMode = useMemo<'SingleGrant' | 'Tabs'>(() => {\n        if (grantList.length > 1 && activeGrants.length && inactiveGrants.length) return 'Tabs';\n        return 'SingleGrant';\n    }, [activeGrants.length, grantList.length, inactiveGrants.length]);\n\n    const showNewOfferButton = useMemo(() => {\n        return newOfferAvailable && !activeGrants.some(grant => grant.status === 'Pending');\n    }, [activeGrants, newOfferAvailable]);\n\n    return (\n        <div className=\"adyen-pe-grant-list\">\n            <div className=\"adyen-pe-grant-list__header-container\">\n                <CapitalHeader hideTitle={hideTitle} titleKey={'capital.businessFinancing'} />\n                {showNewOfferButton ? (\n                    <Button onClick={onNewOfferRequest} className={'adyen-pe-grant-list__offer-button'} variant={ButtonVariant.SECONDARY}>\n                        {i18n.get('capital.seeNewOffer')}\n                    </Button>\n                ) : null}\n            </div>\n\n            {displayMode === 'SingleGrant' && <List grants={grantList} />}\n            {displayMode === 'Tabs' && (\n                <Tabs\n                    tabs={[\n                        {\n                            label: 'capital.inProgress',\n                            content: <List grants={activeGrants} />,\n                            id: 'active',\n                        },\n                        {\n                            label: 'capital.closed',\n                            content: <List grants={inactiveGrants} />,\n                            id: 'inactive',\n                        },\n                    ]}\n                    defaultActiveTab={'active'}\n                />\n            )}\n        </div>\n    );\n};\n","import { FunctionalComponent } from 'preact';\nimport { GrantListProps } from './types';\nimport './GrantList.scss';\nimport { useCallback, useState } from 'preact/hooks';\nimport { CapitalOffer } from '../../../CapitalOffer/components/CapitalOffer/CapitalOffer';\nimport { GrantsDisplay } from './GrantsDisplay';\nimport { IGrant } from '../../../../../types';\n\nexport const GrantList: FunctionalComponent<GrantListProps> = ({\n    externalDynamicOffersConfig,\n    grantList,\n    newOfferAvailable,\n    onFundsRequest,\n    onOfferDismiss,\n}) => {\n    const [capitalOfferSelection, setCapitalOfferSelection] = useState<boolean>(false);\n\n    const goBackToPreviousStep = useCallback(() => setCapitalOfferSelection(false), []);\n    const goToNextStep = useCallback(() => setCapitalOfferSelection(true), []);\n\n    const goBackToList = useCallback(() => {\n        onOfferDismiss ? onOfferDismiss(goBackToPreviousStep) : goBackToPreviousStep();\n    }, [goBackToPreviousStep, onOfferDismiss]);\n\n    const goBackToGrantListOnFundsRequest = useCallback(\n        (data: IGrant) => {\n            onFundsRequest(data);\n            setCapitalOfferSelection(false);\n        },\n        [onFundsRequest]\n    );\n\n    return (\n        <>\n            {capitalOfferSelection ? (\n                <CapitalOffer\n                    externalDynamicOffersConfig={externalDynamicOffersConfig}\n                    onFundsRequest={goBackToGrantListOnFundsRequest}\n                    onOfferDismiss={goBackToList}\n                />\n            ) : (\n                <GrantsDisplay grantList={grantList} newOfferAvailable={newOfferAvailable} onNewOfferRequest={goToNextStep} />\n            )}\n        </>\n    );\n};\n","import { useCallback, useMemo, useState } from 'preact/hooks';\nimport { ExternalUIComponentProps } from '../../../../types';\nimport { CapitalOverviewProps } from '../../types';\nimport { CAPITAL_OVERVIEW_CLASS_NAMES } from '../../constants';\nimport { FunctionalComponent } from 'preact';\nimport { useAuthContext } from '../../../../../core/Auth';\nimport { useFetch } from '../../../../../hooks/useFetch';\nimport { EMPTY_OBJECT } from '../../../../../utils';\nimport { CapitalHeader } from '../../../../internal/CapitalHeader';\nimport { IGrant } from '../../../../../types';\nimport './CapitalOverview.scss';\nimport Unqualified from '../Unqualified';\nimport { PreQualified } from '../PreQualified/PreQualified';\nimport { GrantList } from '../GrantList/GrantList';\nimport { ErrorMessageDisplay } from '../../../../internal/ErrorMessageDisplay/ErrorMessageDisplay';\nimport { getCapitalErrorMessage } from '../../../../utils/capital/getCapitalErrorMessage';\nimport AdyenPlatformExperienceError from '../../../../../core/Errors/AdyenPlatformExperienceError';\n\ntype CapitalOverviewState = 'Loading' | 'Error' | 'Unqualified' | 'PreQualified' | 'GrantList';\n\nexport const CapitalOverview: FunctionalComponent<ExternalUIComponentProps<CapitalOverviewProps>> = ({\n    hideTitle,\n    onContactSupport,\n    onFundsRequest,\n    onOfferDismiss,\n    onOfferOptionsRequest,\n    skipPreQualifiedIntro,\n}) => {\n    const { getGrants: grantsEndpointCall, getDynamicGrantOffersConfiguration: dynamicConfigurationEndpointCall } = useAuthContext().endpoints;\n\n    const grantsQuery = useFetch({\n        fetchOptions: { enabled: !!grantsEndpointCall },\n        queryFn: useCallback(async () => {\n            return grantsEndpointCall?.(EMPTY_OBJECT);\n        }, []),\n    });\n\n    const dynamicOfferQuery = useFetch({\n        fetchOptions: { enabled: !!dynamicConfigurationEndpointCall },\n        queryFn: useCallback(async () => {\n            return dynamicConfigurationEndpointCall?.(EMPTY_OBJECT);\n        }, []),\n    });\n\n    const dynamicOffer = dynamicOfferQuery.data;\n\n    const [requestedGrant, setRequestedGrant] = useState<IGrant>();\n    const grantList = useMemo(\n        () => (requestedGrant ? [requestedGrant, ...(grantsQuery.data?.data || [])] : grantsQuery.data?.data),\n        [grantsQuery.data?.data, requestedGrant]\n    );\n\n    const handleFundsRequest = useCallback(\n        (data: IGrant) => {\n            onFundsRequest ? onFundsRequest(data) : setRequestedGrant(data);\n        },\n        [onFundsRequest]\n    );\n\n    const showError = useMemo(() => {\n        if (dynamicOfferQuery.error && grantsQuery.error) return true;\n        if (dynamicOfferQuery.error && !grantList?.length) return true;\n        return false;\n    }, [dynamicOfferQuery.error, grantList?.length, grantsQuery.error]);\n\n    const state = useMemo<CapitalOverviewState>(() => {\n        if (showError) {\n            return 'Error';\n        } else if (\n            (!grantsEndpointCall && !dynamicConfigurationEndpointCall) ||\n            (!dynamicOffer && !grantList) ||\n            grantsQuery.isFetching ||\n            dynamicOfferQuery.isFetching\n        ) {\n            return 'Loading';\n        } else if (grantList?.length) {\n            return 'GrantList';\n        } else if (dynamicOffer?.maxAmount && dynamicOffer?.minAmount && !skipPreQualifiedIntro) {\n            return 'PreQualified';\n        }\n        return 'Unqualified';\n    }, [\n        dynamicConfigurationEndpointCall,\n        dynamicOffer,\n        dynamicOfferQuery.isFetching,\n        grantList,\n        grantsEndpointCall,\n        grantsQuery.isFetching,\n        showError,\n        skipPreQualifiedIntro,\n    ]);\n\n    const newOfferAvailable = useMemo(() => (!!dynamicOffer && dynamicOffer.minAmount && dynamicOffer.maxAmount ? true : false), [dynamicOffer]);\n\n    return (\n        <div className={CAPITAL_OVERVIEW_CLASS_NAMES.base}>\n            {(() => {\n                switch (state) {\n                    case 'Loading':\n                        return (\n                            <div className={CAPITAL_OVERVIEW_CLASS_NAMES.skeletonContainer}>\n                                <div className={CAPITAL_OVERVIEW_CLASS_NAMES.headerSkeleton}></div>\n                                <div className={CAPITAL_OVERVIEW_CLASS_NAMES.skeleton}></div>\n                            </div>\n                        );\n                    case 'Error':\n                        return (\n                            <div className={CAPITAL_OVERVIEW_CLASS_NAMES.errorContainer}>\n                                <CapitalHeader hideTitle={hideTitle} titleKey={'capital.businessFinancing'} />\n                                <ErrorMessageDisplay\n                                    absolutePosition={false}\n                                    outlined={false}\n                                    withImage\n                                    onContactSupport={onContactSupport}\n                                    {...getCapitalErrorMessage(dynamicOfferQuery.error as AdyenPlatformExperienceError, onContactSupport)}\n                                />\n                            </div>\n                        );\n                    case 'GrantList':\n                        return (\n                            grantList && (\n                                <GrantList\n                                    externalDynamicOffersConfig={dynamicOffer}\n                                    grantList={grantList}\n                                    hideTitle={hideTitle}\n                                    newOfferAvailable={newOfferAvailable}\n                                    onFundsRequest={handleFundsRequest}\n                                    onOfferDismiss={onOfferDismiss}\n                                />\n                            )\n                        );\n                    case 'PreQualified':\n                        return (\n                            <PreQualified\n                                onOfferDismiss={onOfferDismiss}\n                                onOfferOptionsRequest={onOfferOptionsRequest}\n                                skipPreQualifiedIntro={skipPreQualifiedIntro}\n                                hideTitle={hideTitle}\n                                dynamicOffer={dynamicOffer!}\n                                onFundsRequest={handleFundsRequest}\n                            />\n                        );\n                    case 'Unqualified':\n                        return <Unqualified hideTitle={hideTitle} />;\n                    default:\n                        return null;\n                }\n            })()}\n        </div>\n    );\n};\n","import { _UIComponentProps, ExternalComponentType } from '../../types';\nimport UIElement from '../UIElement/UIElement';\nimport { CapitalComponentState, CapitalOverviewProps } from './types';\nimport { CapitalOverview } from './components/CapitalOverview/CapitalOverview';\nimport { EMPTY_OBJECT, noop } from '../../../utils';\nimport sessionReady from '../../../core/Auth/session/utils/sessionReady';\n\nexport class CapitalOverviewElement extends UIElement<CapitalOverviewProps> {\n    public static type: ExternalComponentType = 'capitalOverview';\n\n    constructor(props: _UIComponentProps<CapitalOverviewProps>) {\n        super(props);\n\n        this.customClassNames = 'adyen-pe-capital-overview-component';\n        this.componentToRender = this.componentToRender.bind(this);\n    }\n\n    public componentToRender = () => {\n        return <CapitalOverview {...this.props} ref={(ref: UIElement<CapitalOverviewProps>) => void (this.componentRef = ref)} />;\n    };\n\n    public async getState(): Promise<CapitalComponentState> {\n        const { session } = this.props.core;\n        await sessionReady(session);\n\n        const { getDynamicGrantOffersConfiguration, getGrants } = session.context.endpoints;\n\n        const [config, grants] = await Promise.all([\n            getDynamicGrantOffersConfiguration?.(EMPTY_OBJECT).catch(noop as () => undefined),\n            getGrants?.(EMPTY_OBJECT).catch(noop as () => undefined),\n        ]);\n\n        const state = grants && grants.data?.length > 0 ? 'hasRequestedGrants' : config && config.minAmount ? 'isPreQualified' : 'isUnqualified';\n\n        return { state };\n    }\n}\n\nexport default CapitalOverviewElement;\n","import { Core, CoreOptions, TranslationSourceRecord } from './core';\nimport './components/shared.scss';\nimport './style/index.scss';\n\nexport * from './core';\nexport * from './components';\nexport * from './types';\n\nexport async function AdyenPlatformExperience<AvailableTranslations extends TranslationSourceRecord[] = [], CustomTranslations extends {} = {}>(\n    props: CoreOptions<AvailableTranslations, CustomTranslations>\n) {\n    const core = new Core(props);\n    return await core.initialize();\n}\n"],"names":["FALLBACK_ENV","normalizeLoadingContext","loadingContext","_a","normalizeUrl","url","resolveEnvironment","envs","env","fn","asyncNoop","identity","value","noop","_toString","toStringTag","isBoolean","isFunction","isNull","isNullish","isNumber","isPlainObject","isString","isSymbol","isUndefined","clamp","min","max","isBitSafeInteger","isInfinity","mid","low","high","mod","modulo","ABORT_EVENT","DEFAULT_ABORT_ERROR_MESSAGE","boolify","fallbackBoolean","boolOrFalse","boolOrTrue","falsify","_","truthify","enumerable","writable","getter","get","hasOwnProperty","sameValue","a","b","abortError","message","augmentSignalReason","signal","reason","abortedSignal","_controller","_reason","abortSignalForAny","signals","_sourceSignals","abort","setup","NIL_EXCEPTION","_exception","filter","maybeSignal","isAbortSignal","ex","EMPTY_ARRAY","EMPTY_OBJECT","ALREADY_RESOLVED_PROMISE","tryResolve","args","resolve","getMappedValue","key","map","factory","listFrom","fallbackList","stringedValue","stringedList","pickFrom","list","option","defaultOption","some","_uniqueFlatten","reversed","items","uniqueItems","item","parseDate","timestamp","uniqueId","counter","prefix","uniqueId$1","uuid","_UUID_V4_FILLER_STRING","xy","randomNibble","asPlainObject","fallback","structFrom","struct","withFreezeProxyHandlers","handler","capitalize","str","isEmptyString","SETUP_ENDPOINT_PATH","AUTO_REFRESH","MAX_AGE_MS","maxAgeMs","AdyenPlatformExperienceError","type","requestId","errorCode","__publicField","AdyenPlatformExperienceError$1","FILENAME_EXTRACTION_REGEX","ErrorTypes","getErrorType","getResponseContentType","response","getResponseDownloadFilename","filename","getRequestObject","options","headers","method","SDKVersion","handleFetchError","level","isAdyenErrorResponse","data","parseSearchParams","parameters","params","param","createAbortable","abortReason","_abortController","_abortSignal","_abortPromise","_abort","_getAbortPromise","reject","_refreshIfNecessary","abortable","createDeferred","_promise","_reject","_resolve","_refresh","previousResolve","currentPromise","deferred","createPromisor","_abortable","_deferred","isLatestPromise","AuthSetupContext","_session","promisorSignal","abortSignal","_refreshPromise","endpoints","availableEndpoints","sessionAwareEndpoints","target","endpoint","receiver","httpOptions","path","request","requestParams","pathParams","searchParams","pathParamKey","AuthSetupContext$1","ERR_SESSION_EXPIRED","ERR_SESSION_FACTORY_UNAVAILABLE","ERR_SESSION_HTTP_UNAVAILABLE","ERR_SESSION_INVALID","ERR_SESSION_REFRESH_ABORTED","EVT_SESSION_EXPIRED","EVT_SESSION_READY","EVT_SESSION_REFRESHED","EVT_SESSION_REFRESHING_END","EVT_SESSION_REFRESHING_START","INTERNAL_EVT_SESSION_DEADLINE","INTERNAL_EVT_SESSION_READY","INTERNAL_EVT_SESSION_REFRESHING_END","INTERNAL_EVT_SESSION_REFRESHING_START","_canAutofresh","refresher","specification","canAutofresh","_autoRefresh","createSessionAutofresher","_unlistenExpired","_autofresh","_autofreshSignal","_autofreshPromisor","skipCanAutofreshCheck","_destruct","DEFAULT_INTERVAL_MS","MAX_INTERVAL_MS","createInterval","callback","ms","runCallbackAsap","_intervalDelay","_shouldRunCallbackAsap","_startTime","_cancel","_frame","time","_scheduleFrame","delay","elapsed","roundedElapsed","createWatchListCurrentStateRecord","entries","statePropertyDescriptors","entriesPropertyDescriptors","createWatchListSubscriptionEventCallbacks","callbacks","descriptors","UNSUBSCRIBE_TOKEN","isWatchlistUnsubscribeToken","currentStateSnapshotOrUnsubscribeToken","createWatchlist","lastStateSnapshot","currentState","subscriptionEventCallbacks","subscriptionCallbacksWithReferenceCounting","unsubscribeCallbacks","_getCurrentStateSnapshot","_isWithoutSubscriptionCallbacks","_notifySubscriptions","unsubscribeToken","subscriptionCallbacks","referenceCount","unsubscribeCallback","currentStateSnapshot","subscribe","subscriptionCallback","unsubscribe","subscriptionCallbackReferenceCount","willResumeSubscriptions","clock","interval","cancelSubscriptions","requestNotification","on","clock$1","createEventEmitter","_eventTarget","_emitEvent","restArgs","detail","event","_onEvent","listener","_listener","evt","createSessionDeadline","emitter","_deadlineSignal","_deadlineTimestamp","_refreshPromisorSignal","_stopDeadlineClock","_deadlineAbortable","_deadlineEmitter","_clearDeadline","_refreshPromisor","session","deadline","_deadline","_deadlines","_deadlineElapsed","_signals","_startDeadlineClock","unsubscribeClock","snapshotOrSignal","createSessionRefresher","_refreshPending","_refreshingPromise","_refreshingSignal","_waitForRefreshingPromise","_sessionPlaceholder","_refresherEmitter","_assertSession","_assertSessionFactory","_refreshSession","nextSession","SessionContext","_specification","beforeHttp","API_VERSION","errorHandlerHelper","errorHandler","error","http","errorLevel","decodedValue","errorPassThrough","res","blob","AuthSessionSpecification","onSessionCreate","maybeSession","id","token","deadlines","issuedAt","expiresAt","issuedAtDate","sessionSignal","restOptions","sessionHttpOptions","_http","AuthSessionSpecification$1","_NO_ERR","_assertError","createErrorContainer","_error","_resetError","_setError","AuthSession","skipSessionRefreshIfPossible","authStateChanged","isLatestRefresh","onlySetupRefresh","unlisteners","unlisten","_en_US","EN_US","_getTranslations","translationsPromise","translations","da_DK","de_DE","es_ES","fi_FI","fr_FR","it_IT","nl_NL","no_NO","pt_BR","sv_SE","en_US","all_locales","FALLBACK_LOCALE","DEFAULT_TRANSLATIONS","DEFAULT_DATETIME_FORMAT","EXCLUDE_PROPS","getLocalesFromTranslationSourcesRecord","sources","locale","SUPPORTED_LOCALES","CURRENCY_CODES","CURRENCY_CODES$1","CURRENCY_DECIMALS","CURRENCY_DECIMALS$1","getDivider","currencyCode","isValidCurrencyCode","getCurrencyCode","getDecimalAmount","amount","divider","getLocalisedAmount","hideCurrency","stringAmount","decimalAmount","formatterLocale","formatterOptions","formatAmountWithoutCurrency","p","s","REGEX_TZ_OFFSET","BASE_FORMAT_OPTIONS","BASE_LOCALE","SYSTEM_TIMEZONE","SYSTEM_TIMEZONE_FORMATTER","DIGITS_2","NUMERIC","REGEX_GMT_OFFSET_UNWANTED_SUBSTRINGS","REGEX_TZ_SINGLE_DIGIT_OFFSET","computeTimezoneOffsetInMinutes","offsetHours","offsetMinutes","computeTimezoneOffsetsFromMinutes","timezoneOffsetInMinutes","parseTimezoneOffset","offset","getGMTSuffixForTimezoneOffset","timezoneOffset","getTimezoneOffsetFromFormattedDateString","date","offsets","getTimezoneOffsetForTimestamp","timezoneFormatter","systemOffset","restamp","restamper","direction","systemToTimezone","timezoneToSystem","getTimeZone","setTimeZone","timeZone","nextFormatter","nextTimeZone","formatter","context","set","tz","$restamper","DEFAULT_TRANSLATION_OPTIONS","LOCALE_FORMAT_REGEX","toTwoLetterCode","matchLocale","supportedLocales","twoLetterCode","supportedLocale","formatLocale","localeString","languageCode","countryCode","fullLocale","parseLocale","trimmedLocale","formattedLocale","formatCustomTranslations","customTranslations","replaceTranslationValues","translation","values","k","getTranslation","count","countKey","pluralKey","loadTranslations","localeToLoad","loadedLocale","createTranslationsLoader","_locale","_preferredLocale","_supportedLocales","getLocalizationProxyDescriptors","prop","descriptor","Localization","availableTranslations","__privateAdd","_refreshTranslations","_languageCode","__privateGet","_availableLocales","_customTranslations","_translations","_translationsLoader","_ready","_currentRefresh","_markRefreshAsDone","_refreshWatchlist","_restamp","records","curr","__privateSet","localesFromCustomTranslations","index","locales","__privateMethod","refreshTranslations_fn","timezone","restOfOptions","localisedAmount","dateOptions","currentRefreshDone","currentRefresh","Core","component","c","_b","Core$1","n","l","u","t","i","o","r","f","e","h","v","y","d","w","g","x","C","S","M","O","j","P","$","N","I","L","V","H","T","A","F","m","q","z","B","E","G","D","DEFAULT_TYPOGRAPHY_CLASSNAME","TypographyVariant","TypographyModifier","TypographyElement","R","U","W","Z","Y","J","K","Q","nn","tn","en","rn","Typography","el","className","stronger","strongest","variant","medium","large","testId","wide","children","Tag","conditionalClasses","useMemo","jsx","cx","memo","CoreContext","createContext","useCoreContext","useContext","useCoreContext$1","noResults","fixedForwardRef","render","forwardRef","memoComparator","_comparedProps","_propHasChanged","prev","next","getters","EXCESS_WHITESPACE_CHAR","parseClassName","fallbackClassName","getClassName","requiredClassName","classnames","getModifierClasses","modifiers","baseClasses","parseBooleanProp","useButton","classNameModifiers","defaultClassName","disabled","onClick","click","useCallback","useButton$1","DEFAULT_BUTTON_CLASSNAME","BUTTON_ACTION_CLASSNAME","ICON_BUTTON_CLASSNAME","ICON_BUTTON_CONTENT_CLASSNAME","BUTTON_ACTION_CONTAINER_CLASSNAME","BUTTON_LABEL_CLASSNAME","BUTTON_ICON_RIGHT_CLASSNAME","BUTTON_ICON_LEFT_CLASSNAME","BUTTON_CONDENSED_CLASSNAME","BUTTON_FULL_WIDTH_CLASSNAME","BUTTON_LOADING_CLASSNAME","ButtonVariant","Spinner","inline","size","Spinner$1","isHTMLAnchorElementRef","ref","isHTMLButtonElementRef","Button","iconLeft","iconRight","iconButton","fullWidth","condensed","href","state","restAttributes","classNameValue","disabledValue","classes","allProps","allChildren","jsxs","Fragment","Button$1","IMAGE_BREAKPOINT_SIZES","ErrorMessageDisplay","title","imageDesktop","imageMobile","withImage","centered","refreshComponent","onContactSupport","translationValues","absolutePosition","outlined","renderSecondaryButton","i18n","updateCore","renderMessage","errorMessage","getComponentAvailabilityFromEndpoint","componentAvailabilityRegistry","componentAvailabilityRegistry$1","sessionReady","ready","refreshInProgress","didTriggerRefresh","canRefreshSession","sessionUnsubscribe","maybeUnsubscribeToken","sessionReady$1","sessionAwareComponentAvailability","sessionAwareComponentAvailability$1","componentAvailabilityErrors","componentAvailabilityErrors$1","AuthContext","AuthProvider","refresh","setContextCounter","useState","unsubscribeCounter","setUnsubscribeCounter","hasPermission","setHasPermission","useEffect","maybeContext","toChildArray","useAuthContext","useBooleanState","initialState","setState","updateState","toggleState","useBooleanState$1","CoreProvider","_commonProps","_loadingContext","externalErrorHandler","setReady","commonProps","CoreProvider$1","BaseElement","props","newState","domNode","node","newComponent","BaseElement$1","UIElement","status","core","UIElement$1","useFetch","keepPrevData","onSuccess","enabled","queryFn","cancelRequest","useRef","fetchReducer","action","dispatch","useReducer","fetchData","ChevronDown","ChevronDown$1","ChevronUp","ChevronUp$1","ACCORDION_BASE_CLASS","ACCORDION_HEADER_CLASS","ACCORDION_HEADER_CONTAINER_CLASS","ACCORDION_HEADER_CONTROLLER_CLASS","ACCORDION_CONTENT_CLASS","Accordion","classNames","header","headerInformation","isExpanded","setIsExpanded","accordionContentRef","toggle","CARD_BASE_CLASS","CARD_BODY","CARD_HEADER","CARD_TITLE","CARD_SUBTITLE","CARD_HEADER_CONTENT","CARD_BODY_WITH_TITLE","CARD_NO_OUTLINE","CARD_NO_PADDING","CARD_FILLED","CARD_FOOTER","Card","subTitle","footer","renderHeader","renderFooter","filled","noOutline","noPadding","Card$1","LONG","SHORT","SHORT_OFFSET","BASE_DATE_FORMAT","BASE_TIME_FORMAT","BASE_DATE_TIME_FORMAT","BASE_DATE_TIME_MOBILE_FORMAT","DATE_FORMAT_CAPITAL_OVERVIEW","DATE_FORMAT_PAYOUTS","DATE_FORMAT_PAYOUTS_MOBILE","DATE_FORMAT_PAYOUT_DETAILS","DATE_FORMAT_REPORTS","DATE_FORMAT_TRANSACTIONS","DATE_FORMAT_TRANSACTIONS_MOBILE","DATE_FORMAT_TRANSACTION_DETAILS","BREAKPOINTS","SL_BASE_CLASS","SL_ITEM_CLASS","SL_GRID_CLASS","SL_CONTENT_CLASS","SL_LABEL_CLASS","SL_ITEM_WITH_HIGHLIGHT_CLASS","useStructuredListItems","DEFAULT_LAYOUT","StructuredList","highlightable","renderValue","renderLabel","layout","grid","LABEL_COL_CLASS","VALUE_COL_CLASS","formattedItems","BASE_CLASS","SKELETON_CLASS","SKELETON_CONTAINER","SKELETON_LOADING","STATUS_SKELETON","DataOverviewDetailsSkeleton","skeletonRowNumber","skeletonRows","statusSkeletonRows","_useAtomicTimezoneOperation","operation","timezoneToRestore","_useActiveTimezone","getActiveTimezone","useTimezoneAwareDateFormatting","activeTimezone","dateFormat","fullDateFormat","useTimezoneAwareDateFormatting$1","PD_BASE_CLASS","PD_TITLE_CLASS","PD_TITLE_BA_CLASS","PD_CONTENT_CLASS","PD_SECTION_CLASS","PD_CARD_CLASS","PD_CARD_TITLE_CLASS","PD_SECTION_AMOUNT_CLASS","PD_SECTION_GROSS_AMOUNT_CLASS","PD_SECTION_NET_AMOUNT_CLASS","PD_UNPAID_AMOUNT","PayoutData","balanceAccountId","balanceAccountDescription","payoutData","isFetching","payout","adjustments","accumulator","currentValue","payoutValue","_c","_d","_e","translationKey","categoryTranslation","categoryLabel","_f","_g","fundsCaptured","breakdown","creationDate","icons","Icon","name","IconComponent","setIconComponent","LoadedIcon","Icon$3","AlertTypeOption","AlertVariantOption","AlertIcon","Alert","description","onClose","Alert$1","ButtonActionsLayoutBasic","ButtonActionsLayoutExtended","ButtonActionsLayout","ButtonActions","actions","generateButtonVariantByIndex","actionIndex","lastActionIndex","reversedActions","button","ActiveView","ActiveView2","RefundedState","RefundedState2","RefundMode","RefundStatus","RefundType","TransactionDetailsContext","TransactionDetailsProvider","lineItems","primaryActionAvailable","refundDisabled","setActiveView","setPrimaryAction","setSecondaryAction","transaction","transactionNavigator","extraFields","currentTransaction","canNavigateBackward","canNavigateForward","backward","forward","primaryActionLabel","primaryActionDisabled","primaryAction","_secondaryAction","secondaryAction","secondaryActionLabel","useTransactionDetailsContext","REFUND_REASONS","useRefundAction","refundReason","refundInProgress","refundTransaction","transactionId","refundAmountLabel","formattedAmount","refundPaymentLabel","refundingPaymentLabel","refundParams","refundPayload","refundAction","refundActionLabel","useRefundContextActions","interactionsDisabled","refundAmount","refundActionProps","secondaryActionDisabled","useRefundContextAmount","availableAmount","currency","refundMode","setRefundAmount","_amount","canSetRefundAmount","setAmount","_updateRefundItemQuantity","refundableItems","nextRefundItems","refundItem","refundQuantity","refundableItem","quantity","updateRefundItems","currentRefundItems","refundItemUpdates","refundQuantities","useRefundContextLineItems","setItems","qty","availableItems","clearItems","ids","itemUpdates","updateItems","useRefundContextReason","setReason","canSetRefundReason","setRefundReason","catchCallback","useMutation","retry","retryDelay","onError","onSettled","shouldRetry","setData","setError","setStatus","mountedRef","retryCountRef","reset","resetRetries","mutate","variables","result","maxRetries","TransactionRefundContext","TransactionRefundProvider","refreshTransaction","useTransactionRefundContext","createDuplexTransactionNavigator","currentTransactionId","previousTransactionId","fromTransactionId","toTransactionId","onNavigation","triggerNavigationCallback","_fromTransactionId","_toTransactionId","cachedCurrentTransactionId","setNavigationCallback","from","to","createDuplexTransactionNavigator$1","useTransaction","initialTransaction","setTransaction","fetchTransactionId","setFetchTransactionId","lastFetchTimestamp","setLastFetchTimestamp","getTransaction","_transactionNavigator","navigationAction","cachedIsFetching","cachedInitialTransaction","lastFetchTransactionId","fetchEnabled","fetchingTransaction","navigator","useTransaction$1","checkRefundStatusCollection","predicate","refundStatusCollection","every","passesCheck","allStatuses","useTransactionRefundMetadata","details","refundLocked","refundable","originalAmount","refundableAmount","refundAuthorization","refundAvailable","refundCurrency","statuses","statusDetails","currentStatus","firstStatus","secondStatus","currentStatusValue","refundedAmount","totalCompleted","sum","someRefunded","allRefunded","refundStatuses","currentIndex","amountsLength","totalAmount","refundableAmountLabel","refundedState","useTransactionRefundMetadata$1","useMediaQuery","query","matches","setMatches","handleChange","mediaQueries","useResponsiveViewport","DEFAULT_POPOVER_CLASSNAME","DEFAULT_TOOLTIP_CLASSNAME","POPOVER_CONTAINER_CLASSNAME","POPOVER_HEADER_CLASSNAME","POPOVER_HEADER_TITLE_CLASSNAME","POPOVER_CONTENT_CLASSNAME","TOOLTIP_CONTENT_CLASSNAME","POPOVER_FOOTER_CLASSNAME","PopoverDismissButton","image","PopoverTitle","isImageTitle","PopoverContainerVariant","PopoverContainerPosition","PopoverContainerSize","InteractionKeyCode","FilterParam","popoverUtil","popoverRefs","closePopoversOutsideOfClick","eventPath","pathMatchIndex","popoverRef","popoverRefId","pathId","closeNestedPopovers","remove","currentRef","refs","add","fromIndex","popoverLength","REF","ReflexError","UnknownRefError","MissingReflexActionError","assertReflexAction","isReflex","notDefined","unwrap","reflexable","isRefObject","createReflexRegister","_getRecordForRef","register","record","_bindReflexAction","_ref","isCallbackRef","_updateCurrentInstance","instance","_current","reflex","previous","_unbindReflexAction","bindings","_register","$globalReflexRegister","createIsolatedFauxReflex","$actions","createReflexContainer","_reflex","_reflexable","_reflexAction","_released","_refreshContainer","_releaseContainer","currentReflexable","useReflex","container","useLayoutEffect","useReflex$1","CONTROL_ELEMENT_PROPERTY","ClickOutsideVariant","onFocusoutCapture","useClickOutside","rootElementRef","disableClickOutside","handleClickOutside","eventPathIndex","samePath","currentElement","clickOutsideHandlerRef","current","SELECTORS","ATTRIBUTES","CHECKED_RADIOS","isInput","element","isRadio","isCheckedRadio","form","checkedRadiosForForm","checkedRadio","shouldRefresh","tabbables","isTabbable","focusIsWithin","rootElement","elementWithFocus","parentElement","isFocusable","withTabbableRoot","observer","getTabbables","root","focusAt","tabbableIndex","constrainedIndex","maybeTabbable","tabbableRoot","maybeTabbableOrOffset","maybeElement","withTabbableRoot$1","useFocusTrap","onEscape","escapedFocus","focusElement","interactionKeyPressed","onClickCapture","lastFocusableElement","raf","onFocusInCapture","onFocusOutCapture","onKeyDownCapture","useFocusTrap$1","getIntersectionObserver","observerCallbackMap","withIntersectionObserver","findObserver","callbackFn","observerInstance","entry","currentObserver","getIntersectionObserver$1","calculateOffset","popover","targetElement","position","currentTarget","dimensionX","dimensionY","targetPosition","bodyPosition","popoverContent","toCenterFullWidth","toCenterX","toCenterY","acc","currentVal","usePopoverPositioner","arrowRef","setToTargetWidth","showOverlay","fitPosition","initialPosition","setInitialPosition","showPopover","setShowPopover","currentPosition","setCurrentPosition","checkedPositions","setCheckedPosition","observerCallback","bestPos","pos","observerCallbackRef","popoverStyle","style","styleWithWidth","usePopoverPositioner$1","useUniqueIdentifier","useUniqueIdentifier$1","findFirstFocusableElement","focusable","elements","elem","getGapByVariant","Popover","disableFocusTrap","actionsLayout","open","dismissible","fitContent","withoutSpace","containerSize","dismiss","withContentPadding","uncontrolledProps","isDismissible","popoverOpen","onCloseFocusTrap","onKeyDown","cachedOnKeyDown","autoFocusAnimFrame","popoverPositionAnchorElement","popoverFocusTrapElement","popoverElement","popoverElementWithId","classNamesByVariant","classNamesContentByVariant","createPortal","useTooltipListeners","isVisible","setIsVisible","showTooltip","hideTooltip","content","Tooltip","triggerRef","isContainerHovered","controllerRef","isMdViewport","listeners","cloneElement","Category","tooltipKey","UNDEFINED_ERROR","getCommonErrorMessage","CopyText","textToCopy","isHovered","buttonLabel","showCopyTextTooltip","tooltipLabel","setTooltipLabel","resetTooltipLabel","CopyText$1","getErrorMessage","commonError","secondaryErrorMessage","DataOverviewError","ContactSupport","DataOverviewError$1","DataGridContext","useDataGridContext","CellTextPosition","DataGridCell","column","registerCells","isValidElement","alt","Icon$1","_isCustomDataObject","TableCells","columns","customCells","rowIndex","icon","TableBody","onRowHover","useInteractiveDataGrid","totalRows","total","nextIndex","INITIAL_STATE","optionIndex","onFocusCapture","InteractiveBody","onRowClick","onClickCallBack","SkeletonBody","columnsNumber","loading","emptyMessageDisplay","rows","SkeletonBody$1","emptyTableIcon","DataGridProvider","minWidthByColumn","width","existingWidth","getMinWidthByColumn","TableHeaderCell","cellKey","label","DataGrid","errorDisplay","DataGridTable","child","DataGridFooter","emptyBody","showMessage","visibleCols","cellWidths","col","DataGridBody","showSkeleton","ARIA_ERROR_SUFFIX","CommitAction","useCommitAction","applyDisabled","applyTitle","resetDisabled","resetTitle","commitAction","setCommitAction","committing","setCommitting","applyAction","resetAction","resetCommitAction","applyButtonAction","resetButtonAction","commitActionButtons","useCommitAction$1","Img","backgroundUrl","src","showOnError","loaded","setLoaded","imageRef","handleLoad","handleError","modifier","DROPDOWN_BASE_CLASS","DROPDOWN_BUTTON_CLASSNAME","DROPDOWN_BUTTON_CLASS","DROPDOWN_BUTTON_ACTIVE_CLASS","DROPDOWN_BUTTON_COLLAPSE_INDICATOR_CLASS","DROPDOWN_BUTTON_HAS_SELECTION_CLASS","DROPDOWN_BUTTON_ICON_CLASS","DROPDOWN_BUTTON_MULTI_SELECT_COUNTER_CLASS","DROPDOWN_BUTTON_READONLY_CLASS","DROPDOWN_BUTTON_TEXT_CLASS","DROPDOWN_BUTTON_VALID_CLASS","DROPDOWN_BUTTON_INVALID_CLASS","DROPDOWN_ELEMENT_CLASS","DROPDOWN_ELEMENT_ACTIVE_CLASS","DROPDOWN_ELEMENT_CHECKBOX_CLASS","DROPDOWN_ELEMENT_CHECKMARK_CLASS","DROPDOWN_ELEMENT_CONTENT_CLASS","DROPDOWN_ELEMENT_DISABLED_CLASS","DROPDOWN_ELEMENT_ICON_CLASS","DROPDOWN_ELEMENT_NO_OPTION_CLASS","DROPDOWN_LIST_CLASS","DROPDOWN_LIST_ACTIVE_CLASS","DROPDOWN_MULTI_SELECT_CLASS","SelectButtonElement","active","filterable","toggleButtonRef","baseClassName","SelectButton","multiSelect","placeholder","readonly","showList","withoutCollapseIndicator","placeholderText","buttonActiveItem","buttonTitleText","SelectButton$1","CheckedBox","CheckedBox$1","UncheckedBox","UncheckedBox$1","Checkmark","Checkmark$1","renderDefaultMultiSelectionCheckedness","renderDefaultSingleSelectionCheckedness","renderListItemDefault","SelectListItem","onSelect","renderListItem","selected","dataDisabled","itemClassName","SelectList","commitActions","selectListId","textFilter","dismissPopover","popoverClassNameModifiers","isSmViewport","filteredItems","listClassName","noOptionsClassName","renderSelectOption","multipleSelection","useSelect","getSelectedItems","selectedItems","_selected","_selectedItems","selection","setSelection","resetSelection","nextSelection","select","currentSelection","useSelect$1","Select","onChange","isInvalid","isValid","isCollatingErrors","setShowList","setTextFilter","filterInputRef","selectListRef","appliedFilterNumber","setAppliedFilterNumber","pendingClickOutsideTriggeredHideList","clearSelectionInProgress","cachedSelectedItems","dropdownClassName","closeList","commitSelection","handleSelect","handleButtonKeyDown","focus","firstAvailableItem","handleListKeyDown","handleTextFilter","toggleList","Select$1","ChevronLeft","ChevronLeft$1","ChevronRight","ChevronRight$1","Pagination","hasNext","hasPrev","page","limit","limitOptions","onLimitSelection","_limitOptions","_onLimitChanged","AMOUNT_CLASS","PAYMENT_METHOD_CLASS","PAYMENT_METHOD_LOGO_CONTAINER_CLASS","PAYMENT_METHOD_LOGO_CLASS","DATE_AND_PAYMENT_METHOD_CLASS","DATE_METHOD_CLASS","FALLBACK_CDN_CONTEXT","returnImage","resourceContext","imageFolder","parentFolder","extension","subFolder","useImageUrl","Image","folder","imageUrl","TagVariant","PAYMENT_METHODS","parsePaymentMethodType","paymentMethod","format","PaymentMethodCell","bankAccount","PaymentMethodCell$1","labels","getLabel","removeUndefinedProperties","obj","_isStringArray","useTableColumns","fields","customColumns","columnConfig","tableColumns","field","flex","config","TRANSACTION_FIELDS","TransactionsTable","activeBalanceAccount","availableCurrencies","hasMultipleCurrencies","showDetails","showPagination","transactions","paginationProps","hoveredRow","setHoveredRow","isSmAndUpViewport","isMdAndUpViewport","isXsAndDownViewport","amountLabel","EMPTY_TABLE_MESSAGE","onHover","TX_DATA_CLASS","TX_DATA_AMOUNT","TX_DATA_ACTION_BAR","TX_DATA_CONTAINER","TX_DATA_HEAD_CONTAINER","TX_DATA_INPUT","TX_DATA_INPUT_CONTAINER","TX_DATA_INPUT_CONTAINER_SHORT","TX_DATA_INPUT_CONTAINER_TEXT","TX_DATA_INPUT_CONTAINER_WITH_ERROR","TX_DATA_INPUT_HEAD","TX_DATA_LABEL","TX_DATA_LIST","TX_DATA_PAY_METHOD","TX_DATA_PAY_METHOD_DETAIL","TX_DATA_PAY_METHOD_LOGO","TX_DATA_PAY_METHOD_LOGO_CONTAINER","TX_DATA_TAGS","TX_STATUS_BOX","TX_REFUND_RESPONSE","TX_REFUND_RESPONSE_ICON","TX_REFUND_RESPONSE_SUCCESS_ICON","TX_REFUND_RESPONSE_ERROR_ICON","TX_REFUND_STATUSES_CONTAINER","TX_DETAILS_RESERVED_FIELDS_SET","TransactionDataProperties","balanceAccount","category","paymentPspReference","refundMetadata","isRefundTransaction","SKIP_ITEM","getFormattedAmount","deductedAmount","deductedAmountKey","originalAmountKey","paymentReferenceKey","listItems","TransactionDataProperties$1","TransactionDetailsDataContainer","TransactionDetailsDataContainer$1","getAmountStyleForTransaction","getPaymentMethodTypeForTransaction","getDisplayablePaymentMethodForTransaction","getRefundTypeForTransaction","refundType","TransactionStatusBox","createdAt","paymentMethodType","CloseCircle","CloseCircle$1","InputBase","onInput","onKeyUp","trimOnBlur","onBlurHandler","onBlur","onFocusHandler","autoCorrect","spellCheck","handleInput","handleKeyUp","handleBlur","handleFocus","inputClassNames","cnm","uid","iiv","iv","ce","newProps","formatAmount","getCurrencyExponent","_BaseRefundAmountInput","errorMessageArg","inputIdentifier","labelIdentifier","TransactionRefundFullAmountInput","TransactionRefundPartialAmountInput","setErrorMessage","computeRefundAmount","exponent","decimalSeparator","parts","integerPart","decimalPart","TransactionRefundNotice","TransactionRefundNotice$1","TransactionRefundReason","refundReasons","onReasonChanged","TransactionRefundReason$1","_TransactionDataContentViewWrapper","renderViewActionButtons","renderViewMessageBox","_RefundResponseViewWrapper","renderIcon","subtitle","TransactionDataContent","activeView","_setActiveView","_setPrimaryAction","_setSecondaryAction","locked","setLocked","refundDisabledMetaData","shouldPreventActiveViewIfRefund","balanceAccountEndpointCall","balanceAccounts","onRefundSuccess","renderMessages","balanceAccountData","account","commonContextProviderProps","TransactionDataContent$1","TransactionData","useBalanceAccounts","isBalanceAccountIdWrong","useBalanceAccounts$1","ModalContext","useModalContext","Modal","isOpen","headerWithBorder","handleEscKey","TITLES_BY_TYPE","useDataOverviewDetailsTitle","_hideTitle","withinModal","forcedHideTitle","setForcedHideTitle","hideTitle","useDataOverviewDetailsTitle$1","ENDPOINTS_BY_TYPE","isDetailsWithId","DataOverviewDetails","dataId","getDetail","queryParam","hasBalanceAccountDetail","errorProps","extraDetails","detailsData","PayoutElement","PayoutElement$1","WITH_ERROR_CLASS","DataOverviewContainer","balanceAccountsError","hasError","BASE_CLASS_DETAILS","EARLIEST_PAYOUT_SINCE_DATE","NET_PAYOUT_CLASS","AMOUNT_FIELDS","FIELDS","_isAmountFieldKey","PayoutsTable","refreshing","isLoading","getAmountFieldConfig","MOBILE_SWITCH_CLASS","useFilterBarState","isMobileViewport","showingFilters","setShowingFilters","FilterBarMobileSwitch","FilterBar","FilterBar$1","BA_SELECTOR_CLASS","BA_SELECTOR_ACCOUNT_ID_CLASS","BA_SELECTOR_ACCOUNT_LABEL_CLASS","BalanceAccountSelector","balanceAccountSelectionOptions","onBalanceAccountSelection","BalanceAccountSelector$1","LIMIT_OPTIONS","MAX_PAGE_LIMIT","DEFAULT_PAGE_LIMIT","getClampedPageLimit","pageLimit","getNearestFromSortedUniqueNums","nums","lastindex","lo","hi","usePageLimit","preferredLimit","preferredLimitOptions","cachedLimitOptions","cachedLimit","uniqueOptions","parsing","usePageLimit$1","useMounted","beforeUnmount","$mounted","unmount","useMounted$1","usePagination","paginationSetupConfig","requestPageCallback","$controller","$maxVisitedPage","$maxVisitedPageSize","$page","setCurrentPage","paginationChanged","updatePaginationChanged","getPageCount","getPageParams","resetPageCount","updatePagination","goto","PAGES","requestedPage","paginationData","pages","pageSize","resetPagination","usePagination$1","hasNextPage","hasPrevPage","useCursorPagination","cursors","updateCursor","cursor","currentCursor","useCursorPagination$1","useOffsetPagination","currentPage","useOffsetPagination$1","useReactiveState","initialStateSameAsDefault","$hasDefaultState","$defaultState","$stateParams","$changedParams","resetState","requestStateUpdate","stateUpdateRequest","stateUpdate","stateUpdateFlags","defaultValue","updateValue","flagIndex","updateFlag","STATE","flag","canResetState","useReactiveState$1","usePaginatedRecordsFilters","filterParams","initialFiltersSameAsDefault","canResetFilters","defaultFilters","resetFilters","filters","updateFilters","usePaginatedRecordsFilters$1","PageNeighbour","PaginationType","offsetPaginatedResponseFields","isCursorPaginatedResponseData","dataProperties","parseCursorPaginatedResponseData","dataField","parseOffsetPaginatedResponseData","hasPrevious","usePaginatedRecords","fetchRecords","initialize","onFiltersChanged","pagination","setRecords","fetching","updateFetching","preferredPageLimit","setPreferredPageLimit","$initialFetchInProgress","$lastRequestedPage","$recordsFilters","filtersProps","parsePaginatedResponseData","updateLimit","pageRequestParams","err","usePaginatedRecords$1","useCursorPaginatedRecords","initOptions","useCursorPaginatedRecords$1","useBalanceAccountSelection","selectedBalanceAccountIndex","setSelectedBalanceAccountIndex","resetBalanceAccountSelection","useBalanceAccountSelection$1","getTimezoneTime","getUsedTimezone","REGEX_CLOCK_TIME_MATCHER","formatted","meridian","clockTime","GMTOffsetString","useTimezone","withClock","shouldWatchClock","unwatchClock","setTimestamp","GMTOffset","snapshot","useTimezone$1","createRangeTimestampsConfigRestampingContext","getRangeTimestampsContextIntegerPropertyFactory","minInteger","maxInteger","defaultInteger","_getNormalizedValue","fallbackValue","normalizedValue","clampedValue","initialValue","valueGetter","getRangeTimestampsConfigParameterUnwrapper","isRangeTimestampsConfigWithoutOffsets","isRangeTimestampsConfigWithFromOffsets","nowTimestamp","now","offsetsForNDays","_cache","numberOfDays","parseRangeTimestamp","normalizedTimestamp","parsedTimestamp","createRangeTimestampsFactory","additionalContext","_config","_additionalContext","_restamper","nowDescriptor","NOW","tzDescriptor","configContext","nowSetter","withRangeFrom","years","months","days","hours","minutes","seconds","tzSetter","currentTimezone","createRangeTimestampsFactory$1","DATE_PARTS_REGEX","_startTimestamp","adjustDate","withTimezone","restampedDate","startOfDay","startOfMonth","startOfYear","startOfWeek","firstWeekDay","dateOffset","getWeekDayIndex","isLeapYear","year","getMonthDays","month","nextMonth","monthIndex","nextYear","weekDay","computeTimestampOffset","getDateObjectFromTimestamp","getTimezoneDateString","getTimezoneDateParts","dateString","day","getEdgesDistance","fromTime","toTime","fromYear","fromMonth","toYear","toMonth","DEFAULT_FIRST_WEEK_DAY","ONE_WEEK_OFFSETS","_getFirstWeekDayContext","offsetWeek","weekCount","weeks","restConfig","firstWeekDayContext","offsetWeek$1","ONE_MONTH_OFFSETS","offsetMonth","monthCount","offsetMonth$1","lastMonth","lastMonth$1","MAX_NUM_DAYS","MIN_NUM_DAYS","DEFAULT_NUM_DAYS","_getNumberOfDaysContext","lastNDays","numberOfDaysContext","lastNDays$1","lastWeek","lastWeek$1","thisMonth","thisMonth$1","thisWeek","thisWeek$1","yearToDate","yearToDate$1","getTimeRangeSelectionDefaultPresetOptions","RangePreset.lastNDays","RangePreset.thisWeek","RangePreset.lastWeek","RangePreset.thisMonth","RangePreset.lastMonth","RangePreset.yearToDate","useTimeRangeSelection","presetOptions","selectedPresetOption","setFrom","setTo","selectedOption","setSelectedOption","TZ","customOption","getRangesForOption","selectionOptions","optionKeys","currentOption","isCustomSelection","setIsCustomSelection","selectionOptionsWithCustomOption","onSelection","ranges","customSelection","TimeRangeSelector","calendarRef","onTimeRangeSelected","useTimeRangeSelectionConfig","selectOptions","onSelectedOptionChanged","rangeSelectionInProgress","cachedTimestamp","TimeRangeSelector$1","property","isPropDescriptor","setter","propsProperty","deepImmutable","$props","maybeDescriptor","isDescriptor","CalendarGridRenderToken","CalendarGridRenderToken2","DEFAULT_DATE_CELL_CLASSNAME","DEFAULT_DATE_TIME_CLASSNAME","getGridDateRenderProps","computedProps","prepare","renderProps","CalendarGridDate","datetime","flags","onlyCellsWithin","cursorElementRef","withinMonth","withinRange","extendedProps","CalendarGridDate$1","DEFAULT_CELL_CLASSNAME","DEFAULT_CELL_ABBR_CLASSNAME","getGridDayOfWeekRenderProps","CalendarGridDayOfWeek","longLabel","shortLabel","__","childClassName","extendedChildProps","childClasses","CalendarGridDayOfWeek$1","CalendarGrid","cursorRootProps","block","row","rowindex","DAY_MS","DAY_OF_WEEK_FORMATS","FIRST_WEEK_DAYS","FRAME_SIZES","MAXIMUM_MONTH_UNITS","WEEKEND_DAYS_SEED","CONTROLS_ALL","CONTROLS_MINIMAL","CONTROLS_NONE","CALENDAR_CONTROLS","SELECT_MANY","SELECT_NONE","SELECT_ONE","CALENDAR_SELECTIONS","CURSOR_BACKWARD","CURSOR_BLOCK_END","CURSOR_BLOCK_START","CURSOR_DOWNWARD","CURSOR_FORWARD","CURSOR_LINE_END","CURSOR_LINE_START","CURSOR_NEXT_BLOCK","CURSOR_PREV_BLOCK","CURSOR_UPWARD","RANGE_FROM","RANGE_TO","SELECTION_COLLAPSE","SELECTION_FARTHEST","SELECTION_FROM","SELECTION_NEAREST","SELECTION_TO","SHIFT_BLOCK","SHIFT_FRAME","SHIFT_PERIOD","downsizeTimeFrame","maxsize","resolveTimeFrameBlockSize","getWeekendDays","seed","__TimeSlice__","_numberOfMonths","_endTimestamp","_endTimestampOffset","_startTimestampOffset","__privateWrapper","slice","UNBOUNDED_SLICE","sinceNow","untilNow","timeslice","TimeFlag","CalendarShiftControlFlag","CalendarShiftControlsFlag","createFlagsRecord","CACHE","FLAG_PROPS","isFlagProp","flagsTruncated","createFlagsRecord$1","indexedProxyGetTrap","mapIteratorFactory","thisArg","__INDEXED_PROTO__","createIndexed","iterablePropertyDescriptorsOrSize","iteratorValueGetter","today","timezones","getTimestampWithTomorrowOffset","withTimestamp","currentTimestamp","nextTimestamp","tomorrowOffset","getTimestamp","refreshTimestamps","today$1","_TimeFrame","_applyTimeSliceUpdate","_getClampedFrameOffset","_getContainedTimestamp","_getFrameBlockAtIndex","_shiftFrameCursorByOffset","_shiftOrigin","_shiftOriginIfNecessary","_cursorBlockIndex","_cursorBlockStartIndex","_cursorBlockEndIndex","_cursorStartIndex","_cursorEndIndex","_cursorIndex","_cursorOffset","_cursorTimestamp","_dynamicBlockHeight","_effect","_firstWeekDay","_frameBlocksCached","_DEFAULT_LOCALE","_maxFrameSize","_selectionStartTimestamp","_selectionEndTimestamp","_size","__timeslice","_timeslice","_timezone","_today","_unwatchCurrentDay","_fromTimestamp","_toTimestamp","_fromBlockOffsetFromOrigin","_toBlockOffsetFromOrigin","_numberOfBlocks","_numberOfUnits","_daysOfWeek","_frameBlocks","getFrameBlockAtIndex_fn","bool","effect","currentLocale","nextFrameSize","shiftOriginIfNecessary_fn","$timeslice","applyTimeSliceUpdate_fn","skipCursorRefresh","cursorBlock","startIndex","endIndex","nextCursorTimestamp","getContainedTimestamp_fn","nextCursorOffset","clampedNextCursorOffset","firstBlock","lastBlock","offsetType","shiftOrigin_fn","nextCursorPosition","shiftFrameCursorByOffset_fn","currentStart","currentEnd","startDistance","endDistance","span","selectionStartTimestamp","selectionEndTimestamp","getClampedFrameOffset_fn","frameOffset","withMidRangeFallback","clampedTimestamp","blockStartIndex","indexOffset","clampedOffset","size_1","TimeFrame","MonthFrame","_getBlockTimestampOffsetFromOrigin","_getDayOffsetTimestamp","_getStartForTimestamp","_updateSelectionTimestamps","_daysInWeek","_daysOfWeekCached","_daysOfWeekend","_currentDayTimestamp","_originMonthStartOffset","_originMonthStartTimestamp","_originYear","_selectionFromTimestamp","_selectionToTimestamp","labelDescriptors","getBlockTimestampOffsetFromOrigin_fn","monthDays","innerStartIndex","innerEndIndex","outerStartIndex","outerEndAfterIndex","numberOfUnits","proxyForIndexPropertyAccess","startTimestamp","originYear","originMonth","weekStartTimestamp","getDayOffsetTimestamp_fn","updateSelectionTimestamps_fn","getStartForTimestamp_fn","offsetYear","originTimestamp","fromTimestamp","dayOffset","restampedTimestamp","hrs","mins","timeOffset","_NO_EXCEPTION","createEffectStack","_stack","exception","Calendar$2","_currentConfig","_timeframe","_canShiftInDirection","_configure","_cursorHandle","_getShiftControlRecordAtIndex","_getShiftFactorFromEvent","_highlight","_clearHighlight","_rangeHighlight","_restoreHighlight","_reframe","_refreshHighlighting","_refreshShiftControls","_destructed","_highlightFrom","_highlightTo","_highlightInProgress","_highlightSelection","_pendingWatchNotification","_rangeOffsets","_lastHighlightRange","_cursorIndexFromEvent","_shiftFactorFromEvent","_watchCallback","_watchableEffect","_unwatch","_shiftControlsHandles","_shiftControlsList","_shiftControls","getShiftControlRecordAtIndex_fn","_watchlist","_lastWatchableSnapshot","_chainedNotifyEffectStack","_chainedWatchEffectStack","currentConfig_get","_grid","configure_fn","watchCallback","_watchableEffectCallback","_withNotifyEffect","withNotifyEffect_fn","cursorHandle_fn","blank","clearHighlight_fn","rangeHighlight_fn","_DAYS_OF_WEEK_FALLBACK","destruct_fn","_RANGE_OFFSETS_FORMAT_REGEX","_CURSOR_POINTER_INTERACTION_EVENTS","_SHIFT_ACTIVATION_KEYS","_SHIFT_ALL_CONTROLS","_SHIFT_MINIMAL_CONTROLS","_getOffsetsFromRange","getOffsetsFromRange_fn","range","_getShiftOffsetType","getShiftOffsetType_fn","_getShiftOffsetUnit","getShiftOffsetUnit_fn","timeframe_get","canShiftInDirection_fn","shiftDirection","highlight","minified","reframe_fn","refreshShiftControls_fn","refreshHighlighting_fn","highlight_fn","cursorIndex","isClick","control","shiftOffsetType","shiftOffsetUnit","canShift","shiftFactor","getShiftFactorFromEvent_fn","factor","secretFauxHighlightingHint","toTimestamp","selectionDirection","isFauxHighlighting","selectionStartDay","selectionStartDayEndTimestamp","selectionEndDay","selectionEndDayStartTimestamp","rangeOffsets","restoreHighlight_fn","controlsChanged","highlightChanged","selectionChanged","highlightRange","calendar","init","kill","Calendar","calendar$1","CalendarControls","controls","renderer","handle","useFocusCursor","finallyCallback","useFocusCursor$1","useCalendar","blocks","dynamicBlockRows","onHighlight","originDate","renderControl","sinceDate","trackCurrentDay","untilDate","useYearView","lastMutationTimestamp","setLastMutationTimestamp","activeControls","activeHighlight","highlightStart","highlightEnd","pointerHandle","useImperativeHandle","origins","useCalendar$1","useDetachedRender","targetRef","setRender","renderTarget","useDetachedRender$1","useCalendarControlsRendering","directionModifier","labelModifier","Chevron","shouldRenderControl","useCalendarControlsRendering$1","DatePicker","controlsRenderer","controlsContainerRef","lastUpdatedTimestamp","setLastUpdatedTimestamp","datePickerClassName","timezoneI18nOptions","DatePicker$1","DEFAULT_FILTER_BUTTON_CLASSNAME","FilterButton","FilterButton$1","isValueEmptyFallback","renderFallback","DefaultEditModalBody","editAction","onValueUpdated","setCurrentValue","InputText","BaseFilter","editMode","_updateEditMode","editModalMounting","updateEditModalMounting","isValueEmpty","hasEmptyValue","updateHasEmptyValue","hasInitialValue","updateHasInitialValue","valueChanged","updateValueChanged","disabledApply","updateDisabledApply","renderModalBody","closeEditDialog","openEditDialog","updateEditMode","mode","isOnlySmDevice","isOnlyMdDevice","DateRangeFilterParam","formattingOptions","computeDateFilterValue","fromDate","toDate","resolveDate","renderDateFilterModalBody","DateFilterEditModalBody","showTimezoneInfo","timeRangePresetOptions","presetOption","setPresetOption","datePickerRef","customDateRangeFormat","DateFilterCore","selectedPresetOptionValue","setSelectedPresetOption","fromValue","toValue","dateTimeFormatter","_formattingOptions","DateFilter","defaultParams","refreshNowTimestamp","defaultTimeRangePreset","selectedTimeRangePreset","setSelectedTimeRangePreset","updateCreatedDateFilter","DateFilter$1","hasCallback","useModalDetails","selectedDetail","setSelectedDetail","updateDetails","resetDetails","detailsToShow","MultiSelectionFilter","updateSelection","MultiSelectionFilter$1","selectionOptionsFor","useMultiSelectionFilter","filterParam","filterValues","useMultiSelectionFilter$1","TRANSACTIONS_OVERVIEW_MULTI_SELECTION_FILTERS","DEFAULT_TRANSACTIONS_OVERVIEW_MULTI_SELECTION_FILTER_PARAMS","TRANSACTION_CATEGORIES","TRANSACTION_STATUSES","getDefaultFilterParams","timeRangeOptions","defaultTimeRange","useDefaultOverviewFilterParams","filterType","setNowTimestamp","useDefaultOverviewFilterParams$1","DataOverviewHeader","titleKey","descriptionKey","CLASSNAMES","ModalContent","restData","detailProps","DataDetailsModal","isModalOpen","PayoutsOverview","allowLimitSelection","onRecordSelection","isLoadingBalanceAccount","payoutsEndpointCall","getPayouts","filterBarState","_onFiltersChanged","payoutDetails","modalOptions","PayoutsOverviewContainer","PayoutsElement","Payouts","PayoutsElement$1","TransactionElement","TransactionElement$1","DIVIDER_CLASS_NAMES","Divider","Header","hasDivider","subtitleKey","ITEM_CLASS","CONTAINER_CLASS","CONTAINER_BUTTON_CLASS","CONTAINER_FILLED_CLASS","CONTAINER_HIDDEN_CLASS","CONTAINER_OVERLAY_CLASS","CONTAINER_OVERLAY_ID","CONTENT_CLASS","CONTENT_EXPANDABLE_CLASS","CHEVRON_CLASS","DEFAULT_BASE_BUTTON_CLASSNAME","BaseButton","BaseButton$1","ExpandableCard","setIsOpen","toggleIsOpen","expandButtonRef","isClosedFromOutside","isOpenRef","clickOutsideRef","ExpandableCard$1","MARGIN_CLASS","LOADING_CLASS","AmountSkeleton","hasMargin","AmountSkeleton$1","LABEL_CONTAINER_CLASS","LABEL_CONTAINER_CLASS_LOADING","BODY_CLASS","LABEL_CLASS","PLACEHOLDER_CLASS","SummaryItemLabel","isSkeletonVisible","SummaryItem","columnConfigs","isHeader","widths","onWidthsSet","isEmpty","newWidths","getColumnStyle","isXsScreen","typographyVariant","isLongValue","TransactionTotalItem","hiddenField","isSkeleton","incomingRef","expenseRef","currencyRef","incomingsConfig","expensesConfig","BaseList","useMaxWidthsState","maxWidths","setMaxWidths","setMaxWidthsConditionally","currentMaxWidths","currentMaxWidth","TotalsCard","totals","setIsHovered","firstTotal","restOfTotals","TransactionTotals","isAvailableCurrenciesFetching","createdSince","createdUntil","categories","maxAmount","minAmount","currencies","getTransactionTotals","fetchCallback","partialTotals","TransactionTotals$1","BalanceItem","balance","amountRef","Balances","defaultCurrencyCode","onCurrenciesChange","getAccountsBalance","balances","firstCurrency","secondCurrency","firstBalance","restOfBalances","useTransactionsOverviewMultiSelectionFilters","filtersConfig","categoriesFilter","statusesFilter","currenciesFilter","useTransactionsOverviewMultiSelectionFilters$1","AMOUNT_MULTIPLIER","RangeSelection","selectedCurrencies","setMinAmount","setMaxAmount","applyFilter","clearFilter","filterValue","AmountFilter","setValue","formattedValue","setValueFormattedValue","showCurrencySymbol","showSymbol","onFilterChange","_BASE_CLASS","SUMMARY_CLASS","SUMMARY_ITEM_CLASS","MAX_TRANSACTIONS_DATE_RANGE_MONTHS","useCustomColumnsData","onDataRetrieved","mergeCustomData","customRecords","setCustomRecords","loadingCustomRecords","setLoadingCustomRecords","mergedRecords","retrievedData","TransactionsOverview","transactionsEndpointCall","getTransactions","setAvailableCurrencies","setIsAvailableCurrenciesFetching","handleCurrenciesChange","isNarrowViewport","transactionDetails","getExtraFieldsById","retrievedItem","TransactionsOverviewContainer","TransactionsElement","Transactions","TransactionsElement$1","CAPITAL_OFFER_CLASS_NAMES","CapitalHeader","InfoBox","InfoBoxTag","InfoBox$1","dateStartUTCTimestampOffset","getExpectedRepaymentDate","expectedRepaymentPeriodDays","calculateMaximumRepaymentPeriodInMonths","debounce","func","timeoutId","lastArgs","debounced","getPaymentRatePercentage","rate","calculateProgress","step","effectiveStep","percentage","calculateSliderAdjustedMidValue","minValue","maxValue","adjustedMid","Slider","restOfProps","progress","CapitalSlider","dynamicOffersConfig","onValueChange","onRelease","handleValueChange","handleRelease","CapitalSlider$1","COMMON_CAPITAL_ERROR_MESSAGE","UNKNOWN_ERROR","getCapitalErrorMessage","errorCodeMessage","CapitalErrorMessageDisplay","emptyGrantOffer","onBack","capitalError","CAPITAL_REPAYMENT_FREQUENCY","LoadingSkeleton","InformationDisplay","expectedRepaymentDate","val","CapitalOfferSelection","dynamicOffersConfigError","onOfferDismiss","onOfferSelect","requestedAmount","requestedValue","setRequestedValue","createGrantOffer","getDynamicGrantOffer","getDynamicGrantOfferMutation","setIsLoading","reviewOfferMutation","onReview","getOffer","debouncedGetOfferCall","onChangeHandler","handleSliderRelease","loadingButtonState","errorMessageWithAlert","CapitalOfferSummary","grantOffer","onFundsRequest","requestFunds","requestFundsMutation","requestFundsCallback","onRequestFundsHandler","maximumRepaymentPeriod","requestErrorAlert","structuredListItems","summaryItems","showWarningIcon","CapitalOffer","externalDynamicOffersConfig","getDynamicGrantOffersConfiguration","setEmptyGrantOffer","internalDynamicOffersConfig","selectedOffer","setSelectedOffer","setRequestedAmount","onOfferSelectHandler","capitalOfferState","CapitalOfferElement","CapitalOfferElement$1","useFreezePeriod","timeout","frozen","setFrozen","rafId","freeze","useFreezePeriod$1","Download","Download$1","useDownload","endpointName","downloadEndpoint","useDownload$1","downloadBlob","clickHandler","DownloadButton","onDownloadRequested","setFetchData","Warning","Warning$1","DISABLED_BUTTONS_TIMEOUT","DATE_TYPE_CLASS","DATE_TYPE_DATE_SECTION_CLASS","ReportsTable","alert","setAlert","fieldsVisibility","removeAlert","errorIcon","onDownloadErrorAlert","alertDetails","ReportsOverview","reportsEndpointCall","getReports","ReportsOverviewContainer","ReportsElement","Reports","ReportsElement$1","CAPITAL_OVERVIEW_CLASS_NAMES","unqualifiedImage","Unqualified","Unqualified$1","PreQualifiedIntro","dynamicOffer","onSeeOptions","PreQualifiedIntro$1","PreQualified","skipPreQualifiedIntro","onOfferOptionsRequest","capitalOfferSelection","setCapitalOfferSelection","goToCapitalOffer","onSeeOptionsHandler","goBackToPreviousStep","goBackToIntro","ProgressBar","tooltips","shouldDisplayLegend","ariaLabel","ProgressBarSegment","tooltipContent","getContent","ProgressBar$1","GRANT_ITEM_CLASS_NAMES","getHasDetails","getIsBackgroundFilled","getAmountLabelKey","getAmount","grant","getStatusKey","missingActions","getStatusTagVariant","getRepaymentPeriodEndDate","repaymentPeriodLeft","endDate","getStatusTooltipKey","pendingToS","getGrantConfig","isGrantActive","isGrantPending","GRANT_DETAILS_CLASS_NAMES","EXPANDABLE_CONTAINER_CLASS_NAMES","ExpandableContainer","contentId","prevIsOpen","GrantDetails","maximumRepaymentPeriodMonths","GRANT_ACTION_CLASS_NAMES","getTopWindowHref","setTopWindowHref","GrantAction","offerExpiresAt","signToSActionDetails","shouldRedirectToToS","setShouldRedirectToToS","GrantItem","grantConfig","Tabs","availableTabs","defaultTab","tab","selectedIndex","setSelectedIndex","tabRefs","setIndex","keyMap","List","grants","GrantsDisplay","grantList","newOfferAvailable","onNewOfferRequest","activeGrants","inactiveGrants","inactive","displayMode","showNewOfferButton","GrantList","goToNextStep","goBackToList","goBackToGrantListOnFundsRequest","CapitalOverview","grantsEndpointCall","dynamicConfigurationEndpointCall","grantsQuery","dynamicOfferQuery","requestedGrant","setRequestedGrant","handleFundsRequest","showError","CapitalOverviewElement","getGrants","CapitalOverviewElement$1","AdyenPlatformExperience"],"mappings":"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IAAK,MACL,IAAK,KACL,IAAK,KACL,IAAK,IACL,IAAK,MACL,IAAK,KACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,MACL,IAAK,IACL,IAAK,IACL,IAAK,KACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,KACL,IAAK,IACL,IAAK,KACL,IAAK,KACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,MACL,IAAK,IACL,IAAK,KACL,IAAK,IACL,IAAK,KACL,IAAK,IACL,IAAK,MACL,IAAK,KACL,IAAK,IACL,IAAK,KACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,KACL,IAAK,KACL,IAAK,MACL,IAAK,MACL,IAAK,KACL,IAAK,MACL,IAAK,IACL,IAAK,IACL,IAAK,OACL,IAAK,IACL,IAAK,KACL,IAAK,KACL,IAAK,IACL,IAAK,KACL,IAAK,KACL,IAAK,IACL,IAAK,IACL,IAAK,KACL,IAAK,KACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,MACL,IAAK,MACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,KACL,IAAK,KACL,IAAK,IACL,IAAK,IACL,IAAK,MACL,IAAK,OACL,IAAK,IACL,IAAK,KACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,OACL,IAAK,KACL,IAAK,IACL,IAAK,IACL,IAAK,KACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,KACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,KACL,IAAK,IACL,IAAK,MACL,IAAK,KACL,IAAK,IACL,IAAK,IACL,IAAK,MACL,IAAK,IACL,IAAK,MACL,IAAK,MACL,IAAK,IACL,IAAK,MACL,IAAK,IACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,IACL,IAAK,KACL,IAAK,MACL,IAAK,OACL,IAAK,IACL,IAAK,IACL,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","x_google_ignoreList":[56,57,58,61]}